(self.webpackChunktemp=self.webpackChunktemp||[]).push([[179],{963:(rc,ic,Y)=>{"use strict";function Ge(n){return"function"==typeof n}function Sa(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Ia=Sa(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function no(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Jt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Ge(r))try{r()}catch(s){e=s instanceof Ia?s.errors:[s]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const s of i)try{he(s)}catch(c){e=null!=e?e:[],c instanceof Ia?e=[...e,...c.errors]:e.push(c)}}if(e)throw new Ia(e)}}add(e){var t;if(e&&e!==this)if(this.closed)he(e);else{if(e instanceof Jt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(t=this._teardowns)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&no(t,e)}remove(e){const{_teardowns:t}=this;t&&no(t,e),e instanceof Jt&&e._removeParent(this)}}Jt.EMPTY=(()=>{const n=new Jt;return n.closed=!0,n})();const an=Jt.EMPTY;function Mn(n){return n instanceof Jt||n&&"closed"in n&&Ge(n.remove)&&Ge(n.add)&&Ge(n.unsubscribe)}function he(n){Ge(n)?n():n.unsubscribe()}const Gn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},St={setTimeout(...n){const{delegate:e}=St;return((null==e?void 0:e.setTimeout)||setTimeout)(...n)},clearTimeout(n){const{delegate:e}=St;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function Ta(n){St.setTimeout(()=>{const{onUnhandledError:e}=Gn;if(!e)throw n;e(n)})}function tt(){}const Ma=Oe("C",void 0,void 0);function Oe(n,e,t){return{kind:n,value:e,error:t}}let it=null;function Ai(n){if(Gn.useDeprecatedSynchronousErrorHandling){const e=!it;if(e&&(it={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=it;if(it=null,t)throw r}}else n()}class J extends Jt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Mn(e)&&e.add(this)):this.destination=Se}static create(e,t,r){return new Je(e,t,r)}next(e){this.isStopped?ln(function zt(n){return Oe("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ln(function sc(n){return Oe("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ln(Ma,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Je extends J{constructor(e,t,r){let i;if(super(),Ge(e))i=e;else if(e){let s;({next:i,error:t,complete:r}=e),this&&Gn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe()):s=e,i=null==i?void 0:i.bind(s),t=null==t?void 0:t.bind(s),r=null==r?void 0:r.bind(s)}this.destination={next:i?q(i):tt,error:q(null!=t?t:$i),complete:r?q(r):tt}}}function q(n,e){return(...t)=>{try{n(...t)}catch(r){Gn.useDeprecatedSynchronousErrorHandling?function xt(n){Gn.useDeprecatedSynchronousErrorHandling&&it&&(it.errorThrown=!0,it.error=n)}(r):Ta(r)}}}function $i(n){throw n}function ln(n,e){const{onStoppedNotification:t}=Gn;t&&St.setTimeout(()=>t(n,e))}const Se={closed:!0,next:tt,error:$i,complete:tt},nt="function"==typeof Symbol&&Symbol.observable||"@@observable";function wt(n){return n}let ae=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function Qr(n){return n&&n instanceof J||function Zr(n){return n&&Ge(n.next)&&Ge(n.error)&&Ge(n.complete)}(n)&&Mn(n)}(t)?t:new Je(t,r,i);return Ai(()=>{const{operator:c,source:h}=this;s.add(c?c.call(s,h):h?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Ki(r))((i,s)=>{let c;c=this.subscribe(h=>{try{t(h)}catch(p){s(p),null==c||c.unsubscribe()}},s,i)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[nt](){return this}pipe(...t){return function Bt(n){return 0===n.length?wt:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=Ki(t))((r,i)=>{let s;this.subscribe(c=>s=c,c=>i(c),()=>r(s))})}}return n.create=e=>new n(e),n})();function Ki(n){var e;return null!==(e=null!=n?n:Gn.Promise)&&void 0!==e?e:Promise}const oc=Sa(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ke=(()=>{class n extends ae{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Jr(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new oc}next(t){Ai(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(t)}})}error(t){Ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?an:(s.push(t),new Jt(()=>no(s,t)))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new ae;return t.source=this,t}}return n.create=(e,t)=>new Jr(e,t),n})();class Jr extends ke{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:an}}function cn(n){return Ge(null==n?void 0:n.lift)}function bt(n){return e=>{if(cn(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class ne extends J{constructor(e,t,r,i,s){super(e),this.onFinalize=s,this._next=t?function(c){try{t(c)}catch(h){e.error(h)}}:super._next,this._error=i?function(c){try{i(c)}catch(h){e.error(h)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}function Fe(n,e){return bt((t,r)=>{let i=0;t.subscribe(new ne(r,s=>{r.next(n.call(e,s,i++))}))})}function gr(n){return this instanceof gr?(this.v=n,this):new gr(n)}function Na(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(b){r[b]&&(i[b]=function(S){return new Promise(function(M,O){s.push([b,S,M,O])>1||h(b,S)})})}function h(b,S){try{!function p(b){b.value instanceof gr?Promise.resolve(b.value.v).then(y,v):C(s[0][2],b)}(r[b](S))}catch(M){C(s[0][3],M)}}function y(b){h("next",b)}function v(b){h("throw",b)}function C(b,S){b(S),s.shift(),s.length&&h(s[0][0],s[0][1])}}function cc(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Ye(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(c){return new Promise(function(h,p){!function i(s,c,h,p){Promise.resolve(p).then(function(y){s({value:y,done:h})},c)}(h,p,(c=n[s](c)).done,c.value)})}}}const Q=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function ao(n){return Ge(null==n?void 0:n.then)}function dt(n){return Ge(n[nt])}function Dt(n){return Symbol.asyncIterator&&Ge(null==n?void 0:n[Symbol.asyncIterator])}function Qi(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ka=function Pa(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function $e(n){return Ge(null==n?void 0:n[ka])}function vs(n){return Na(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield gr(t.read());if(i)return yield gr(void 0);yield yield gr(r)}}finally{t.releaseLock()}})}function Fa(n){return Ge(null==n?void 0:n.getReader)}function Nn(n){if(n instanceof ae)return n;if(null!=n){if(dt(n))return function Zn(n){return new ae(e=>{const t=n[nt]();if(Ge(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Q(n))return function La(n){return new ae(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(ao(n))return function Si(n){return new ae(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ta)})}(n);if(Dt(n))return Es(n);if($e(n))return function Ji(n){return new ae(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Fa(n))return function yr(n){return Es(vs(n))}(n)}throw Qi(n)}function Es(n){return new ae(e=>{(function Ud(n,e){var t,r,i,s;return function Fr(n,e,t,r){return new(t||(t=Promise))(function(s,c){function h(v){try{y(r.next(v))}catch(C){c(C)}}function p(v){try{y(r.throw(v))}catch(C){c(C)}}function y(v){v.done?s(v.value):function i(s){return s instanceof t?s:new t(function(c){c(s)})}(v.value).then(h,p)}y((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=cc(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(c){i={error:c}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function mn(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function at(n,e,t=1/0){return Ge(e)?at((r,i)=>Fe((s,c)=>e(r,s,i,c))(Nn(n(r,i))),t):("number"==typeof e&&(t=e),bt((r,i)=>function Ba(n,e,t,r,i,s,c,h){const p=[];let y=0,v=0,C=!1;const b=()=>{C&&!p.length&&!y&&e.complete()},S=O=>y<r?M(O):p.push(O),M=O=>{s&&e.next(O),y++;let k=!1;Nn(t(O,v++)).subscribe(new ne(e,j=>{null==i||i(j),s?S(j):e.next(j)},()=>{k=!0},void 0,()=>{if(k)try{for(y--;p.length&&y<r;){const j=p.shift();c?mn(e,c,()=>M(j)):M(j)}b()}catch(j){e.error(j)}}))};return n.subscribe(new ne(e,S,()=>{C=!0,b()})),()=>{null==h||h()}}(r,i,n,t)))}function Qn(n=1/0){return at(wt,n)}const xn=new ae(n=>n.complete());function Ua(n){return n&&Ge(n.schedule)}function On(n){return n[n.length-1]}function uc(n){return Ge(On(n))?n.pop():void 0}function Cs(n){return Ua(On(n))?n.pop():void 0}function ja(n,e=0){return bt((t,r)=>{t.subscribe(new ne(r,i=>mn(r,n,()=>r.next(i),e),()=>mn(r,n,()=>r.complete(),e),i=>mn(r,n,()=>r.error(i),e)))})}function dc(n,e=0){return bt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function hc(n,e){if(!n)throw new Error("Iterable cannot be null");return new ae(t=>{mn(t,e,()=>{const r=n[Symbol.asyncIterator]();mn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function V(n,e){return e?function Va(n,e){if(null!=n){if(dt(n))return function jd(n,e){return Nn(n).pipe(dc(e),ja(e))}(n,e);if(Q(n))return function Hd(n,e){return new ae(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(ao(n))return function Vd(n,e){return Nn(n).pipe(dc(e),ja(e))}(n,e);if(Dt(n))return hc(n,e);if($e(n))return function ei(n,e){return new ae(t=>{let r;return mn(t,e,()=>{r=n[ka](),mn(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(c){return void t.error(c)}s?t.complete():t.next(i)},0,!0)}),()=>Ge(null==r?void 0:r.return)&&r.return()})}(n,e);if(Fa(n))return function ti(n,e){return hc(vs(n),e)}(n,e)}throw Qi(n)}(n,e):Nn(n)}function fc(...n){const e=Cs(n),t=function lo(n,e){return"number"==typeof On(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Nn(r[0]):Qn(t)(V(r,e)):xn}function lt(n){return n<=0?()=>xn:bt((e,t)=>{let r=0;e.subscribe(new ne(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Ii(n={}){const{connector:e=(()=>new ke),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let c=null,h=null,p=null,y=0,v=!1,C=!1;const b=()=>{null==h||h.unsubscribe(),h=null},S=()=>{b(),c=p=null,v=C=!1},M=()=>{const O=c;S(),null==O||O.unsubscribe()};return bt((O,k)=>{y++,!C&&!v&&b();const j=p=null!=p?p:e();k.add(()=>{y--,0===y&&!C&&!v&&(h=Ha(M,i))}),j.subscribe(k),c||(c=new Je({next:L=>j.next(L),error:L=>{C=!0,b(),h=Ha(S,t,L),j.error(L)},complete:()=>{v=!0,b(),h=Ha(S,r),j.complete()}}),V(O).subscribe(c))})(s)}}function Ha(n,e,...t){return!0===e?(n(),null):!1===e?null:e(...t).pipe(lt(1)).subscribe(()=>n())}function me(n){for(let e in n)if(n[e]===me)return e;throw Error("Could not find renamed property on target object.")}function Ke(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ie(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ie).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function xs(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const za=me({__forward_ref__:me});function bs(n){return n.__forward_ref__=bs,n.toString=function(){return ie(this())},n}function pe(n){return function Lr(n){return"function"==typeof n&&n.hasOwnProperty(za)&&n.__forward_ref__===bs}(n)?n():n}class Ze extends Error{constructor(e,t){super(function ts(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Te(n){return"string"==typeof n?n:null==n?"":String(n)}function It(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Te(n)}function I(n,e){const t=e?` in ${e}`:"";throw new Ze(-201,`No provider for ${It(n)} found${t}`)}function Pn(n,e){null==n&&function vt(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function ge(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function je(n){return{providers:n.providers||[],imports:n.imports||[]}}function Wa(n){return ho(n,ni)||ho(n,ns)}function ho(n,e){return n.hasOwnProperty(e)?n[e]:null}function yc(n){return n&&(n.hasOwnProperty(fo)||n.hasOwnProperty(_c))?n[fo]:null}const ni=me({\u0275prov:me}),fo=me({\u0275inj:me}),ns=me({ngInjectableDef:me}),_c=me({ngInjectorDef:me});var be=(()=>((be=be||{})[be.Default=0]="Default",be[be.Host=1]="Host",be[be.Self=2]="Self",be[be.SkipSelf=4]="SkipSelf",be[be.Optional=8]="Optional",be))();let Ga;function Br(n){const e=Ga;return Ga=n,e}function Ya(n,e,t){const r=Wa(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&be.Optional?null:void 0!==e?e:void I(ie(n),"Injector")}function ri(n){return{toString:n}.toString()}var er=(()=>((er=er||{})[er.OnPush=0]="OnPush",er[er.Default=1]="Default",er))(),qn=(()=>{return(n=qn||(qn={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",qn;var n})();const po="undefined"!=typeof globalThis&&globalThis,ii="undefined"!=typeof window&&window,Yd="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ce=po||"undefined"!=typeof global&&global||ii||Yd,Ri={},ft=[],go=me({\u0275cmp:me}),Xa=me({\u0275dir:me}),rs=me({\u0275pipe:me}),Pt=me({\u0275mod:me}),tr=me({\u0275fac:me}),_r=me({__NG_ELEMENT_ID__:me});let mo=0;function _n(n){return ri(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===er.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||ft,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||qn.Emulated,id:"c",styles:n.styles||ft,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,s=n.features,c=n.pipes;return r.id+=mo++,r.inputs=Cc(n.inputs,t),r.outputs=Cc(n.outputs),s&&s.forEach(h=>h(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(_e):null,r.pipeDefs=c?()=>("function"==typeof c?c():c).map(vc):null,r})}function _e(n){return en(n)||function wr(n){return n[Xa]||null}(n)}function vc(n){return function si(n){return n[rs]||null}(n)}const mt={};function Tt(n){return ri(()=>{const e={type:n.type,bootstrap:n.bootstrap||ft,declarations:n.declarations||ft,imports:n.imports||ft,exports:n.exports||ft,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(mt[n.id]=n.type),e})}function Cc(n,e){if(null==n)return Ri;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const Vt=_n;function en(n){return n[go]||null}function kn(n,e){const t=n[Pt]||null;if(!t&&!0===e)throw new Error(`Type ${ie(n)} does not have '\u0275mod' property.`);return t}const a=16,u=18,d=19,f=20;function _(n){return Array.isArray(n)&&"object"==typeof n[1]}function E(n){return Array.isArray(n)&&!0===n[1]}function x(n){return 0!=(8&n.flags)}function D(n){return 2==(2&n.flags)}function T(n){return 1==(1&n.flags)}function R(n){return null!==n.template}function N(n){return 0!=(512&n[2])}function Is(n,e){return n.hasOwnProperty(tr)?n[tr]:null}class zx{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Ts(){return u0}function u0(n){return n.type.prototype.ngOnChanges&&(n.setInput=Gx),Wx}function Wx(){const n=h0(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===Ri)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Gx(n,e,t,r){const i=h0(n)||function Yx(n,e){return n[d0]=e}(n,{previous:Ri,current:null}),s=i.current||(i.current={}),c=i.previous,h=this.declaredInputs[t],p=c[h];s[h]=new zx(p&&p.currentValue,e,c===Ri),n[r]=e}Ts.ngInherit=!0;const d0="__ngSimpleChanges__";function h0(n){return n[d0]||null}let $d;function kt(n){return!!n.listen}const g0={createRenderer:(n,e)=>function Kd(){return void 0!==$d?$d:"undefined"!=typeof document?document:void 0}()};function Yt(n){for(;Array.isArray(n);)n=n[0];return n}function xc(n,e){return Yt(e[n])}function Cr(n,e){return Yt(e[n.index])}function Zd(n,e){return n.data[e]}function rr(n,e){const t=e[n];return _(t)?t:t[0]}function m0(n){return 4==(4&n[2])}function Qd(n){return 128==(128&n[2])}function is(n,e){return null==e?null:n[e]}function y0(n){n[u]=0}function Jd(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const Me={lFrame:D0(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function _0(){return Me.bindingsEnabled}function G(){return Me.lFrame.lView}function et(){return Me.lFrame.tView}function tn(){let n=v0();for(;null!==n&&64===n.type;)n=n.parent;return n}function v0(){return Me.lFrame.currentTNode}function ui(n,e){const t=Me.lFrame;t.currentTNode=n,t.isParent=e}function eh(){return Me.lFrame.isParent}function th(){Me.lFrame.isParent=!1}function bc(){return Me.isInCheckNoChangesMode}function Ac(n){Me.isInCheckNoChangesMode=n}function vo(){return Me.lFrame.bindingIndex++}function ob(n,e){const t=Me.lFrame;t.bindingIndex=t.bindingRootIndex=n,nh(e)}function nh(n){Me.lFrame.currentDirectiveIndex=n}function rh(n){const e=Me.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function x0(){return Me.lFrame.currentQueryIndex}function ih(n){Me.lFrame.currentQueryIndex=n}function lb(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function b0(n,e,t){if(t&be.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&be.Host||(i=lb(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=Me.lFrame=A0();return r.currentTNode=e,r.lView=n,!0}function Dc(n){const e=A0(),t=n[1];Me.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function A0(){const n=Me.lFrame,e=null===n?null:n.child;return null===e?D0(n):e}function D0(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function S0(){const n=Me.lFrame;return Me.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const I0=S0;function Sc(){const n=S0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function jn(){return Me.lFrame.selectedIndex}function ss(n){Me.lFrame.selectedIndex=n}function Ft(){const n=Me.lFrame;return Zd(n.tView,n.selectedIndex)}function Ic(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:h,ngAfterViewInit:p,ngAfterViewChecked:y,ngOnDestroy:v}=s;c&&(n.contentHooks||(n.contentHooks=[])).push(-t,c),h&&((n.contentHooks||(n.contentHooks=[])).push(t,h),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,h)),p&&(n.viewHooks||(n.viewHooks=[])).push(-t,p),y&&((n.viewHooks||(n.viewHooks=[])).push(t,y),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,y)),null!=v&&(n.destroyHooks||(n.destroyHooks=[])).push(t,v)}}function Tc(n,e,t){T0(n,e,3,t)}function Mc(n,e,t,r){(3&n[2])===t&&T0(n,e,t,r)}function sh(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function T0(n,e,t,r){const s=null!=r?r:-1,c=e.length-1;let h=0;for(let p=void 0!==r?65535&n[u]:0;p<c;p++)if("number"==typeof e[p+1]){if(h=e[p],null!=r&&h>=r)break}else e[p]<0&&(n[u]+=65536),(h<s||-1==s)&&(yb(n,t,e,p),n[u]=(4294901760&n[u])+p+2),p++}function yb(n,e,t,r){const i=t[r]<0,s=t[r+1],h=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[u]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(h)}finally{}}}else try{s.call(h)}finally{}}class $a{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Rc(n,e,t){const r=kt(n);let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const c=t[i++],h=t[i++],p=t[i++];r?n.setAttribute(e,h,p,c):e.setAttributeNS(c,h,p)}else{const c=s,h=t[++i];ah(c)?r&&n.setProperty(e,c,h):r?n.setAttribute(e,c,h):e.setAttribute(c,h),i++}}return i}function M0(n){return 3===n||4===n||6===n}function ah(n){return 64===n.charCodeAt(0)}function Nc(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||R0(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function R0(n,e,t,r,i){let s=0,c=n.length;if(-1===e)c=-1;else for(;s<n.length;){const h=n[s++];if("number"==typeof h){if(h===e){c=-1;break}if(h>e){c=s-1;break}}}for(;s<n.length;){const h=n[s];if("number"==typeof h)break;if(h===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==c&&(n.splice(c,0,e),s=c+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function N0(n){return-1!==n}function Eo(n){return 32767&n}function Co(n,e){let t=function Cb(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let lh=!0;function Oc(n){const e=lh;return lh=n,e}let xb=0;function Za(n,e){const t=uh(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,ch(r.data,n),ch(e,null),ch(r.blueprint,null));const i=Pc(n,e),s=n.injectorIndex;if(N0(i)){const c=Eo(i),h=Co(i,e),p=h[1].data;for(let y=0;y<8;y++)e[s+y]=h[c+y]|p[c+y]}return e[s+8]=i,s}function ch(n,e){n.push(0,0,0,0,0,0,0,0,e)}function uh(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Pc(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const s=i[1],c=s.type;if(r=2===c?s.declTNode:1===c?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function kc(n,e,t){!function bb(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(_r)&&(r=t[_r]),null==r&&(r=t[_r]=xb++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function k0(n,e,t){if(t&be.Optional)return n;I(e,"NodeInjector")}function F0(n,e,t,r){if(t&be.Optional&&void 0===r&&(r=null),0==(t&(be.Self|be.Host))){const i=n[9],s=Br(void 0);try{return i?i.get(e,r,t&be.Optional):Ya(e,r,t&be.Optional)}finally{Br(s)}}return k0(r,e,t)}function L0(n,e,t,r=be.Default,i){if(null!==n){const s=function Ib(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(_r)?n[_r]:void 0;return"number"==typeof e?e>=0?255&e:Db:e}(t);if("function"==typeof s){if(!b0(e,n,r))return r&be.Host?k0(i,t,r):F0(e,t,r,i);try{const c=s(r);if(null!=c||r&be.Optional)return c;I(t)}finally{I0()}}else if("number"==typeof s){let c=null,h=uh(n,e),p=-1,y=r&be.Host?e[a][6]:null;for((-1===h||r&be.SkipSelf)&&(p=-1===h?Pc(n,e):e[h+8],-1!==p&&j0(r,!1)?(c=e[1],h=Eo(p),e=Co(p,e)):h=-1);-1!==h;){const v=e[1];if(U0(s,h,v.data)){const C=Sb(h,e,t,c,r,y);if(C!==B0)return C}p=e[h+8],-1!==p&&j0(r,e[1].data[h+8]===y)&&U0(s,h,e)?(c=v,h=Eo(p),e=Co(p,e)):h=-1}}}return F0(e,t,r,i)}const B0={};function Db(){return new xo(tn(),G())}function Sb(n,e,t,r,i,s){const c=e[1],h=c.data[n+8],v=Fc(h,c,t,null==r?D(h)&&lh:r!=c&&0!=(3&h.type),i&be.Host&&s===h);return null!==v?Qa(e,c,v,h):B0}function Fc(n,e,t,r,i){const s=n.providerIndexes,c=e.data,h=1048575&s,p=n.directiveStart,v=s>>20,b=i?h+v:n.directiveEnd;for(let S=r?h:h+v;S<b;S++){const M=c[S];if(S<p&&t===M||S>=p&&M.type===t)return S}if(i){const S=c[p];if(S&&R(S)&&S.type===t)return p}return null}function Qa(n,e,t,r){let i=n[t];const s=e.data;if(function _b(n){return n instanceof $a}(i)){const c=i;c.resolving&&function pt(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Ze(-200,`Circular dependency in DI detected for ${n}${t}`)}(It(s[t]));const h=Oc(c.canSeeViewProviders);c.resolving=!0;const p=c.injectImpl?Br(c.injectImpl):null;b0(n,r,be.Default);try{i=n[t]=c.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function mb(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const c=u0(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,c),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,c)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==p&&Br(p),Oc(h),c.resolving=!1,I0()}}return i}function U0(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function j0(n,e){return!(n&be.Self||n&be.Host&&e)}class xo{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return L0(this._tNode,this._lView,e,r,t)}}function bo(n){return function Ab(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(M0(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(tn(),n)}const Do="__parameters__";function Io(n,e,t){return ri(()=>{const r=function hh(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const c=new i(...s);return h.annotation=c,h;function h(p,y,v){const C=p.hasOwnProperty(Do)?p[Do]:Object.defineProperty(p,Do,{value:[]})[Do];for(;C.length<=v;)C.push(null);return(C[v]=C[v]||[]).push(c),p}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class we{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ge({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Rb=new we("AnalyzeForEntryComponents");function xr(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),xr(r,e)):e!==n&&e.push(r)}return e}function di(n,e){n.forEach(t=>Array.isArray(t)?di(t,e):e(t))}function H0(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Lc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function tl(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function ir(n,e,t){let r=To(n,e);return r>=0?n[1|r]=t:(r=~r,function Pb(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function ph(n,e){const t=To(n,e);if(t>=0)return n[1|t]}function To(n,e){return function G0(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),c=n[s<<t];if(e===c)return s<<t;c>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const nl={},mh="__NG_DI_FLAG__",Uc="ngTempTokenPath",Vb=/\n/gm,X0="__source",zb=me({provide:String,useValue:me});let rl;function q0(n){const e=rl;return rl=n,e}function Wb(n,e=be.Default){if(void 0===rl)throw new Error("inject() must be called from an injection context");return null===rl?Ya(n,void 0,e):rl.get(n,e&be.Optional?null:void 0,e)}function z(n,e=be.Default){return(function bn(){return Ga}()||Wb)(pe(n),e)}const yh=z;function _h(n){const e=[];for(let t=0;t<n.length;t++){const r=pe(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,s=be.Default;for(let c=0;c<r.length;c++){const h=r[c],p=Gb(h);"number"==typeof p?-1===p?i=h.token:s|=p:i=h}e.push(z(i,s))}else e.push(z(r))}return e}function il(n,e){return n[mh]=e,n.prototype[mh]=e,n}function Gb(n){return n[mh]}const sl=il(Io("Inject",n=>({token:n})),-1),sr=il(Io("Optional"),8),Ms=il(Io("SkipSelf"),4);let Vc;function Ro(n){var e;return(null===(e=function vh(){if(void 0===Vc&&(Vc=null,ce.trustedTypes))try{Vc=ce.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Vc}())||void 0===e?void 0:e.createHTML(n))||n}class Rs{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class iA extends Rs{getTypeName(){return"HTML"}}class sA extends Rs{getTypeName(){return"Style"}}class oA extends Rs{getTypeName(){return"Script"}}class aA extends Rs{getTypeName(){return"URL"}}class lA extends Rs{getTypeName(){return"ResourceURL"}}function or(n){return n instanceof Rs?n.changingThisBreaksApplicationSecurity:n}function hi(n,e){const t=r1(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}function r1(n){return n instanceof Rs&&n.getTypeName()||null}class pA{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Ro(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class gA{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Ro(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=Ro(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const c=t.item(i).name;("xmlns:ns1"===c||0===c.indexOf("ns1:"))&&e.removeAttribute(c)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const yA=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,_A=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function al(n){return(n=String(n)).match(yA)||n.match(_A)?n:"unsafe:"+n}function o1(n){return(n=String(n)).split(",").map(e=>al(e.trim())).join(", ")}function fi(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function ll(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const a1=fi("area,br,col,hr,img,wbr"),l1=fi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),c1=fi("rp,rt"),Ch=ll(a1,ll(l1,fi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ll(c1,fi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ll(c1,l1)),xh=fi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),bh=fi("srcset"),u1=ll(xh,bh,fi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),fi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),wA=fi("script,style,template");class vA{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Ch.hasOwnProperty(t))return this.sanitizedSomething=!0,!wA.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),c=s.name,h=c.toLowerCase();if(!u1.hasOwnProperty(h)){this.sanitizedSomething=!0;continue}let p=s.value;xh[h]&&(p=al(p)),bh[h]&&(p=o1(p)),this.buf.push(" ",c,'="',d1(p),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Ch.hasOwnProperty(t)&&!a1.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(d1(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const EA=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,CA=/([^\#-~ |!])/g;function d1(n){return n.replace(/&/g,"&amp;").replace(EA,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(CA,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let zc;function h1(n,e){let t=null;try{zc=zc||function s1(n){const e=new gA(n);return function mA(){try{return!!(new window.DOMParser).parseFromString(Ro(""),"text/html")}catch(n){return!1}}()?new pA(e):e}(n);let r=e?String(e):"";t=zc.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=zc.getInertBodyElement(r)}while(r!==s);return Ro((new vA).sanitizeChildren(Ah(t)||t))}finally{if(t){const r=Ah(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Ah(n){return"content"in n&&function xA(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ct=(()=>((ct=ct||{})[ct.NONE=0]="NONE",ct[ct.HTML=1]="HTML",ct[ct.STYLE=2]="STYLE",ct[ct.SCRIPT=3]="SCRIPT",ct[ct.URL=4]="URL",ct[ct.RESOURCE_URL=5]="RESOURCE_URL",ct))();const g1="__ngContext__";function An(n,e){n[g1]=e}function Ih(n){const e=function ul(n){return n[g1]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function Mh(n){return n.ngOriginalError}function jA(n,...e){n.error(...e)}class ki{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=function UA(n){return n&&n.ngErrorLogger||jA}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Mh(e);for(;t&&Mh(t);)t=Mh(t);return t||null}}const v1=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ce))();function pi(n){return n instanceof Function?n():n}var ar=(()=>((ar=ar||{})[ar.Important=1]="Important",ar[ar.DashCase=2]="DashCase",ar))();function Nh(n,e){return undefined(n,e)}function dl(n){const e=n[3];return E(e)?e[3]:e}function Oh(n){return A1(n[13])}function Ph(n){return A1(n[4])}function A1(n){for(;null!==n&&!E(n);)n=n[4];return n}function Oo(n,e,t,r,i){if(null!=r){let s,c=!1;E(r)?s=r:_(r)&&(c=!0,r=r[0]);const h=Yt(r);0===n&&null!==t?null==i?R1(e,t,h):Ns(e,t,h,i||null,!0):1===n&&null!==t?Ns(e,t,h,i||null,!0):2===n?function B1(n,e,t){const r=Wc(n,e);r&&function cD(n,e,t,r){kt(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,h,c):3===n&&e.destroyNode(h),null!=s&&function hD(n,e,t,r,i){const s=t[7];s!==Yt(t)&&Oo(e,n,r,s,i);for(let h=10;h<t.length;h++){const p=t[h];hl(p[1],p,n,e,r,s)}}(e,n,s,t,i)}}function Fh(n,e,t){return kt(n)?n.createElement(e,t):null===t?n.createElement(e):n.createElementNS(t,e)}function S1(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Jd(i,-1)),t.splice(r,1)}function Lh(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&S1(i,r),e>0&&(n[t-1][4]=r[4]);const s=Lc(n,10+e);!function tD(n,e){hl(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const c=s[d];null!==c&&c.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function I1(n,e){if(!(256&e[2])){const t=e[11];kt(t)&&t.destroyNode&&hl(n,e,t,3,null,null),function iD(n){let e=n[13];if(!e)return Bh(n[1],n);for(;e;){let t=null;if(_(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)_(e)&&Bh(e[1],e),e=e[3];null===e&&(e=n),_(e)&&Bh(e[1],e),t=e&&e[4]}e=t}}(e)}}function Bh(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function lD(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof $a)){const s=t[r+1];if(Array.isArray(s))for(let c=0;c<s.length;c+=2){const h=i[s[c]],p=s[c+1];try{p.call(h)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function aD(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const c=t[s+1],h="function"==typeof c?c(e):Yt(e[c]),p=r[i=t[s+2]],y=t[s+3];"boolean"==typeof y?h.removeEventListener(t[s],p,y):y>=0?r[i=y]():r[i=-y].unsubscribe(),s+=2}else{const c=r[i=t[s+1]];t[s].call(c)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(n,e),1===e[1].type&&kt(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&E(e[3])){t!==e[3]&&S1(t,e);const r=e[d];null!==r&&r.detachView(n)}}}function T1(n,e,t){return function M1(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===qn.None||i===qn.Emulated)return null}return Cr(r,t)}(n,e.parent,t)}function Ns(n,e,t,r,i){kt(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function R1(n,e,t){kt(n)?n.appendChild(e,t):e.appendChild(t)}function N1(n,e,t,r,i){null!==r?Ns(n,e,t,r,i):R1(n,e,t)}function Wc(n,e){return kt(n)?n.parentNode(e):e.parentNode}function O1(n,e,t){return k1(n,e,t)}let k1=function P1(n,e,t){return 40&n.type?Cr(n,t):null};function Gc(n,e,t,r){const i=T1(n,r,e),s=e[11],h=O1(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let p=0;p<t.length;p++)N1(s,i,t[p],h,!1);else N1(s,i,t,h,!1)}function Yc(n,e){if(null!==e){const t=e.type;if(3&t)return Cr(e,n);if(4&t)return jh(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Yc(n,r);{const i=n[e.index];return E(i)?jh(-1,i):Yt(i)}}if(32&t)return Nh(e,n)()||Yt(n[e.index]);{const r=L1(n,e);return null!==r?Array.isArray(r)?r[0]:Yc(dl(n[a]),r):Yc(n,e.next)}}return null}function L1(n,e){return null!==e?n[a][6].projection[e.projection]:null}function jh(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Yc(r,i)}return e[7]}function Vh(n,e,t,r,i,s,c){for(;null!=t;){const h=r[t.index],p=t.type;if(c&&0===e&&(h&&An(Yt(h),r),t.flags|=4),64!=(64&t.flags))if(8&p)Vh(n,e,t.child,r,i,s,!1),Oo(e,n,i,h,s);else if(32&p){const y=Nh(t,r);let v;for(;v=y();)Oo(e,n,i,v,s);Oo(e,n,i,h,s)}else 16&p?U1(n,e,r,t,i,s):Oo(e,n,i,h,s);t=c?t.projectionNext:t.next}}function hl(n,e,t,r,i,s){Vh(t,r,n.firstChild,e,i,s,!1)}function U1(n,e,t,r,i,s){const c=t[a],p=c[6].projection[r.projection];if(Array.isArray(p))for(let y=0;y<p.length;y++)Oo(e,n,i,p[y],s);else Vh(n,e,p,c[3],i,s,!0)}function j1(n,e,t){kt(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function Hh(n,e,t){kt(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function V1(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const H1="ng-template";function pD(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==V1(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function z1(n){return 4===n.type&&n.value!==H1}function gD(n,e,t){return e===(4!==n.type||t?n.value:H1)}function mD(n,e,t){let r=4;const i=n.attrs||[],s=function wD(n){for(let e=0;e<n.length;e++)if(M0(n[e]))return e;return n.length}(i);let c=!1;for(let h=0;h<e.length;h++){const p=e[h];if("number"!=typeof p){if(!c)if(4&r){if(r=2|1&r,""!==p&&!gD(n,p,t)||""===p&&1===e.length){if(Vr(r))return!1;c=!0}}else{const y=8&r?p:e[++h];if(8&r&&null!==n.attrs){if(!pD(n.attrs,y,t)){if(Vr(r))return!1;c=!0}continue}const C=yD(8&r?"class":p,i,z1(n),t);if(-1===C){if(Vr(r))return!1;c=!0;continue}if(""!==y){let b;b=C>s?"":i[C+1].toLowerCase();const S=8&r?b:null;if(S&&-1!==V1(S,y,0)||2&r&&y!==b){if(Vr(r))return!1;c=!0}}}}else{if(!c&&!Vr(r)&&!Vr(p))return!1;if(c&&Vr(p))continue;c=!1,r=p|1&r}}return Vr(r)||c}function Vr(n){return 0==(1&n)}function yD(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const c=e[i];if(c===n)return i;if(3===c||6===c)s=!0;else{if(1===c||2===c){let h=e[++i];for(;"string"==typeof h;)h=e[++i];continue}if(4===c)break;if(0===c){i+=4;continue}}i+=s?1:2}return-1}return function vD(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function W1(n,e,t=!1){for(let r=0;r<e.length;r++)if(mD(n,e[r],t))return!0;return!1}function ED(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function G1(n,e){return n?":not("+e.trim()+")":e}function CD(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let c=n[t];if("string"==typeof c)if(2&r){const h=n[++t];i+="["+c+(h.length>0?'="'+h+'"':"")+"]"}else 8&r?i+="."+c:4&r&&(i+=" "+c);else""!==i&&!Vr(c)&&(e+=G1(s,i),i=""),r=c,s=s||!Vr(r);t++}return""!==i&&(e+=G1(s,i)),e}const Ne={};function Os(n){Y1(et(),G(),jn()+n,bc())}function Y1(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&Tc(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Mc(e,s,0,t)}ss(t)}function Xc(n,e){return n<<17|e<<2}function Hr(n){return n>>17&32767}function zh(n){return 2|n}function Fi(n){return(131068&n)>>2}function Wh(n,e){return-131069&n|e<<2}function Gh(n){return 1|n}function rm(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const c=n.data[s];ih(i),c.contentQueries(2,e[s],s)}}}function fl(n,e,t,r,i,s,c,h,p,y){const v=e.blueprint.slice();return v[0]=i,v[2]=140|r,y0(v),v[3]=v[15]=n,v[8]=t,v[10]=c||n&&n[10],v[11]=h||n&&n[11],v[12]=p||n&&n[12]||null,v[9]=y||n&&n[9]||null,v[6]=s,v[a]=2==e.type?n[a]:v,v}function Po(n,e,t,r,i){let s=n.data[e];if(null===s)s=function ef(n,e,t,r,i){const s=v0(),c=eh(),p=n.data[e]=function jD(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,c?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=p),null!==s&&(c?null==s.child&&null!==p.parent&&(s.child=p):null===s.next&&(s.next=p)),p}(n,e,t,r,i),function sb(){return Me.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const c=function qa(){const n=Me.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===c?-1:c.injectorIndex}return ui(s,!0),s}function ko(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function pl(n,e,t){Dc(e);try{const r=n.viewQuery;null!==r&&df(1,r,t);const i=n.template;null!==i&&im(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&rm(n,e),n.staticViewQueries&&df(2,n.viewQuery,t);const s=n.components;null!==s&&function LD(n,e){for(let t=0;t<e.length;t++)s2(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,Sc()}}function Fo(n,e,t,r){const i=e[2];if(256==(256&i))return;Dc(e);const s=bc();try{y0(e),function E0(n){return Me.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&im(n,e,t,2,r);const c=3==(3&i);if(!s)if(c){const y=n.preOrderCheckHooks;null!==y&&Tc(e,y,null)}else{const y=n.preOrderHooks;null!==y&&Mc(e,y,0,null),sh(e,0)}if(function n2(n){for(let e=Oh(n);null!==e;e=Ph(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(1024&i[2])&&Jd(s,1),i[2]|=1024}}}(e),function t2(n){for(let e=Oh(n);null!==e;e=Ph(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];Qd(r)&&Fo(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&rm(n,e),!s)if(c){const y=n.contentCheckHooks;null!==y&&Tc(e,y)}else{const y=n.contentHooks;null!==y&&Mc(e,y,1),sh(e,1)}!function kD(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)ss(~i);else{const s=i,c=t[++r],h=t[++r];ob(c,s),h(2,e[s])}}}finally{ss(-1)}}(n,e);const h=n.components;null!==h&&function FD(n,e){for(let t=0;t<e.length;t++)r2(n,e[t])}(e,h);const p=n.viewQuery;if(null!==p&&df(2,p,r),!s)if(c){const y=n.viewCheckHooks;null!==y&&Tc(e,y)}else{const y=n.viewHooks;null!==y&&Mc(e,y,2),sh(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Jd(e[3],-1))}finally{Sc()}}function BD(n,e,t,r){const i=e[10],s=!bc(),c=m0(e);try{s&&!c&&i.begin&&i.begin(),c&&pl(n,e,r),Fo(n,e,t,r)}finally{s&&!c&&i.end&&i.end()}}function im(n,e,t,r,i){const s=jn(),c=2&r;try{ss(-1),c&&e.length>f&&Y1(n,e,f,bc()),t(r,i)}finally{ss(s)}}function tf(n,e,t){!_0()||(function XD(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||Za(t,e),An(r,e);const c=t.initialInputs;for(let h=i;h<s;h++){const p=n.data[h],y=R(p);y&&QD(e,t,p);const v=Qa(e,n,h,t);An(v,e),null!==c&&JD(0,h-i,v,p,0,c),y&&(rr(t.index,e)[8]=v)}}(n,e,t,Cr(t,e)),128==(128&t.flags)&&function qD(n,e,t){const r=t.directiveStart,i=t.directiveEnd,c=t.index,h=function ab(){return Me.lFrame.currentDirectiveIndex}();try{ss(c);for(let p=r;p<i;p++){const y=n.data[p],v=e[p];nh(p),(null!==y.hostBindings||0!==y.hostVars||null!==y.hostAttrs)&&fm(y,v)}}finally{ss(-1),nh(h)}}(n,e,t))}function nf(n,e,t=Cr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const c=r[s+1],h=-1===c?t(e,n):n[c];n[i++]=h}}}function om(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Kc(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Kc(n,e,t,r,i,s,c,h,p,y){const v=f+r,C=v+i,b=function UD(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ne);return t}(v,C),S="function"==typeof y?y():y;return b[1]={type:n,blueprint:b,template:t,queries:null,viewQuery:h,declTNode:e,data:b.slice().fill(null,v),bindingStartIndex:v,expandoStartIndex:C,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof c?c():c,firstChild:null,schemas:p,consts:S,incompleteFirstPass:!1}}function cm(n,e,t,r){const i=wm(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&vm(n).push(r,i.length-1))}function um(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function lr(n,e,t,r,i,s,c,h){const p=Cr(e,t);let v,y=e.inputs;!h&&null!=y&&(v=y[r])?(xm(n,t,v,r,i),D(e)&&function zD(n,e){const t=rr(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function HD(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=c?c(i,e.value||"",r):i,kt(s)?s.setProperty(p,r,i):ah(r)||(p.setProperty?p.setProperty(r,i):p[r]=i))}function rf(n,e,t,r){let i=!1;if(_0()){const s=function $D(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const c=r[s];W1(t,c.selectors,!1)&&(i||(i=[]),kc(Za(t,e),n,c.type),R(c)?(pm(n,t),i.unshift(c)):i.push(c))}return i}(n,e,t),c=null===r?null:{"":-1};if(null!==s){i=!0,gm(t,n.data.length,s.length);for(let v=0;v<s.length;v++){const C=s[v];C.providersResolver&&C.providersResolver(C)}let h=!1,p=!1,y=ko(n,e,s.length,null);for(let v=0;v<s.length;v++){const C=s[v];t.mergedAttrs=Nc(t.mergedAttrs,C.hostAttrs),mm(n,t,e,y,C),ZD(y,C,c),null!==C.contentQueries&&(t.flags|=8),(null!==C.hostBindings||null!==C.hostAttrs||0!==C.hostVars)&&(t.flags|=128);const b=C.type.prototype;!h&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),h=!0),!p&&(b.ngOnChanges||b.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),p=!0),y++}!function VD(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,c=[];let h=null,p=null;for(let y=e.directiveStart;y<r;y++){const v=i[y],C=v.inputs,b=null===s||z1(e)?null:e2(C,s);c.push(b),h=um(C,y,h),p=um(v.outputs,y,p)}null!==h&&(h.hasOwnProperty("class")&&(e.flags|=16),h.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=c,e.inputs=h,e.outputs=p}(n,t)}c&&function KD(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new Ze(-301,`Export of name '${e[i+1]}' not found!`);r.push(e[i],s)}}}(t,r,c)}return t.mergedAttrs=Nc(t.mergedAttrs,t.attrs),i}function hm(n,e,t,r,i,s){const c=s.hostBindings;if(c){let h=n.hostBindingOpCodes;null===h&&(h=n.hostBindingOpCodes=[]);const p=~e.index;(function YD(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(h)!=p&&h.push(p),h.push(r,i,c)}}function fm(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function pm(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function ZD(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;R(e)&&(t[""]=n)}}function gm(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function mm(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Is(i.type)),c=new $a(s,R(i),null);n.blueprint[r]=c,t[r]=c,hm(n,e,0,r,ko(n,t,i.hostVars,Ne),i)}function QD(n,e,t){const r=Cr(e,n),i=om(t),s=n[10],c=Zc(n,fl(n,i,null,t.onPush?64:16,r,e,s,s.createRenderer(r,t),null,null));n[e.index]=c}function gi(n,e,t,r,i,s){const c=Cr(n,e);!function sf(n,e,t,r,i,s,c){if(null==s)kt(n)?n.removeAttribute(e,i,t):e.removeAttribute(i);else{const h=null==c?Te(s):c(s,r||"",i);kt(n)?n.setAttribute(e,i,h,t):t?e.setAttributeNS(t,i,h):e.setAttribute(i,h)}}(e[11],c,s,n.value,t,r,i)}function JD(n,e,t,r,i,s){const c=s[e];if(null!==c){const h=r.setInput;for(let p=0;p<c.length;){const y=c[p++],v=c[p++],C=c[p++];null!==h?r.setInput(t,C,y,v):t[v]=C}}}function e2(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function ym(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function r2(n,e){const t=rr(e,n);if(Qd(t)){const r=t[1];80&t[2]?Fo(r,t,r.template,t[8]):t[5]>0&&af(t)}}function af(n){for(let r=Oh(n);null!==r;r=Ph(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const c=s[1];Fo(c,s,c.template,s[8])}else s[5]>0&&af(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=rr(t[r],n);Qd(i)&&i[5]>0&&af(i)}}function s2(n,e){const t=rr(e,n),r=t[1];(function o2(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),pl(r,t,t[8])}function Zc(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function lf(n){for(;n;){n[2]|=64;const e=dl(n);if(N(n)&&!e)return n;n=e}return null}function uf(n,e,t){const r=e[10];r.begin&&r.begin();try{Fo(n,e,n.template,t)}catch(i){throw Cm(e,i),i}finally{r.end&&r.end()}}function _m(n){!function cf(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=Ih(t),i=r[1];BD(i,r,i.template,t)}}(n[8])}function df(n,e,t){ih(0),e(n,t)}const u2=(()=>Promise.resolve(null))();function wm(n){return n[7]||(n[7]=[])}function vm(n){return n.cleanup||(n.cleanup=[])}function Em(n,e,t){return(null===n||R(n))&&(t=function Kx(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(t[e.index])),t[11]}function Cm(n,e){const t=n[9],r=t?t.get(ki,null):null;r&&r.handleError(e)}function xm(n,e,t,r,i){for(let s=0;s<t.length;){const c=t[s++],h=t[s++],p=e[c],y=n.data[c];null!==y.setInput?y.setInput(p,i,r,h):p[h]=i}}function Li(n,e,t){const r=xc(e,n);!function D1(n,e,t){kt(n)?n.setValue(e,t):e.textContent=t}(n[11],r,t)}function Qc(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let c=0;c<e.length;c++){const h=e[c];"number"==typeof h?s=h:1==s?i=xs(i,h):2==s&&(r=xs(r,h+": "+e[++c]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const hf=new we("INJECTOR",-1);class bm{get(e,t=nl){if(t===nl){const r=new Error(`NullInjectorError: No provider for ${ie(e)}!`);throw r.name="NullInjectorError",r}return t}}const ff=new we("Set Injector scope."),gl={},f2={};let pf;function Am(){return void 0===pf&&(pf=new bm),pf}function Dm(n,e=null,t=null,r){const i=Sm(n,e,t,r);return i._resolveInjectorDefTypes(),i}function Sm(n,e=null,t=null,r){return new p2(n,t,e||Am(),r)}class p2{constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&di(t,h=>this.processProvider(h,e,t)),di([e],h=>this.processInjectorType(h,[],s)),this.records.set(hf,Lo(void 0,this));const c=this.records.get(ff);this.scope=null!=c?c.value:null,this.source=i||("object"==typeof e?null:ie(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=nl,r=be.Default){this.assertNotDestroyed();const i=q0(this),s=Br(void 0);try{if(!(r&be.SkipSelf)){let h=this.records.get(e);if(void 0===h){const p=function C2(n){return"function"==typeof n||"object"==typeof n&&n instanceof we}(e)&&Wa(e);h=p&&this.injectableDefInScope(p)?Lo(gf(e),gl):null,this.records.set(e,h)}if(null!=h)return this.hydrate(e,h)}return(r&be.Self?Am():this.parent).get(e,t=r&be.Optional&&t===nl?null:t)}catch(c){if("NullInjectorError"===c.name){if((c[Uc]=c[Uc]||[]).unshift(ie(e)),i)throw c;return function Yb(n,e,t,r){const i=n[Uc];throw e[X0]&&i.unshift(e[X0]),n.message=function Xb(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=ie(e);if(Array.isArray(e))i=e.map(ie).join(" -> ");else if("object"==typeof e){let s=[];for(let c in e)if(e.hasOwnProperty(c)){let h=e[c];s.push(c+":"+("string"==typeof h?JSON.stringify(h):ie(h)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Vb,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Uc]=null,n}(c,e,"R3InjectorError",this.source)}throw c}finally{Br(s),q0(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(ie(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,r){if(!(e=pe(e)))return!1;let i=yc(e);const s=null==i&&e.ngModule||void 0,c=void 0===s?e:s,h=-1!==r.indexOf(c);if(void 0!==s&&(i=yc(s)),null==i)return!1;if(null!=i.imports&&!h){let v;r.push(c);try{di(i.imports,C=>{this.processInjectorType(C,t,r)&&(void 0===v&&(v=[]),v.push(C))})}finally{}if(void 0!==v)for(let C=0;C<v.length;C++){const{ngModule:b,providers:S}=v[C];di(S,M=>this.processProvider(M,b,S||ft))}}this.injectorDefTypes.add(c);const p=Is(c)||(()=>new c);this.records.set(c,Lo(p,gl));const y=i.providers;if(null!=y&&!h){const v=e;di(y,C=>this.processProvider(C,v,y))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,r){let i=Bo(e=pe(e))?e:pe(e&&e.provide);const s=function m2(n,e,t){return Tm(n)?Lo(void 0,n.useValue):Lo(function Im(n,e,t){let r;if(Bo(n)){const i=pe(n);return Is(i)||gf(i)}if(Tm(n))r=()=>pe(n.useValue);else if(function _2(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(..._h(n.deps||[]));else if(function y2(n){return!(!n||!n.useExisting)}(n))r=()=>z(pe(n.useExisting));else{const i=pe(n&&(n.useClass||n.provide));if(!function v2(n){return!!n.deps}(n))return Is(i)||gf(i);r=()=>new i(..._h(n.deps))}return r}(n),gl)}(e);if(Bo(e)||!0!==e.multi)this.records.get(i);else{let c=this.records.get(i);c||(c=Lo(void 0,gl,!0),c.factory=()=>_h(c.multi),this.records.set(i,c)),i=e,c.multi.push(e)}this.records.set(i,s)}hydrate(e,t){return t.value===gl&&(t.value=f2,t.value=t.factory()),"object"==typeof t.value&&t.value&&function E2(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=pe(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function gf(n){const e=Wa(n),t=null!==e?e.factory:Is(n);if(null!==t)return t;if(n instanceof we)throw new Error(`Token ${ie(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function g2(n){const e=n.length;if(e>0){const r=tl(e,"?");throw new Error(`Can't resolve all parameters for ${ie(n)}: (${r.join(", ")}).`)}const t=function mc(n){const e=n&&(n[ni]||n[ns]);if(e){const t=function Mi(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Error("unreachable")}function Lo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Tm(n){return null!==n&&"object"==typeof n&&zb in n}function Bo(n){return"function"==typeof n}let Xt=(()=>{class n{static create(t,r){var i;if(Array.isArray(t))return Dm({name:""},r,t,"");{const s=null!==(i=t.name)&&void 0!==i?i:"";return Dm({name:s},t.parent,t.providers,s)}}}return n.THROW_IF_NOT_FOUND=nl,n.NULL=new bm,n.\u0275prov=ge({token:n,providedIn:"any",factory:()=>z(hf)}),n.__NG_ELEMENT_ID__=-1,n})();function M2(n,e){Ic(Ih(n)[1],tn())}function Ps(n){let e=function Vm(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(R(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(t){r.push(i);const c=n;c.inputs=_f(n.inputs),c.declaredInputs=_f(n.declaredInputs),c.outputs=_f(n.outputs);const h=i.hostBindings;h&&P2(n,h);const p=i.viewQuery,y=i.contentQueries;if(p&&N2(n,p),y&&O2(n,y),Ke(n.inputs,i.inputs),Ke(n.declaredInputs,i.declaredInputs),Ke(n.outputs,i.outputs),R(i)&&i.data.animation){const v=n.data;v.animation=(v.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let c=0;c<s.length;c++){const h=s[c];h&&h.ngInherit&&h(n),h===Ps&&(t=!1)}}e=Object.getPrototypeOf(e)}!function R2(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Nc(i.hostAttrs,t=Nc(t,i.hostAttrs))}}(r)}function _f(n){return n===Ri?{}:n===ft?[]:n}function N2(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function O2(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function P2(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let Jc=null;function Uo(){if(!Jc){const n=ce.Symbol;if(n&&n.iterator)Jc=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Jc=r)}}}return Jc}function ml(n){return!!wf(n)&&(Array.isArray(n)||!(n instanceof Map)&&Uo()in n)}function wf(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Dn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function jo(n,e,t,r){const i=G();return Dn(i,vo(),e)&&(et(),gi(Ft(),i,n,e,t,r)),jo}function vf(n,e,t,r,i,s,c,h){const p=G(),y=et(),v=n+f,C=y.firstCreatePass?function V2(n,e,t,r,i,s,c,h,p){const y=e.consts,v=Po(e,n,4,c||null,is(y,h));rf(e,t,v,is(y,p)),Ic(e,v);const C=v.tViews=Kc(2,v,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,y);return null!==e.queries&&(e.queries.template(e,v),C.queries=e.queries.embeddedTView(v)),v}(v,y,p,e,t,r,i,s,c):y.data[v];ui(C,!1);const b=p[11].createComment("");Gc(y,p,b,C),An(b,p),Zc(p,p[v]=ym(b,p,b,C)),T(C)&&tf(y,p,C),null!=c&&nf(p,C,h)}function ee(n,e=be.Default){const t=G();return null===t?z(n,e):L0(tn(),t,pe(n),e)}function Af(){throw new Error("invalid")}function nu(n,e,t){const r=G();return Dn(r,vo(),e)&&lr(et(),Ft(),r,n,e,r[11],t,!1),nu}function Df(n,e,t,r,i){const c=i?"class":"style";xm(n,t,e.inputs[c],c,r)}function qt(n,e,t,r){const i=G(),s=et(),c=f+n,h=i[11],p=i[c]=Fh(h,e,function gb(){return Me.lFrame.currentNamespace}()),y=s.firstCreatePass?function cS(n,e,t,r,i,s,c){const h=e.consts,y=Po(e,n,2,i,is(h,s));return rf(e,t,y,is(h,c)),null!==y.attrs&&Qc(y,y.attrs,!1),null!==y.mergedAttrs&&Qc(y,y.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,y),y}(c,s,i,0,e,t,r):s.data[c];ui(y,!0);const v=y.mergedAttrs;null!==v&&Rc(h,p,v);const C=y.classes;null!==C&&Hh(h,p,C);const b=y.styles;null!==b&&j1(h,p,b),64!=(64&y.flags)&&Gc(s,i,p,y),0===function Jx(){return Me.lFrame.elementDepthCount}()&&An(p,i),function eb(){Me.lFrame.elementDepthCount++}(),T(y)&&(tf(s,i,y),function sm(n,e,t){if(x(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const c=n.data[s];c.contentQueries&&c.contentQueries(1,t[s],s)}}}(s,y,i)),null!==r&&nf(i,y)}function $t(){let n=tn();eh()?th():(n=n.parent,ui(n,!1));const e=n;!function tb(){Me.lFrame.elementDepthCount--}();const t=et();t.firstCreatePass&&(Ic(t,n),x(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function vb(n){return 0!=(16&n.flags)}(e)&&Df(t,e,G(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Eb(n){return 0!=(32&n.flags)}(e)&&Df(t,e,G(),e.stylesWithoutHost,!1)}function cs(n,e,t,r){qt(n,e,t,r),$t()}function ru(n){return!!n&&"function"==typeof n.then}const dy=function uy(n){return!!n&&"function"==typeof n.subscribe};function Bi(n,e,t,r){const i=G(),s=et(),c=tn();return hy(s,i,i[11],c,n,e,!!t,r),Bi}function Sf(n,e){const t=tn(),r=G(),i=et();return hy(i,r,Em(rh(i.data),t,r),t,n,e,!1),Sf}function hy(n,e,t,r,i,s,c,h){const p=T(r),v=n.firstCreatePass&&vm(n),C=e[8],b=wm(e);let S=!0;if(3&r.type||h){const k=Cr(r,e),j=h?h(k):k,L=b.length,$=h?oe=>h(Yt(oe[r.index])):r.index;if(kt(t)){let oe=null;if(!h&&p&&(oe=function hS(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const c=i[s];if(c===t&&i[s+1]===r){const h=e[7],p=i[s+2];return h.length>p?h[p]:null}"string"==typeof c&&(s+=2)}return null}(n,e,i,r.index)),null!==oe)(oe.__ngLastListenerFn__||oe).__ngNextListenerFn__=s,oe.__ngLastListenerFn__=s,S=!1;else{s=If(r,e,C,s,!1);const Re=t.listen(j,i,s);b.push(s,Re),v&&v.push(i,$,L,L+1)}}else s=If(r,e,C,s,!0),j.addEventListener(i,s,c),b.push(s),v&&v.push(i,$,L,c)}else s=If(r,e,C,s,!1);const M=r.outputs;let O;if(S&&null!==M&&(O=M[i])){const k=O.length;if(k)for(let j=0;j<k;j+=2){const Ct=e[O[j]][O[j+1]].subscribe(s),_t=b.length;b.push(s,Ct),v&&v.push(i,r.index,_t,-(_t+1))}}}function fy(n,e,t,r){try{return!1!==t(r)}catch(i){return Cm(n,i),!1}}function If(n,e,t,r,i){return function s(c){if(c===Function)return r;const h=2&n.flags?rr(n.index,e):e;0==(32&e[2])&&lf(h);let p=fy(e,0,r,c),y=s.__ngNextListenerFn__;for(;y;)p=fy(e,0,y,c)&&p,y=y.__ngNextListenerFn__;return i&&!1===p&&(c.preventDefault(),c.returnValue=!1),p}}function Tf(n=1){return function cb(n){return(Me.lFrame.contextLView=function ub(n,e){for(;n>0;)e=e[15],n--;return e}(n,Me.lFrame.contextLView))[8]}(n)}function fS(n,e){let t=null;const r=function _D(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?W1(n,s,!0):ED(r,s))return i}else t=i}return t}function iu(n){const e=G()[a][6];if(!e.projection){const r=e.projection=tl(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const c=n?fS(s,n):0;null!==c&&(i[c]?i[c].projectionNext=s:r[c]=s,i[c]=s),s=s.next}}}function _l(n,e=0,t){const r=G(),i=et(),s=Po(i,f+n,16,null,t||null);null===s.projection&&(s.projection=e),th(),64!=(64&s.flags)&&function dD(n,e,t){U1(e[11],0,e,t,T1(n,t,e),O1(t.parent||e[6],t,e))}(i,r,s)}function xy(n,e,t,r,i){const s=n[t+1],c=null===e;let h=r?Hr(s):Fi(s),p=!1;for(;0!==h&&(!1===p||c);){const v=n[h+1];mS(n[h],e)&&(p=!0,n[h+1]=r?Gh(v):zh(v)),h=r?Hr(v):Fi(v)}p&&(n[t+1]=r?zh(s):Gh(s))}function mS(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&To(n,e)>=0}function Fs(n,e){return function Wr(n,e,t,r){const i=G(),s=et(),c=function Pi(n){const e=Me.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function Ny(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[jn()],c=function Ry(n,e){return e>=n.expandoStartIndex}(n,t);(function Fy(n,e){return 0!=(n.flags&(e?16:32))})(s,r)&&null===e&&!c&&(e=!1),e=function AS(n,e,t,r){const i=rh(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=wl(t=Rf(null,n,e,t,r),e.attrs,r),s=null);else{const c=e.directiveStylingLast;if(-1===c||n[c]!==i)if(t=Rf(i,n,e,t,r),null===s){let p=function DS(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Fi(r))return n[Hr(r)]}(n,e,r);void 0!==p&&Array.isArray(p)&&(p=Rf(null,n,e,p[1],r),p=wl(p,e.attrs,r),function SS(n,e,t,r){n[Hr(t?e.classBindings:e.styleBindings)]=r}(n,e,r,p))}else s=function IS(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=wl(r,n[s].hostAttrs,t);return wl(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function pS(n,e,t,r,i,s){let c=s?e.classBindings:e.styleBindings,h=Hr(c),p=Fi(c);n[r]=t;let v,y=!1;if(Array.isArray(t)){const C=t;v=C[1],(null===v||To(C,v)>0)&&(y=!0)}else v=t;if(i)if(0!==p){const b=Hr(n[h+1]);n[r+1]=Xc(b,h),0!==b&&(n[b+1]=Wh(n[b+1],r)),n[h+1]=function AD(n,e){return 131071&n|e<<17}(n[h+1],r)}else n[r+1]=Xc(h,0),0!==h&&(n[h+1]=Wh(n[h+1],r)),h=r;else n[r+1]=Xc(p,0),0===h?h=r:n[p+1]=Wh(n[p+1],r),p=r;y&&(n[r+1]=zh(n[r+1])),xy(n,v,r,!0),xy(n,v,r,!1),function gS(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&To(s,e)>=0&&(t[r+1]=Gh(t[r+1]))}(e,v,n,r,s),c=Xc(h,p),s?e.classBindings=c:e.styleBindings=c}(i,s,e,t,c,r)}}(s,n,c,r),e!==Ne&&Dn(i,c,e)&&function Py(n,e,t,r,i,s,c,h){if(!(3&e.type))return;const p=n.data,y=p[h+1];su(function $1(n){return 1==(1&n)}(y)?ky(p,e,t,i,Fi(y),c):void 0)||(su(s)||function q1(n){return 2==(2&n)}(y)&&(s=ky(p,null,t,i,h,c)),function fD(n,e,t,r,i){const s=kt(n);if(e)i?s?n.addClass(t,r):t.classList.add(r):s?n.removeClass(t,r):t.classList.remove(r);else{let c=-1===r.indexOf("-")?void 0:ar.DashCase;if(null==i)s?n.removeStyle(t,r,c):t.style.removeProperty(r);else{const h="string"==typeof i&&i.endsWith("!important");h&&(i=i.slice(0,-10),c|=ar.Important),s?n.setStyle(t,r,i,c):t.style.setProperty(r,i,h?"important":"")}}}(r,c,xc(jn(),t),i,s))}(s,s.data[jn()],i,i[11],n,i[c+1]=function RS(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ie(or(n)))),n}(e,t),r,c)}(n,e,null,!0),Fs}function Rf(n,e,t,r,i){let s=null;const c=t.directiveEnd;let h=t.directiveStylingLast;for(-1===h?h=t.directiveStart:h++;h<c&&(s=e[h],r=wl(r,s.hostAttrs,i),s!==n);)h++;return null!==n&&(t.directiveStylingLast=h),r}function wl(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const c=e[s];"number"==typeof c?i=c:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ir(n,c,!!t||e[++s]))}return void 0===n?null:n}function ky(n,e,t,r,i,s){const c=null===e;let h;for(;i>0;){const p=n[i],y=Array.isArray(p),v=y?p[1]:p,C=null===v;let b=t[i+1];b===Ne&&(b=C?ft:void 0);let S=C?ph(b,r):v===r?b:void 0;if(y&&!su(S)&&(S=ph(p,r)),su(S)&&(h=S,c))return h;const M=n[i+1];i=c?Hr(M):Fi(M)}if(null!==e){let p=s?e.residualClasses:e.residualStyles;null!=p&&(h=ph(p,r))}return h}function su(n){return void 0!==n}function Ar(n,e=""){const t=G(),r=et(),i=n+f,s=r.firstCreatePass?Po(r,i,1,e,null):r.data[i],c=t[i]=function kh(n,e){return kt(n)?n.createText(e):n.createTextNode(e)}(t[11],e);Gc(r,t,c,s),ui(s,!1)}function ou(n){return au("",n,""),ou}function au(n,e,t){const r=G(),i=function Ho(n,e,t,r){return Dn(n,vo(),t)?e+Te(t)+r:Ne}(r,n,e,t);return i!==Ne&&Li(r,jn(),i),au}function Nf(n,e,t){const r=G();if(Dn(r,vo(),e)){const s=et(),c=Ft();lr(s,c,r,n,e,Em(rh(s.data),c,r),t,!0)}return Nf}const Ls=void 0;var ZS=["en",[["a","p"],["AM","PM"],Ls],[["AM","PM"],Ls,Ls],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ls,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ls,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ls,"{1} 'at' {0}",Ls],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function KS(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let Qo={};function n_(n){return n in Qo||(Qo[n]=ce.ng&&ce.ng.common&&ce.ng.common.locales&&ce.ng.common.locales[n]),Qo[n]}var re=(()=>((re=re||{})[re.LocaleId=0]="LocaleId",re[re.DayPeriodsFormat=1]="DayPeriodsFormat",re[re.DayPeriodsStandalone=2]="DayPeriodsStandalone",re[re.DaysFormat=3]="DaysFormat",re[re.DaysStandalone=4]="DaysStandalone",re[re.MonthsFormat=5]="MonthsFormat",re[re.MonthsStandalone=6]="MonthsStandalone",re[re.Eras=7]="Eras",re[re.FirstDayOfWeek=8]="FirstDayOfWeek",re[re.WeekendRange=9]="WeekendRange",re[re.DateFormat=10]="DateFormat",re[re.TimeFormat=11]="TimeFormat",re[re.DateTimeFormat=12]="DateTimeFormat",re[re.NumberSymbols=13]="NumberSymbols",re[re.NumberFormats=14]="NumberFormats",re[re.CurrencyCode=15]="CurrencyCode",re[re.CurrencySymbol=16]="CurrencySymbol",re[re.CurrencyName=17]="CurrencyName",re[re.Currencies=18]="Currencies",re[re.Directionality=19]="Directionality",re[re.PluralCase=20]="PluralCase",re[re.ExtraData=21]="ExtraData",re))();const lu="en-US";let r_=lu;class I_{}class eT{resolveComponentFactory(e){throw function JI(n){const e=Error(`No component factory found for ${ie(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let us=(()=>{class n{}return n.NULL=new eT,n})();function tT(){return ea(tn(),G())}function ea(n,e){return new Sn(Cr(n,e))}let Sn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=tT,n})();function nT(n){return n instanceof Sn?n.nativeElement:n}class bl{}let fu=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function iT(){const n=G(),t=rr(tn().index,n);return function rT(n){return n[11]}(_(t)?t:n)}(),n})(),sT=(()=>{class n{}return n.\u0275prov=ge({token:n,providedIn:"root",factory:()=>null}),n})();class Bs{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const oT=new Bs("13.1.2"),Uf={};function pu(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(Yt(s)),E(s))for(let h=10;h<s.length;h++){const p=s[h],y=p[1].firstChild;null!==y&&pu(p[1],p,y,r)}const c=t.type;if(8&c)pu(n,e,t.child,r);else if(32&c){const h=Nh(t,e);let p;for(;p=h();)r.push(p)}else if(16&c){const h=L1(e,t);if(Array.isArray(h))r.push(...h);else{const p=dl(e[a]);pu(p[1],p,h,r,!0)}}t=i?t.projectionNext:t.next}return r}class Al{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return pu(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(E(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Lh(e,r),Lc(t,r))}this._attachedToViewContainer=!1}I1(this._lView[1],this._lView)}onDestroy(e){cm(this._lView[1],this._lView,null,e)}markForCheck(){lf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){uf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function l2(n,e,t){Ac(!0);try{uf(n,e,t)}finally{Ac(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function rD(n,e){hl(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class aT extends Al{constructor(e){super(e),this._view=e}detectChanges(){_m(this._view)}checkNoChanges(){!function c2(n){Ac(!0);try{_m(n)}finally{Ac(!1)}}(this._view)}get context(){return null}}class M_ extends us{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=en(e);return new jf(t,this.ngModule)}}function R_(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}const cT=new we("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>v1});class jf extends I_{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function xD(n){return n.map(CD).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return R_(this.componentDef.inputs)}get outputs(){return R_(this.componentDef.outputs)}create(e,t,r,i){const s=(i=i||this.ngModule)?function uT(n,e){return{get:(t,r,i)=>{const s=n.get(t,Uf,i);return s!==Uf||r===Uf?s:e.get(t,r,i)}}}(e,i.injector):e,c=s.get(bl,g0),h=s.get(sT,null),p=c.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",v=r?function lm(n,e,t){if(kt(n))return n.selectRootElement(e,t===qn.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(p,r,this.componentDef.encapsulation):Fh(c.createRenderer(null,this.componentDef),y,function lT(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(y)),C=this.componentDef.onPush?576:528,b=function jm(n,e){return{components:[],scheduler:n||v1,clean:u2,playerHandler:e||null,flags:0}}(),S=Kc(0,null,null,1,0,null,null,null,null,null),M=fl(null,S,b,C,null,null,c,p,h,s);let O,k;Dc(M);try{const j=function Bm(n,e,t,r,i,s){const c=t[1];t[20]=n;const p=Po(c,20,2,"#host",null),y=p.mergedAttrs=e.hostAttrs;null!==y&&(Qc(p,y,!0),null!==n&&(Rc(i,n,y),null!==p.classes&&Hh(i,n,p.classes),null!==p.styles&&j1(i,n,p.styles)));const v=r.createRenderer(n,e),C=fl(t,om(e),null,e.onPush?64:16,t[20],p,r,v,s||null,null);return c.firstCreatePass&&(kc(Za(p,t),c,e.type),pm(c,p),gm(p,t.length,1)),Zc(t,C),t[20]=C}(v,this.componentDef,M,c,p);if(v)if(r)Rc(p,v,["ng-version",oT.full]);else{const{attrs:L,classes:$}=function bD(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Vr(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);L&&Rc(p,v,L),$&&$.length>0&&Hh(p,v,$.join(" "))}if(k=Zd(S,f),void 0!==t){const L=k.projection=[];for(let $=0;$<this.ngContentSelectors.length;$++){const oe=t[$];L.push(null!=oe?Array.from(oe):null)}}O=function Um(n,e,t,r,i){const s=t[1],c=function GD(n,e,t){const r=tn();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),mm(n,r,e,ko(n,e,1,null),t));const i=Qa(e,n,r.directiveStart,r);An(i,e);const s=Cr(r,e);return s&&An(s,e),i}(s,t,e);if(r.components.push(c),n[8]=c,i&&i.forEach(p=>p(c,e)),e.contentQueries){const p=tn();e.contentQueries(1,c,p.directiveStart)}const h=tn();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ss(h.index),hm(t[1],h,0,h.directiveStart,h.directiveEnd,e),fm(e,c)),c}(j,this.componentDef,M,b,[M2]),pl(S,M,null)}finally{Sc()}return new hT(this.componentType,O,ea(k,M),M,k)}}class hT extends class QI{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new aT(i),this.componentType=e}get injector(){return new xo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Ui{}class N_{}const ta=new Map;class k_ extends Ui{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new M_(this);const r=kn(e);this._bootstrapComponents=pi(r.bootstrap),this._r3Injector=Sm(e,t,[{provide:Ui,useValue:this},{provide:us,useValue:this.componentFactoryResolver}],ie(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Xt.THROW_IF_NOT_FOUND,r=be.Default){return e===Xt||e===Ui||e===hf?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Vf extends N_{constructor(e){super(),this.moduleType=e,null!==kn(e)&&function pT(n){const e=new Set;!function t(r){const i=kn(r,!0),s=i.id;null!==s&&(function O_(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${ie(e)} vs ${ie(e.name)}`)}(s,ta.get(s),r),ta.set(s,r));const c=pi(i.imports);for(const h of c)e.has(h)||(e.add(h),t(h))}(n)}(e)}create(e){return new k_(this.moduleType,e)}}function Hf(n){return e=>{setTimeout(n,void 0,e)}}const vn=class NT extends ke{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,s,c;let h=e,p=t||(()=>null),y=r;if(e&&"object"==typeof e){const C=e;h=null===(i=C.next)||void 0===i?void 0:i.bind(C),p=null===(s=C.error)||void 0===s?void 0:s.bind(C),y=null===(c=C.complete)||void 0===c?void 0:c.bind(C)}this.__isAsync&&(p=Hf(p),h&&(h=Hf(h)),y&&(y=Hf(y)));const v=super.subscribe({next:h,error:p,complete:y});return e instanceof Jt&&e.add(v),v}};function OT(){return this._results[Uo()]()}class zf{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Uo(),r=zf.prototype;r[t]||(r[t]=OT)}get changes(){return this._changes||(this._changes=new vn)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=xr(e);(this._changesDetected=!function Nb(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let wi=(()=>{class n{}return n.__NG_ELEMENT_ID__=FT,n})();const PT=wi,kT=class extends PT{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=fl(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[d];return null!==s&&(r[d]=s.createEmbeddedView(t)),pl(t,r,e),new Al(r)}};function FT(){return gu(tn(),G())}function gu(n,e){return 4&n.type?new kT(e,n,ea(n,e)):null}let Dr=(()=>{class n{}return n.__NG_ELEMENT_ID__=LT,n})();function LT(){return z_(tn(),G())}const BT=Dr,V_=class extends BT{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ea(this._hostTNode,this._hostLView)}get injector(){return new xo(this._hostTNode,this._hostLView)}get parentInjector(){const e=Pc(this._hostTNode,this._hostLView);if(N0(e)){const t=Co(e,this._hostLView),r=Eo(e);return new xo(t[1].data[r+8],t)}return new xo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=H_(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,s){const c=e&&!function el(n){return"function"==typeof n}(e);let h;if(c)h=t;else{const C=t||{};h=C.index,r=C.injector,i=C.projectableNodes,s=C.ngModuleRef}const p=c?e:new jf(en(e)),y=r||this.parentInjector;if(!s&&null==p.ngModule&&y){const C=y.get(Ui,null);C&&(s=C)}const v=p.create(y,i,void 0,s);return this.insert(v.hostView,h),v}insert(e,t){const r=e._lView,i=r[1];if(function Qx(n){return E(n[3])}(r)){const v=this.indexOf(e);if(-1!==v)this.detach(v);else{const C=r[3],b=new V_(C,C[6],C[3]);b.detach(b.indexOf(e))}}const s=this._adjustIndex(t),c=this._lContainer;!function sD(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],H0(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const c=e[17];null!==c&&t!==c&&function oD(n,e){const t=n[9];e[a]!==e[3][3][a]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(c,e);const h=e[d];null!==h&&h.insertView(n),e[2]|=128}(i,r,c,s);const h=jh(s,c),p=r[11],y=Wc(p,c[7]);return null!==y&&function nD(n,e,t,r,i,s){r[0]=i,r[6]=e,hl(n,r,t,1,i,s)}(i,c[6],p,r,y,h),e.attachToViewContainerRef(),H0(Wf(c),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=H_(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Lh(this._lContainer,t);r&&(Lc(Wf(this._lContainer),t),I1(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Lh(this._lContainer,t);return r&&null!=Lc(Wf(this._lContainer),t)?new Al(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function H_(n){return n[8]}function Wf(n){return n[8]||(n[8]=[])}function z_(n,e){let t;const r=e[n.index];if(E(r))t=r;else{let i;if(8&n.type)i=Yt(r);else{const s=e[11];i=s.createComment("");const c=Cr(n,e);Ns(s,Wc(s,c),i,function uD(n,e){return kt(n)?n.nextSibling(e):e.nextSibling}(s,c),!1)}e[n.index]=t=ym(r,e,i,n),Zc(e,t)}return new V_(t,n,e)}class Gf{constructor(e){this.queryList=e,this.matches=null}clone(){return new Gf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Yf{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const c=t.getByIndex(s);i.push(this.queries[c.indexInDeclarationView].clone())}return new Yf(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==q_(e,t).matches&&this.queries[t].setDirty()}}class W_{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Xf{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new Xf(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class qf{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new qf(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,VT(t,s)),this.matchTNodeWithReadOption(e,t,Fc(t,e,s,!1,!1))}else r===wi?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Fc(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Sn||i===Dr||i===wi&&4&t.type)this.addMatch(t.index,-2);else{const s=Fc(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function VT(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function zT(n,e,t,r){return-1===t?function HT(n,e){return 11&n.type?ea(n,e):4&n.type?gu(n,e):null}(e,n):-2===t?function WT(n,e,t){return t===Sn?ea(e,n):t===wi?gu(e,n):t===Dr?z_(e,n):void 0}(n,e,r):Qa(n,n[1],t,e)}function G_(n,e,t,r){const i=e[d].queries[r];if(null===i.matches){const s=n.data,c=t.matches,h=[];for(let p=0;p<c.length;p+=2){const y=c[p];h.push(y<0?null:zT(e,s[y],c[p+1],t.metadata.read))}i.matches=h}return i.matches}function $f(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const c=G_(n,e,i,t);for(let h=0;h<s.length;h+=2){const p=s[h];if(p>0)r.push(c[h/2]);else{const y=s[h+1],v=e[-p];for(let C=10;C<v.length;C++){const b=v[C];b[17]===b[3]&&$f(b[1],b,y,r)}if(null!==v[9]){const C=v[9];for(let b=0;b<C.length;b++){const S=C[b];$f(S[1],S,y,r)}}}}}return r}function na(n){const e=G(),t=et(),r=x0();ih(r+1);const i=q_(t,r);if(n.dirty&&m0(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?$f(t,e,r,[]):G_(t,e,i,r);n.reset(s,nT),n.notifyOnChanges()}return!0}return!1}function Kf(n,e,t){const r=et();r.firstCreatePass&&(X_(r,new W_(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),Y_(r,G(),e)}function ra(){return function GT(n,e){return n[d].queries[e].queryList}(G(),x0())}function Y_(n,e,t){const r=new zf(4==(4&t));cm(n,e,r,r.destroy),null===e[d]&&(e[d]=new Yf),e[d].queries.push(new Gf(r))}function X_(n,e,t){null===n.queries&&(n.queries=new Xf),n.queries.track(new qf(e,t))}function q_(n,e){return n.queries.getByIndex(e)}function wu(...n){}const vu=new we("Application Initializer");let sa=(()=>{class n{constructor(t){this.appInits=t,this.resolve=wu,this.reject=wu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(ru(s))t.push(s);else if(dy(s)){const c=new Promise((h,p)=>{s.subscribe({complete:h,error:p})});t.push(c)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(z(vu,8))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();const Tl=new we("AppId"),dM={provide:Tl,useFactory:function uM(){return`${np()}${np()}${np()}`},deps:[]};function np(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const dw=new we("Platform Initializer"),Eu=new we("Platform ID"),hw=new we("appBootstrapListener");let fw=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();const ji=new we("LocaleId"),pw=new we("DefaultCurrencyCode");class hM{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let Cu=(()=>{class n{compileModuleSync(t){return new Vf(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=pi(kn(t).declarations).reduce((c,h)=>{const p=en(h);return p&&c.push(new jf(p)),c},[]);return new hM(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();const pM=(()=>Promise.resolve(0))();function rp(n){"undefined"==typeof Zone?pM.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ut{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vn(!1),this.onMicrotaskEmpty=new vn(!1),this.onStable=new vn(!1),this.onError=new vn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function gM(){let n=ce.requestAnimationFrame,e=ce.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function _M(n){const e=()=>{!function yM(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ce,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,sp(n),n.isCheckStableRunning=!0,ip(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),sp(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,c,h)=>{try{return gw(n),t.invokeTask(i,s,c,h)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),mw(n)}},onInvoke:(t,r,i,s,c,h,p)=>{try{return gw(n),t.invoke(i,s,c,h,p)}finally{n.shouldCoalesceRunChangeDetection&&e(),mw(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,sp(n),ip(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ut.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ut.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,c=s.scheduleEventTask("NgZoneEvent: "+i,e,mM,wu,wu);try{return s.runTask(c,t,r)}finally{s.cancelTask(c)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const mM={};function ip(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function sp(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function gw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function mw(n){n._nesting--,ip(n)}class wM{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vn,this.onMicrotaskEmpty=new vn,this.onStable=new vn,this.onError=new vn}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let op=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ut.assertNotInAngularZone(),rp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())rp(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(z(ut))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})(),yw=(()=>{class n{constructor(){this._applications=new Map,ap.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return ap.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();class vM{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let Yr,ap=new vM;const _w=new we("AllowMultipleToken");class ww{constructor(e,t){this.name=e,this.token=t}}function vw(n,e,t=[]){const r=`Platform: ${e}`,i=new we(r);return(s=[])=>{let c=Ew();if(!c||c.injector.get(_w,!1))if(n)n(t.concat(s).concat({provide:i,useValue:!0}));else{const h=t.concat(s).concat({provide:i,useValue:!0},{provide:ff,useValue:"platform"});!function bM(n){if(Yr&&!Yr.destroyed&&!Yr.injector.get(_w,!1))throw new Ze(400,"");Yr=n.get(Cw);const e=n.get(dw,null);e&&e.forEach(t=>t())}(Xt.create({providers:h,name:r}))}return function AM(n){const e=Ew();if(!e)throw new Ze(401,"");return e}()}}function Ew(){return Yr&&!Yr.destroyed?Yr:null}let Cw=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const h=function DM(n,e){let t;return t="noop"===n?new wM:("zone.js"===n?void 0:n)||new ut({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),p=[{provide:ut,useValue:h}];return h.run(()=>{const y=Xt.create({providers:p,parent:this.injector,name:t.moduleType.name}),v=t.create(y),C=v.injector.get(ki,null);if(!C)throw new Ze(402,"");return h.runOutsideAngular(()=>{const b=h.onError.subscribe({next:S=>{C.handleError(S)}});v.onDestroy(()=>{lp(this._modules,v),b.unsubscribe()})}),function SM(n,e,t){try{const r=t();return ru(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(C,h,()=>{const b=v.injector.get(sa);return b.runInitializers(),b.donePromise.then(()=>(function nI(n){Pn(n,"Expected localeId to be defined"),"string"==typeof n&&(r_=n.toLowerCase().replace(/_/g,"-"))}(v.injector.get(ji,lu)||lu),this._moduleDoBootstrap(v),v))})})}bootstrapModule(t,r=[]){const i=xw({},r);return function CM(n,e,t){const r=new Vf(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(oa);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new Ze(403,"");t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ze(404,"");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(z(Xt))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();function xw(n,e){return Array.isArray(e)?e.reduce(xw,n):Object.assign(Object.assign({},n),e)}let oa=(()=>{class n{constructor(t,r,i,s,c){this._zone=t,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new ae(y=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{y.next(this._stable),y.complete()})}),p=new ae(y=>{let v;this._zone.runOutsideAngular(()=>{v=this._zone.onStable.subscribe(()=>{ut.assertNotInAngularZone(),rp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,y.next(!0))})})});const C=this._zone.onUnstable.subscribe(()=>{ut.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{y.next(!1)}))});return()=>{v.unsubscribe(),C.unsubscribe()}});this.isStable=fc(h,p.pipe(Ii()))}bootstrap(t,r){if(!this._initStatus.done)throw new Ze(405,"");let i;i=t instanceof I_?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(i.componentType);const s=function xM(n){return n.isBoundToModule}(i)?void 0:this._injector.get(Ui),h=i.create(Xt.NULL,[],r||i.selector,s),p=h.location.nativeElement,y=h.injector.get(op,null),v=y&&h.injector.get(yw);return y&&v&&v.registerApplication(p,y),h.onDestroy(()=>{this.detachView(h.hostView),lp(this.components,h),v&&v.unregisterApplication(p)}),this._loadComponent(h),h}tick(){if(this._runningTick)throw new Ze(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;lp(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(hw,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(z(ut),z(Xt),z(ki),z(us),z(sa))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();function lp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let Aw=!0,xu=(()=>{class n{}return n.__NG_ELEMENT_ID__=MM,n})();function MM(n){return function RM(n,e,t){if(D(n)&&!t){const r=rr(n.index,e);return new Al(r,r)}return 47&n.type?new Al(e[a],e):null}(tn(),G(),16==(16&n))}class Nw{constructor(){}supports(e){return ml(e)}create(e){return new LM(e)}}const FM=(n,e)=>e;class LM{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||FM}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const c=!r||t&&t.currentIndex<Pw(r,i,s)?t:r,h=Pw(c,i,s),p=c.currentIndex;if(c===r)i--,r=r._nextRemoved;else if(t=t._next,null==c.previousIndex)i++;else{s||(s=[]);const y=h-i,v=p-i;if(y!=v){for(let b=0;b<y;b++){const S=b<s.length?s[b]:s[b]=0,M=S+b;v<=M&&M<y&&(s[b]=S+1)}s[c.previousIndex]=v-y}}h!==p&&e(c,h,p)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!ml(e))throw new Error(`Error trying to diff '${ie(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,c,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let h=0;h<this.length;h++)s=e[h],c=this._trackByFn(h,s),null!==t&&Object.is(t.trackById,c)?(r&&(t=this._verifyReinsertion(t,s,c,h)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,c,h),r=!0),t=t._next}else i=0,function j2(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Uo()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,h=>{c=this._trackByFn(i,h),null!==t&&Object.is(t.trackById,c)?(r&&(t=this._verifyReinsertion(t,h,c,i)),Object.is(t.item,h)||this._addIdentityChange(t,h)):(t=this._mismatch(t,h,c,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new BM(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Ow),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ow),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class BM{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class UM{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class Ow{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new UM,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Pw(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class kw{constructor(){}supports(e){return e instanceof Map||wf(e)}create(){return new jM}}class jM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||wf(e)))throw new Error(`Error trying to diff '${ie(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,c=i._next;return s&&(s._next=c),c&&(c._prev=s),i._next=null,i._prev=null,i}const r=new VM(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class VM{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Fw(){return new Ml([new Nw])}let Ml=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Fw()),deps:[[n,new Ms,new sr]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${t}' of type '${function HM(n){return n.name||typeof n}(t)}'`)}}return n.\u0275prov=ge({token:n,providedIn:"root",factory:Fw}),n})();function Lw(){return new aa([new kw])}let aa=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Lw()),deps:[[n,new Ms,new sr]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return n.\u0275prov=ge({token:n,providedIn:"root",factory:Lw}),n})();const zM=[new kw],GM=new Ml([new Nw]),YM=new aa(zM),XM=vw(null,"core",[{provide:Eu,useValue:"unknown"},{provide:Cw,deps:[Xt]},{provide:yw,deps:[]},{provide:fw,deps:[]}]),QM=[{provide:oa,useClass:oa,deps:[ut,Xt,ki,us,sa]},{provide:cT,deps:[ut],useFactory:function JM(n){let e=[];return n.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:sa,useClass:sa,deps:[[new sr,vu]]},{provide:Cu,useClass:Cu,deps:[]},dM,{provide:Ml,useFactory:function qM(){return GM},deps:[]},{provide:aa,useFactory:function $M(){return YM},deps:[]},{provide:ji,useFactory:function KM(n){return n||function ZM(){return"undefined"!=typeof $localize&&$localize.locale||lu}()},deps:[[new sl(ji),new sr,new Ms]]},{provide:pw,useValue:"USD"}];let eR=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(z(oa))},n.\u0275mod=Tt({type:n}),n.\u0275inj=je({providers:QM}),n})(),Au=null;function ds(){return Au}const Xe=new we("DocumentToken");let js=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ge({token:n,factory:function(){return function iR(){return z(Bw)}()},providedIn:"platform"}),n})();const sR=new we("Location Initialized");let Bw=(()=>{class n extends js{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ds().getBaseHref(this._doc)}onPopState(t){const r=ds().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=ds().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Uw()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Uw()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(z(Xe))},n.\u0275prov=ge({token:n,factory:function(){return function oR(){return new Bw(z(Xe))}()},providedIn:"platform"}),n})();function Uw(){return!!window.history.pushState}function fp(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function jw(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Vi(n){return n&&"?"!==n[0]?"?"+n:n}let la=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ge({token:n,factory:function(){return function aR(n){const e=z(Xe).location;return new Vw(z(js),e&&e.origin||"")}()},providedIn:"root"}),n})();const pp=new we("appBaseHref");let Vw=(()=>{class n extends la{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return fp(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Vi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const c=this.prepareExternalUrl(i+Vi(s));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,s){const c=this.prepareExternalUrl(i+Vi(s));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(z(js),z(pp,8))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})(),lR=(()=>{class n extends la{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=fp(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let c=this.prepareExternalUrl(i+Vi(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,s){let c=this.prepareExternalUrl(i+Vi(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(z(js),z(pp,8))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})(),Du=(()=>{class n{constructor(t,r){this._subject=new vn,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=jw(Hw(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Vi(r))}normalize(t){return n.stripTrailingSlash(function uR(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Hw(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Vi(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Vi(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Vi,n.joinWithSlash=fp,n.stripTrailingSlash=jw,n.\u0275fac=function(t){return new(t||n)(z(la),z(js))},n.\u0275prov=ge({token:n,factory:function(){return function cR(){return new Du(z(la),z(js))}()},providedIn:"root"}),n})();function Hw(n){return n.replace(/\/index.html$/,"")}var Kt=(()=>((Kt=Kt||{})[Kt.Zero=0]="Zero",Kt[Kt.One=1]="One",Kt[Kt.Two=2]="Two",Kt[Kt.Few=3]="Few",Kt[Kt.Many=4]="Many",Kt[Kt.Other=5]="Other",Kt))();const yR=function t_(n){return function Hn(n){const e=function QS(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=n_(e);if(t)return t;const r=e.split("-")[0];if(t=n_(r),t)return t;if("en"===r)return ZS;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[re.PluralCase]};class Fu{}let YR=(()=>{class n extends Fu{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(yR(r||this.locale)(t)){case Kt.Zero:return"zero";case Kt.One:return"one";case Kt.Two:return"two";case Kt.Few:return"few";case Kt.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(z(ji))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})(),Qw=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new QR,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Jw("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Jw("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(ee(Dr),ee(wi))},n.\u0275dir=Vt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class QR{constructor(){this.$implicit=null,this.ngIf=null}}function Jw(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ie(e)}'.`)}let nv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tt({type:n}),n.\u0275inj=je({providers:[{provide:Fu,useClass:YR}]}),n})();const rv="browser";let TN=(()=>{class n{}return n.\u0275prov=ge({token:n,providedIn:"root",factory:()=>new MN(z(Xe),window)}),n})();class MN{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function RN(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const c=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=iv(this.window.history)||iv(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function iv(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Sp extends class ON extends class rR{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function nR(n){Au||(Au=n)}(new Sp)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function PN(){return Ol=Ol||document.querySelector("base"),Ol?Ol.getAttribute("href"):null}();return null==t?null:function kN(n){Lu=Lu||document.createElement("a"),Lu.setAttribute("href",n);const e=Lu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ol=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function XR(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Lu,Ol=null;const sv=new we("TRANSITION_ID"),LN=[{provide:vu,useFactory:function FN(n,e,t){return()=>{t.get(sa).donePromise.then(()=>{const r=ds(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[sv,Xe,Xt],multi:!0}];class Ip{static init(){!function EM(n){ap=n}(new Ip)}addToWindow(e){ce.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},ce.getAllAngularTestabilities=()=>e.getAllTestabilities(),ce.getAllAngularRootElements=()=>e.getAllRootElements(),ce.frameworkStabilizers||(ce.frameworkStabilizers=[]),ce.frameworkStabilizers.push(r=>{const i=ce.getAllAngularTestabilities();let s=i.length,c=!1;const h=function(p){c=c||p,s--,0==s&&r(c)};i.forEach(function(p){p.whenStable(h)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?ds().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let BN=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();const Bu=new we("EventManagerPlugins");let Uu=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const c=i[s];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(z(Bu),z(ut))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();class ov{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=ds().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let av=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})(),Pl=(()=>{class n extends av{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const c=this._doc.createElement("style");c.textContent=s,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(lv),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(lv))}}return n.\u0275fac=function(t){return new(t||n)(z(Xe))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();function lv(n){ds().remove(n)}const Tp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Mp=/%COMP%/g;function ju(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ju(n,i,t):(i=i.replace(Mp,n),t.push(i))}return t}function dv(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Vu=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Rp(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case qn.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new WN(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case qn.ShadowDom:return new GN(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=ju(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(z(Uu),z(Pl),z(Tl))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();class Rp{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Tp[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Tp[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Tp[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ar.DashCase|ar.Important)?e.style.setProperty(t,r,i&ar.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ar.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,dv(r)):this.eventManager.addEventListener(e,t,dv(r))}}class WN extends Rp{constructor(e,t,r,i){super(e),this.component=r;const s=ju(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function VN(n){return"_ngcontent-%COMP%".replace(Mp,n)}(i+"-"+r.id),this.hostAttr=function HN(n){return"_nghost-%COMP%".replace(Mp,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class GN extends Rp{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=ju(i.id,i.styles,[]);for(let c=0;c<s.length;c++){const h=document.createElement("style");h.textContent=s[c],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let YN=(()=>{class n extends ov{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(z(Xe))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();const fv=["alt","control","meta","shift"],qN={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pv={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},$N={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let KN=(()=>{class n extends ov{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),c=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ds().onAndCancel(t,s.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let c="";if(fv.forEach(p=>{const y=r.indexOf(p);y>-1&&(r.splice(y,1),c+=p+".")}),c+=s,0!=r.length||0===s.length)return null;const h={};return h.domEventName=i,h.fullKey=c,h}static getEventFullKey(t){let r="",i=function ZN(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&pv.hasOwnProperty(e)&&(e=pv[e]))}return qN[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),fv.forEach(s=>{s!=i&&$N[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(z(Xe))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();const tO=vw(XM,"browser",[{provide:Eu,useValue:rv},{provide:dw,useValue:function QN(){Sp.makeCurrent(),Ip.init()},multi:!0},{provide:Xe,useFactory:function eO(){return function qx(n){$d=n}(document),document},deps:[]}]),nO=[{provide:ff,useValue:"root"},{provide:ki,useFactory:function JN(){return new ki},deps:[]},{provide:Bu,useClass:YN,multi:!0,deps:[Xe,ut,Eu]},{provide:Bu,useClass:KN,multi:!0,deps:[Xe]},{provide:Vu,useClass:Vu,deps:[Uu,Pl,Tl]},{provide:bl,useExisting:Vu},{provide:av,useExisting:Pl},{provide:Pl,useClass:Pl,deps:[Xe]},{provide:op,useClass:op,deps:[ut]},{provide:Uu,useClass:Uu,deps:[Bu,ut]},{provide:class NN{},useClass:BN,deps:[]}];let gv=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:Tl,useValue:t.appId},{provide:sv,useExisting:Tl},LN]}}}return n.\u0275fac=function(t){return new(t||n)(z(n,12))},n.\u0275mod=Tt({type:n}),n.\u0275inj=je({providers:nO,imports:[nv,eR]}),n})();"undefined"!=typeof window&&window;let Op=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ge({token:n,factory:function(t){let r=null;return r=t?new(t||n):z(_v),r},providedIn:"root"}),n})(),_v=(()=>{class n extends Op{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case ct.NONE:return r;case ct.HTML:return hi(r,"HTML")?or(r):h1(this._doc,String(r)).toString();case ct.STYLE:return hi(r,"Style")?or(r):r;case ct.SCRIPT:if(hi(r,"Script"))return or(r);throw new Error("unsafe value used in a script context");case ct.URL:return r1(r),hi(r,"URL")?or(r):al(String(r));case ct.RESOURCE_URL:if(hi(r,"ResourceURL"))return or(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function cA(n){return new iA(n)}(t)}bypassSecurityTrustStyle(t){return function uA(n){return new sA(n)}(t)}bypassSecurityTrustScript(t){return function dA(n){return new oA(n)}(t)}bypassSecurityTrustUrl(t){return function hA(n){return new aA(n)}(t)}bypassSecurityTrustResourceUrl(t){return function fA(n){return new lA(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(z(Xe))},n.\u0275prov=ge({token:n,factory:function(t){let r=null;return r=t?new t:function hO(n){return new _v(n.get(Xe))}(z(Xt)),r},providedIn:"root"}),n})();function De(...n){return V(n,Cs(n))}class Tr extends ke{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:fO}=Array,{getPrototypeOf:pO,prototype:gO,keys:mO}=Object;function wv(n){if(1===n.length){const e=n[0];if(fO(e))return{args:e,keys:null};if(function yO(n){return n&&"object"==typeof n&&pO(n)===gO}(e)){const t=mO(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:_O}=Array;function Pp(n){return Fe(e=>function wO(n,e){return _O(e)?n(...e):n(e)}(n,e))}function vv(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Ev(...n){const e=Cs(n),t=uc(n),{args:r,keys:i}=wv(n);if(0===r.length)return V([],e);const s=new ae(function vO(n,e,t=wt){return r=>{Cv(e,()=>{const{length:i}=n,s=new Array(i);let c=i,h=i;for(let p=0;p<i;p++)Cv(e,()=>{const y=V(n[p],e);let v=!1;y.subscribe(new ne(r,C=>{s[p]=C,v||(v=!0,h--),h||r.next(t(s.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>vv(i,c):wt));return t?s.pipe(Pp(t)):s}function Cv(n,e,t){n?mn(t,n,e):e()}const Hu=Sa(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function zu(...n){return function EO(){return Qn(1)}()(V(n,Cs(n)))}function xv(n){return new ae(e=>{Nn(n()).subscribe(e)})}function bv(){return bt((n,e)=>{let t=null;n._refCount++;const r=new ne(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class CO extends ae{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,cn(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Jt;const t=this.getSubject();e.add(this.source.subscribe(new ne(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Jt.EMPTY)}return e}refCount(){return bv()(this)}}function Vs(n,e){return bt((t,r)=>{let i=null,s=0,c=!1;const h=()=>c&&!i&&r.complete();t.subscribe(new ne(r,p=>{null==i||i.unsubscribe();let y=0;const v=s++;Nn(n(p,v)).subscribe(i=new ne(r,C=>r.next(e?e(p,C,v,y++):C),()=>{i=null,h()}))},()=>{c=!0,h()}))})}function Av(...n){const e=Cs(n);return bt((t,r)=>{(e?zu(n,t,e):zu(n,t)).subscribe(r)})}function xO(n,e,t,r,i){return(s,c)=>{let h=t,p=e,y=0;s.subscribe(new ne(c,v=>{const C=y++;p=h?n(p,v,C):(h=!0,v),r&&c.next(p)},i&&(()=>{h&&c.next(p),c.complete()})))}}function Dv(n,e){return bt(xO(n,e,arguments.length>=2,!0))}function zi(n,e){return bt((t,r)=>{let i=0;t.subscribe(new ne(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Wi(n){return bt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(new ne(t,void 0,void 0,c=>{s=Nn(n(c,Wi(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function ca(n,e){return Ge(e)?at(n,e,1):at(n,1)}function kp(n){return n<=0?()=>xn:bt((e,t)=>{let r=[];e.subscribe(new ne(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Sv(n=bO){return bt((e,t)=>{let r=!1;e.subscribe(new ne(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function bO(){return new Hu}function Iv(n){return bt((e,t)=>{let r=!1;e.subscribe(new ne(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ua(n,e){const t=arguments.length>=2;return r=>r.pipe(n?zi((i,s)=>n(i,s,r)):wt,lt(1),t?Iv(e):Sv(()=>new Hu))}function In(n,e,t){const r=Ge(n)||e||t?{next:n,error:e,complete:t}:n;return r?bt((i,s)=>{var c;null===(c=r.subscribe)||void 0===c||c.call(r);let h=!0;i.subscribe(new ne(s,p=>{var y;null===(y=r.next)||void 0===y||y.call(r,p),s.next(p)},()=>{var p;h=!1,null===(p=r.complete)||void 0===p||p.call(r),s.complete()},p=>{var y;h=!1,null===(y=r.error)||void 0===y||y.call(r,p),s.error(p)},()=>{var p,y;h&&(null===(p=r.unsubscribe)||void 0===p||p.call(r)),null===(y=r.finalize)||void 0===y||y.call(r)}))}):wt}function Tv(n){return bt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class Gi{constructor(e,t){this.id=e,this.url=t}}class Fp extends Gi{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class kl extends Gi{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Mv extends Gi{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class DO extends Gi{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class SO extends Gi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class IO extends Gi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TO extends Gi{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class MO extends Gi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RO extends Gi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rv{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Nv{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class NO{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OO{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PO{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kO{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ov{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ze="primary";class FO{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function da(n){return new FO(n)}const Pv="ngNavigationCancelingError";function Lp(n){const e=Error("NavigationCancelingError: "+n);return e[Pv]=!0,e}function BO(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const c=r[s],h=n[s];if(c.startsWith(":"))i[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function vi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!kv(n[i],e[i]))return!1;return!0}function kv(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function Fv(n){return Array.prototype.concat.apply([],n)}function Lv(n){return n.length>0?n[n.length-1]:null}function En(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ei(n){return dy(n)?n:ru(n)?V(Promise.resolve(n)):De(n)}const VO={exact:function jv(n,e,t){if(!zs(n.segments,e.segments)||!Wu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!jv(n.children[r],e.children[r],t))return!1;return!0},subset:Vv},Bv={exact:function HO(n,e){return vi(n,e)},subset:function zO(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>kv(n[t],e[t]))},ignored:()=>!0};function Uv(n,e,t){return VO[t.paths](n.root,e.root,t.matrixParams)&&Bv[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Vv(n,e,t){return Hv(n,e,e.segments,t)}function Hv(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!zs(i,t)||e.hasChildren()||!Wu(i,t,r))}if(n.segments.length===t.length){if(!zs(n.segments,t)||!Wu(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Vv(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(zs(n.segments,i)&&Wu(n.segments,i,r)&&n.children[ze])&&Hv(n.children[ze],e,s,r)}}function Wu(n,e,t){return e.every((r,i)=>Bv[t](n[i].parameters,r.parameters))}class Hs{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=da(this.queryParams)),this._queryParamMap}toString(){return YO.serialize(this)}}class qe{constructor(e,t){this.segments=e,this.children=t,this.parent=null,En(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gu(this)}}class Fl{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=da(this.parameters)),this._parameterMap}toString(){return Xv(this)}}function zs(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class zv{}class Wv{parse(e){const t=new t3(e);return new Hs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ll(e.root,!0)}`,r=function $O(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Yu(t)}=${Yu(i)}`).join("&"):`${Yu(t)}=${Yu(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function XO(n){return encodeURI(n)}(e.fragment)}`:""}`}}const YO=new Wv;function Gu(n){return n.segments.map(e=>Xv(e)).join("/")}function Ll(n,e){if(!n.hasChildren())return Gu(n);if(e){const t=n.children[ze]?Ll(n.children[ze],!1):"",r=[];return En(n.children,(i,s)=>{s!==ze&&r.push(`${s}:${Ll(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function GO(n,e){let t=[];return En(n.children,(r,i)=>{i===ze&&(t=t.concat(e(r,i)))}),En(n.children,(r,i)=>{i!==ze&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ze?[Ll(n.children[ze],!1)]:[`${i}:${Ll(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ze]?`${Gu(n)}/${t[0]}`:`${Gu(n)}/(${t.join("//")})`}}function Gv(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yu(n){return Gv(n).replace(/%3B/gi,";")}function Bp(n){return Gv(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xu(n){return decodeURIComponent(n)}function Yv(n){return Xu(n.replace(/\+/g,"%20"))}function Xv(n){return`${Bp(n.path)}${function qO(n){return Object.keys(n).map(e=>`;${Bp(e)}=${Bp(n[e])}`).join("")}(n.parameters)}`}const KO=/^[^\/()?;=#]+/;function qu(n){const e=n.match(KO);return e?e[0]:""}const ZO=/^[^=?&#]+/,JO=/^[^&#]+/;class t3{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qe([],{}):new qe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ze]=new qe(e,t)),r}parseSegment(){const e=qu(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Fl(Xu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=qu(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=qu(this.remaining);i&&(r=i,this.capture(r))}e[Xu(t)]=Xu(r)}parseQueryParam(e){const t=function QO(n){const e=n.match(ZO);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function e3(n){const e=n.match(JO);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=Yv(t),s=Yv(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=qu(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ze);const c=this.parseChildren();t[s]=1===Object.keys(c).length?c[ze]:new qe([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class qv{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Up(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Up(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=jp(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return jp(e,this._root).map(t=>t.value)}}function Up(n,e){if(n===e.value)return e;for(const t of e.children){const r=Up(n,t);if(r)return r}return null}function jp(n,e){if(n===e.value)return[e];for(const t of e.children){const r=jp(n,t);if(r.length)return r.unshift(e),r}return[]}class Yi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ha(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class $v extends qv{constructor(e,t){super(e),this.snapshot=t,Vp(this,e)}toString(){return this.snapshot.toString()}}function Kv(n,e){const t=function n3(n,e){const c=new $u([],{},{},"",{},ze,e,null,n.root,-1,{});return new Qv("",new Yi(c,[]))}(n,e),r=new Tr([new Fl("",{})]),i=new Tr({}),s=new Tr({}),c=new Tr({}),h=new Tr(""),p=new fa(r,i,c,h,s,ze,e,t.root);return p.snapshot=t.root,new $v(new Yi(p,[]),t)}class fa{constructor(e,t,r,i,s,c,h,p){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=c,this.component=h,this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Fe(e=>da(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Fe(e=>da(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Zv(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function r3(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class $u{constructor(e,t,r,i,s,c,h,p,y,v,C){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=c,this.component=h,this.routeConfig=p,this._urlSegment=y,this._lastPathIndex=v,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=da(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=da(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Qv extends qv{constructor(e,t){super(t),this.url=e,Vp(this,t)}toString(){return Jv(this._root)}}function Vp(n,e){e.value._routerState=n,e.children.forEach(t=>Vp(n,t))}function Jv(n){const e=n.children.length>0?` { ${n.children.map(Jv).join(", ")} } `:"";return`${n.value}${e}`}function Hp(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,vi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),vi(e.params,t.params)||n.params.next(t.params),function UO(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!vi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),vi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function zp(n,e){const t=vi(n.params,e.params)&&function WO(n,e){return zs(n,e)&&n.every((t,r)=>vi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||zp(n.parent,e.parent))}function Bl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function o3(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Bl(n,r,i);return Bl(n,r)})}(n,e,t);return new Yi(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(h=>Bl(n,h)),c}}const r=function a3(n){return new fa(new Tr(n.url),new Tr(n.params),new Tr(n.queryParams),new Tr(n.fragment),new Tr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Bl(n,s));return new Yi(r,i)}}function Ku(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ul(n){return"object"==typeof n&&null!=n&&n.outlets}function Wp(n,e,t,r,i){let s={};return r&&En(r,(c,h)=>{s[h]=Array.isArray(c)?c.map(p=>`${p}`):`${c}`}),new Hs(t.root===n?e:eE(t.root,n,e),s,i)}function eE(n,e,t){const r={};return En(n.children,(i,s)=>{r[s]=i===e?t:eE(i,e,t)}),new qe(n.segments,r)}class tE{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ku(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Ul);if(i&&i!==Lv(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gp{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function nE(n,e,t){if(n||(n=new qe([],{})),0===n.segments.length&&n.hasChildren())return Zu(n,e,t);const r=function f3(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const c=n.segments[i],h=t[r];if(Ul(h))break;const p=`${h}`,y=r<t.length-1?t[r+1]:null;if(i>0&&void 0===p)break;if(p&&y&&"object"==typeof y&&void 0===y.outlets){if(!iE(p,y,c))return s;r+=2}else{if(!iE(p,{},c))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new qe(n.segments.slice(0,r.pathIndex),{});return s.children[ze]=new qe(n.segments.slice(r.pathIndex),n.children),Zu(s,0,i)}return r.match&&0===i.length?new qe(n.segments,{}):r.match&&!n.hasChildren()?Yp(n,e,t):r.match?Zu(n,0,i):Yp(n,e,t)}function Zu(n,e,t){if(0===t.length)return new qe(n.segments,{});{const r=function h3(n){return Ul(n[0])?n[0].outlets:{[ze]:n}}(t),i={};return En(r,(s,c)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[c]=nE(n.children[c],e,s))}),En(n.children,(s,c)=>{void 0===r[c]&&(i[c]=s)}),new qe(n.segments,i)}}function Yp(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Ul(s)){const p=p3(s.outlets);return new qe(r,p)}if(0===i&&Ku(t[0])){r.push(new Fl(n.segments[e].path,rE(t[0]))),i++;continue}const c=Ul(s)?s.outlets[ze]:`${s}`,h=i<t.length-1?t[i+1]:null;c&&h&&Ku(h)?(r.push(new Fl(c,rE(h))),i+=2):(r.push(new Fl(c,{})),i++)}return new qe(r,{})}function p3(n){const e={};return En(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Yp(new qe([],{}),0,t))}),e}function rE(n){const e={};return En(n,(t,r)=>e[r]=`${t}`),e}function iE(n,e,t){return n==t.path&&vi(e,t.parameters)}class m3{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Hp(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=ha(t);e.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,i[c],r),delete i[c]}),En(i,(s,c)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ha(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],i);if(r&&r.outlet){const c=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ha(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=ha(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new kO(s.value.snapshot))}),e.children.length&&this.forwardEvent(new OO(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(Hp(i),i===s)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(h.contexts),c.attachRef=h.componentRef,c.route=h.route.value,c.outlet&&c.outlet.attach(h.componentRef,h.route.value),Hp(h.route.value),this.activateChildRoutes(e,null,c.children)}else{const h=function y3(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),p=h?h.module.componentFactoryResolver:null;c.attachRef=null,c.route=i,c.resolver=p,c.outlet&&c.outlet.activateWith(i,p),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class Xp{constructor(e,t){this.routes=e,this.module=t}}function fs(n){return"function"==typeof n}function Ws(n){return n instanceof Hs}const jl=Symbol("INITIAL_VALUE");function Vl(){return Vs(n=>Ev(n.map(e=>e.pipe(lt(1),Av(jl)))).pipe(Dv((e,t)=>{let r=!1;return t.reduce((i,s,c)=>i!==jl?i:(s===jl&&(r=!0),r||!1!==s&&c!==t.length-1&&!Ws(s)?i:s),e)},jl),zi(e=>e!==jl),Fe(e=>Ws(e)?e:!0===e),lt(1)))}class x3{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Hl,this.attachRef=null}}class Hl{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new x3,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Qu=(()=>{class n{constructor(t,r,i,s,c){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new vn,this.deactivateEvents=new vn,this.attachEvents=new vn,this.detachEvents=new vn,this.name=s||ze,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const c=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),h=this.parentContexts.getOrCreateContext(this.name).children,p=new b3(t,h,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,p),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(ee(Hl),ee(Dr),ee(us),bo("name"),ee(xu))},n.\u0275dir=Vt({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class b3{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===fa?this.route:e===Hl?this.childContexts:this.parent.get(e,t)}}let sE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=_n({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&cs(0,"router-outlet")},directives:[Qu],encapsulation:2}),n})();function oE(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];A3(r,D3(e,r))}}function A3(n,e){n.children&&oE(n.children,e)}function D3(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function qp(n){const e=n.children&&n.children.map(qp),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ze&&(t.component=sE),t}function Mr(n){return n.outlet||ze}function aE(n,e){const t=n.filter(r=>Mr(r)===e);return t.push(...n.filter(r=>Mr(r)!==e)),t}const lE={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ju(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},lE):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||BO)(t,n,e);if(!s)return Object.assign({},lE);const c={};En(s.posParams,(p,y)=>{c[y]=p.path});const h=s.consumed.length>0?Object.assign(Object.assign({},c),s.consumed[s.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:h,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function ed(n,e,t,r,i="corrected"){if(t.length>0&&function T3(n,e,t){return t.some(r=>td(n,e,r)&&Mr(r)!==ze)}(n,t,r)){const c=new qe(e,function I3(n,e,t,r){const i={};i[ze]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Mr(s)!==ze){const c=new qe([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[Mr(s)]=c}return i}(n,e,r,new qe(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function M3(n,e,t){return t.some(r=>td(n,e,r))}(n,t,r)){const c=new qe(n.segments,function S3(n,e,t,r,i,s){const c={};for(const h of r)if(td(n,t,h)&&!i[Mr(h)]){const p=new qe([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===s?n.segments.length:e.length,c[Mr(h)]=p}return Object.assign(Object.assign({},i),c)}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const s=new qe(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function td(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function cE(n,e,t,r){return!!(Mr(n)===r||r!==ze&&td(e,t,n))&&("**"===n.path||Ju(e,n,t).matched)}function uE(n,e,t){return 0===e.length&&!n.children[t]}class zl{constructor(e){this.segmentGroup=e||null}}class dE{constructor(e){this.urlTree=e}}function nd(n){return new ae(e=>e.error(new zl(n)))}function hE(n){return new ae(e=>e.error(new dE(n)))}function R3(n){return new ae(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class P3{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Ui)}apply(){const e=ed(this.urlTree.root,[],[],this.config).segmentGroup,t=new qe(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,ze).pipe(Fe(s=>this.createUrlTree($p(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Wi(s=>{if(s instanceof dE)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof zl?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,ze).pipe(Fe(i=>this.createUrlTree($p(i),e.queryParams,e.fragment))).pipe(Wi(i=>{throw i instanceof zl?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new qe([],{[ze]:e}):e;return new Hs(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Fe(s=>new qe([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return V(i).pipe(ca(s=>{const c=r.children[s],h=aE(t,s);return this.expandSegmentGroup(e,h,c,s).pipe(Fe(p=>({segment:p,outlet:s})))}),Dv((s,c)=>(s[c.outlet]=c.segment,s),{}),function AO(n,e){const t=arguments.length>=2;return r=>r.pipe(n?zi((i,s)=>n(i,s,r)):wt,kp(1),t?Iv(e):Sv(()=>new Hu))}())}expandSegment(e,t,r,i,s,c){return V(r).pipe(ca(h=>this.expandSegmentAgainstRoute(e,t,r,h,i,s,c).pipe(Wi(y=>{if(y instanceof zl)return De(null);throw y}))),ua(h=>!!h),Wi((h,p)=>{if(h instanceof Hu||"EmptyError"===h.name){if(uE(t,i,s))return De(new qe([],{}));throw new zl(t)}throw h}))}expandSegmentAgainstRoute(e,t,r,i,s,c,h){return cE(i,t,s,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,c):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c):nd(t):nd(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?hE(s):this.lineralizeSegments(r,s).pipe(at(c=>{const h=new qe(c,{});return this.expandSegment(e,h,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c){const{matched:h,consumedSegments:p,lastChild:y,positionalParamSegments:v}=Ju(t,i,s);if(!h)return nd(t);const C=this.applyRedirectCommands(p,i.redirectTo,v);return i.redirectTo.startsWith("/")?hE(C):this.lineralizeSegments(i,C).pipe(at(b=>this.expandSegment(e,t,r,b.concat(s.slice(y)),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?De(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(Fe(b=>(r._loadedConfig=b,new qe(i,{})))):De(new qe(i,{}));const{matched:c,consumedSegments:h,lastChild:p}=Ju(t,r,i);if(!c)return nd(t);const y=i.slice(p);return this.getChildConfig(e,r,i).pipe(at(C=>{const b=C.module,S=C.routes,{segmentGroup:M,slicedSegments:O}=ed(t,h,y,S),k=new qe(M.segments,M.children);if(0===O.length&&k.hasChildren())return this.expandChildren(b,S,k).pipe(Fe(oe=>new qe(h,oe)));if(0===S.length&&0===O.length)return De(new qe(h,{}));const j=Mr(r)===s;return this.expandSegment(b,k,S,O,j?ze:s,!0).pipe(Fe($=>new qe(h.concat($.segments),$.children)))}))}getChildConfig(e,t,r){return t.children?De(new Xp(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?De(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(at(i=>i?this.configLoader.load(e.injector,t).pipe(Fe(s=>(t._loadedConfig=s,s))):function N3(n){return new ae(e=>e.error(Lp(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):De(new Xp([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?De(i.map(c=>{const h=e.get(c);let p;if(function w3(n){return n&&fs(n.canLoad)}(h))p=h.canLoad(t,r);else{if(!fs(h))throw new Error("Invalid CanLoad guard");p=h(t,r)}return Ei(p)})).pipe(Vl(),In(c=>{if(!Ws(c))return;const h=Lp(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw h.url=c,h}),Fe(c=>!0===c)):De(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return De(r);if(i.numberOfChildren>1||!i.children[ze])return R3(e.redirectTo);i=i.children[ze]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Hs(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return En(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const h=i.substring(1);r[s]=t[h]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let c={};return En(t.children,(h,p)=>{c[p]=this.createSegmentGroup(e,h,r,i)}),new qe(s,c)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function $p(n){const e={};for(const r of Object.keys(n.children)){const s=$p(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function k3(n){if(1===n.numberOfChildren&&n.children[ze]){const e=n.children[ze];return new qe(n.segments.concat(e.segments),e.children)}return n}(new qe(n.segments,e))}class fE{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class rd{constructor(e,t){this.component=e,this.route=t}}function L3(n,e,t){const r=n._root;return Wl(r,e?e._root:null,t,[r.value])}function id(n,e,t){const r=function U3(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Wl(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=ha(e);return n.children.forEach(c=>{(function j3(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const p=function V3(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!zs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!zs(n.url,e.url)||!vi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zp(n,e)||!vi(n.queryParams,e.queryParams);default:return!zp(n,e)}}(c,s,s.routeConfig.runGuardsAndResolvers);p?i.canActivateChecks.push(new fE(r)):(s.data=c.data,s._resolvedData=c._resolvedData),Wl(n,e,s.component?h?h.children:null:t,r,i),p&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new rd(h.outlet.component,c))}else c&&Gl(e,h,i),i.canActivateChecks.push(new fE(r)),Wl(n,null,s.component?h?h.children:null:t,r,i)})(c,s[c.value.outlet],t,r.concat([c.value]),i),delete s[c.value.outlet]}),En(s,(c,h)=>Gl(c,t.getContext(h),i)),i}function Gl(n,e,t){const r=ha(n),i=n.value;En(r,(s,c)=>{Gl(s,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new rd(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class K3{}function pE(n){return new ae(e=>e.error(n))}class Q3{constructor(e,t,r,i,s,c){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=c}recognize(){const e=ed(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,ze);if(null===t)return null;const r=new $u([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ze,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Yi(r,t),s=new Qv(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=Zv(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const c=t.children[s],h=aE(e,s),p=this.processSegmentGroup(h,c,s);if(null===p)return null;r.push(...p)}const i=gE(r);return function J3(n){n.sort((e,t)=>e.value.outlet===ze?-1:t.value.outlet===ze?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const s of e){const c=this.processSegmentAgainstRoute(s,t,r,i);if(null!==c)return c}return uE(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!cE(e,t,r,i))return null;let s,c=[],h=[];if("**"===e.path){const S=r.length>0?Lv(r).parameters:{};s=new $u(r,S,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_E(e),Mr(e),e.component,e,mE(t),yE(t)+r.length,wE(e))}else{const S=Ju(t,e,r);if(!S.matched)return null;c=S.consumedSegments,h=r.slice(S.lastChild),s=new $u(c,S.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_E(e),Mr(e),e.component,e,mE(t),yE(t)+c.length,wE(e))}const p=function e8(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:y,slicedSegments:v}=ed(t,c,h,p.filter(S=>void 0===S.redirectTo),this.relativeLinkResolution);if(0===v.length&&y.hasChildren()){const S=this.processChildren(p,y);return null===S?null:[new Yi(s,S)]}if(0===p.length&&0===v.length)return[new Yi(s,[])];const C=Mr(e)===i,b=this.processSegment(p,y,v,C?ze:i);return null===b?null:[new Yi(s,b)]}}function t8(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function gE(n){const e=[],t=new Set;for(const r of n){if(!t8(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=gE(r.children);e.push(new Yi(r.value,i))}return e.filter(r=>!t.has(r))}function mE(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function yE(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function _E(n){return n.data||{}}function wE(n){return n.resolve||{}}function Kp(n){return Vs(e=>{const t=n(e);return t?V(t).pipe(Fe(()=>e)):De(e)})}class c8 extends class l8{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Zp=new we("ROUTES");class vE{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(Fe(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const c=s.create(e);return new Xp(Fv(c.injector.get(Zp,void 0,be.Self|be.Optional)).map(qp),c)}),Wi(s=>{throw t._loader$=void 0,s}));return t._loader$=new CO(i,()=>new ke).pipe(bv()),t._loader$}loadModuleFactory(e){return Ei(e()).pipe(at(t=>t instanceof N_?De(t):V(this.compiler.compileModuleAsync(t))))}}class d8{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function h8(n){throw n}function f8(n,e,t){return e.parse("/")}function EE(n,e){return De(null)}const p8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},g8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let cr=(()=>{class n{constructor(t,r,i,s,c,h,p){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ke,this.errorHandler=h8,this.malformedUriErrorHandler=f8,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:EE,afterPreactivation:EE},this.urlHandlingStrategy=new d8,this.routeReuseStrategy=new c8,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(Ui),this.console=c.get(fw);const C=c.get(ut);this.isNgZoneEnabled=C instanceof ut&&ut.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function jO(){return new Hs(new qe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new vE(c,h,b=>this.triggerEvent(new Rv(b)),b=>this.triggerEvent(new Nv(b))),this.routerState=Kv(this.currentUrlTree,this.rootComponentType),this.transitions=new Tr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(zi(i=>0!==i.id),Fe(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Vs(i=>{let s=!1,c=!1;return De(i).pipe(In(h=>{this.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Vs(h=>{const p=this.browserUrlTree.toString(),y=!this.navigated||h.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||y)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return sd(h.source)&&(this.browserUrlTree=h.extractedUrl),De(h).pipe(Vs(C=>{const b=this.transitions.getValue();return r.next(new Fp(C.id,this.serializeUrl(C.extractedUrl),C.source,C.restoredState)),b!==this.transitions.getValue()?xn:Promise.resolve(C)}),function F3(n,e,t,r){return Vs(i=>function O3(n,e,t,r,i){return new P3(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(Fe(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),In(C=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:C.urlAfterRedirects})}),function n8(n,e,t,r,i){return at(s=>function Z3(n,e,t,r,i="emptyOnly",s="legacy"){try{const c=new Q3(n,e,t,r,i,s).recognize();return null===c?pE(new K3):De(c)}catch(c){return pE(c)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe(Fe(c=>Object.assign(Object.assign({},s),{targetSnapshot:c}))))}(this.rootComponentType,this.config,C=>this.serializeUrl(C),this.paramsInheritanceStrategy,this.relativeLinkResolution),In(C=>{if("eager"===this.urlUpdateStrategy){if(!C.extras.skipLocationChange){const S=this.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl);this.setBrowserUrl(S,C)}this.browserUrlTree=C.urlAfterRedirects}const b=new SO(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);r.next(b)}));if(y&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:b,extractedUrl:S,source:M,restoredState:O,extras:k}=h,j=new Fp(b,this.serializeUrl(S),M,O);r.next(j);const L=Kv(S,this.rootComponentType).snapshot;return De(Object.assign(Object.assign({},h),{targetSnapshot:L,urlAfterRedirects:S,extras:Object.assign(Object.assign({},k),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,h.resolve(null),xn}),Kp(h=>{const{targetSnapshot:p,id:y,extractedUrl:v,rawUrl:C,extras:{skipLocationChange:b,replaceUrl:S}}=h;return this.hooks.beforePreactivation(p,{navigationId:y,appliedUrlTree:v,rawUrlTree:C,skipLocationChange:!!b,replaceUrl:!!S})}),In(h=>{const p=new IO(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(p)}),Fe(h=>Object.assign(Object.assign({},h),{guards:L3(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function H3(n,e){return at(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:c}}=t;return 0===c.length&&0===s.length?De(Object.assign(Object.assign({},t),{guardsResult:!0})):function z3(n,e,t,r){return V(n).pipe(at(i=>function $3(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?De(s.map(h=>{const p=id(h,e,i);let y;if(function C3(n){return n&&fs(n.canDeactivate)}(p))y=Ei(p.canDeactivate(n,e,t,r));else{if(!fs(p))throw new Error("Invalid CanDeactivate guard");y=Ei(p(n,e,t,r))}return y.pipe(ua())})).pipe(Vl()):De(!0)}(i.component,i.route,t,e,r)),ua(i=>!0!==i,!0))}(c,r,i,n).pipe(at(h=>h&&function _3(n){return"boolean"==typeof n}(h)?function W3(n,e,t,r){return V(e).pipe(ca(i=>zu(function Y3(n,e){return null!==n&&e&&e(new NO(n)),De(!0)}(i.route.parent,r),function G3(n,e){return null!==n&&e&&e(new PO(n)),De(!0)}(i.route,r),function q3(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(c=>function B3(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>xv(()=>De(c.guards.map(p=>{const y=id(p,c.node,t);let v;if(function E3(n){return n&&fs(n.canActivateChild)}(y))v=Ei(y.canActivateChild(r,n));else{if(!fs(y))throw new Error("Invalid CanActivateChild guard");v=Ei(y(r,n))}return v.pipe(ua())})).pipe(Vl())));return De(s).pipe(Vl())}(n,i.path,t),function X3(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return De(!0);const i=r.map(s=>xv(()=>{const c=id(s,e,t);let h;if(function v3(n){return n&&fs(n.canActivate)}(c))h=Ei(c.canActivate(e,n));else{if(!fs(c))throw new Error("Invalid CanActivate guard");h=Ei(c(e,n))}return h.pipe(ua())}));return De(i).pipe(Vl())}(n,i.route,t))),ua(i=>!0!==i,!0))}(r,s,n,e):De(h)),Fe(h=>Object.assign(Object.assign({},t),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),In(h=>{if(Ws(h.guardsResult)){const y=Lp(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw y.url=h.guardsResult,y}const p=new TO(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(p)}),zi(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),Kp(h=>{if(h.guards.canActivateChecks.length)return De(h).pipe(In(p=>{const y=new MO(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}),Vs(p=>{let y=!1;return De(p).pipe(function r8(n,e){return at(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return De(t);let s=0;return V(i).pipe(ca(c=>function i8(n,e,t,r){return function s8(n,e,t,r){const i=Object.keys(n);if(0===i.length)return De({});const s={};return V(i).pipe(at(c=>function o8(n,e,t,r){const i=id(n,e,r);return Ei(i.resolve?i.resolve(e,t):i(e,t))}(n[c],e,t,r).pipe(In(h=>{s[c]=h}))),kp(1),at(()=>Object.keys(s).length===i.length?De(s):xn))}(n._resolve,n,e,r).pipe(Fe(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),Zv(n,t).resolve),null)))}(c.route,r,n,e)),In(()=>s++),kp(1),at(c=>s===i.length?De(t):xn))})}(this.paramsInheritanceStrategy,this.ngModule.injector),In({next:()=>y=!0,complete:()=>{y||(this.restoreHistory(p),this.cancelNavigationTransition(p,"At least one route resolver didn't emit any value."))}}))}),In(p=>{const y=new RO(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}))}),Kp(h=>{const{targetSnapshot:p,id:y,extractedUrl:v,rawUrl:C,extras:{skipLocationChange:b,replaceUrl:S}}=h;return this.hooks.afterPreactivation(p,{navigationId:y,appliedUrlTree:v,rawUrlTree:C,skipLocationChange:!!b,replaceUrl:!!S})}),Fe(h=>{const p=function s3(n,e,t){const r=Bl(n,e._root,t?t._root:void 0);return new $v(r,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return Object.assign(Object.assign({},h),{targetRouterState:p})}),In(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>Fe(r=>(new m3(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),In({next(){s=!0},complete(){s=!0}}),Tv(()=>{var h;s||c||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(h=this.currentNavigation)||void 0===h?void 0:h.id)===i.id&&(this.currentNavigation=null)}),Wi(h=>{if(c=!0,function LO(n){return n&&n[Pv]}(h)){const p=Ws(h.url);p||(this.navigated=!0,this.restoreHistory(i,!0));const y=new Mv(i.id,this.serializeUrl(i.extractedUrl),h.message);r.next(y),p?setTimeout(()=>{const v=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),C={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||sd(i.source)};this.scheduleNavigation(v,"imperative",null,C,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const p=new DO(i.id,this.serializeUrl(i.extractedUrl),h);r.next(p);try{i.resolve(this.errorHandler(h))}catch(y){i.reject(y)}}return xn}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},c=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(c){const p=Object.assign({},c);delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(s.state=p)}const h=this.parseUrl(t.url);this.scheduleNavigation(h,r,c,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){oE(t),this.config=t.map(qp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:c,queryParamsHandling:h,preserveFragment:p}=r,y=i||this.routerState.root,v=p?this.currentUrlTree.fragment:c;let C=null;switch(h){case"merge":C=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=s||null}return null!==C&&(C=this.removeEmptyProps(C)),function l3(n,e,t,r,i){if(0===t.length)return Wp(e.root,e.root,e,r,i);const s=function c3(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new tE(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return En(s.outlets,(p,y)=>{h[y]="string"==typeof p?p.split("/"):p}),[...i,{outlets:h}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===c?(s.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?t=!0:".."===h?e++:""!=h&&i.push(h))}),i):[...i,s]},[]);return new tE(t,e,r)}(t);if(s.toRoot())return Wp(e.root,new qe([],{}),e,r,i);const c=function u3(n,e,t){if(n.isAbsolute)return new Gp(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new Gp(s,s===e.root,0)}const r=Ku(n.commands[0])?0:1;return function d3(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Gp(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),h=c.processChildren?Zu(c.segmentGroup,c.index,s.commands):nE(c.segmentGroup,c.index,s.commands);return Wp(c.segmentGroup,h,e,r,i)}(y,this.currentUrlTree,t,C,null!=v?v:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Ws(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function m8(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},p8):!1===r?Object.assign({},g8):r,Ws(t))return Uv(this.currentUrlTree,t,i);const s=this.parseUrl(t);return Uv(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new kl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,c){var h,p,y;if(this.disposed)return Promise.resolve(!1);const v=this.transitions.value,C=sd(r)&&v&&!sd(v.source),b=v.rawUrl.toString()===t.toString(),S=v.id===(null===(h=this.currentNavigation)||void 0===h?void 0:h.id);if(C&&b&&S)return Promise.resolve(!0);let O,k,j;c?(O=c.resolve,k=c.reject,j=c.promise):j=new Promise((oe,Re)=>{O=oe,k=Re});const L=++this.navigationId;let $;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),$=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(p=this.browserPageId)&&void 0!==p?p:0:(null!==(y=this.browserPageId)&&void 0!==y?y:0)+1):$=0,this.setTransition({id:L,targetPageId:$,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:O,reject:k,promise:j,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),j.catch(oe=>Promise.reject(oe))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===c?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new Mv(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){Af()},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();function sd(n){return"imperative"!==n}let od=(()=>{class n{constructor(t,r,i,s,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=c,this.commands=null,this.onChanges=new ke,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:pa(this.skipLocationChange),replaceUrl:pa(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:pa(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(ee(cr),ee(fa),bo("tabindex"),ee(fu),ee(Sn))},n.\u0275dir=Vt({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&Bi("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Ts]}),n})();function pa(n){return""===n||!!n}class CE{}class xE{preload(e,t){return De(null)}}let bE=(()=>{class n{constructor(t,r,i,s){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=new vE(i,r,p=>t.triggerEvent(new Rv(p)),p=>t.triggerEvent(new Nv(p)))}setUpPreloading(){this.subscription=this.router.events.pipe(zi(t=>t instanceof kl),ca(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Ui);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const c=s._loadedConfig;i.push(this.processRoutes(c.module,c.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return V(i).pipe(Qn(),Fe(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?De(r._loadedConfig):this.loader.load(t.injector,r)).pipe(at(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(z(cr),z(Cu),z(Xt),z(CE))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})(),Jp=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Fp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof kl&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ov&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Ov(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){Af()},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();const Gs=new we("ROUTER_CONFIGURATION"),AE=new we("ROUTER_FORROOT_GUARD"),v8=[Du,{provide:zv,useClass:Wv},{provide:cr,useFactory:function A8(n,e,t,r,i,s,c={},h,p){const y=new cr(null,n,e,t,r,i,Fv(s));return h&&(y.urlHandlingStrategy=h),p&&(y.routeReuseStrategy=p),function D8(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,y),c.enableTracing&&y.events.subscribe(v=>{var C,b;null===(C=console.group)||void 0===C||C.call(console,`Router Event: ${v.constructor.name}`),console.log(v.toString()),console.log(v),null===(b=console.groupEnd)||void 0===b||b.call(console)}),y},deps:[zv,Hl,Du,Xt,Cu,Zp,Gs,[class u8{},new sr],[class a8{},new sr]]},Hl,{provide:fa,useFactory:function S8(n){return n.routerState.root},deps:[cr]},bE,xE,class w8{preload(e,t){return t().pipe(Wi(()=>De(null)))}},{provide:Gs,useValue:{enableTracing:!1}}];function E8(){return new ww("Router",cr)}let DE=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[v8,SE(t),{provide:AE,useFactory:b8,deps:[[cr,new sr,new Ms]]},{provide:Gs,useValue:r||{}},{provide:la,useFactory:x8,deps:[js,[new sl(pp),new sr],Gs]},{provide:Jp,useFactory:C8,deps:[cr,TN,Gs]},{provide:CE,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:xE},{provide:ww,multi:!0,useFactory:E8},[eg,{provide:vu,multi:!0,useFactory:I8,deps:[eg]},{provide:IE,useFactory:T8,deps:[eg]},{provide:hw,multi:!0,useExisting:IE}]]}}static forChild(t){return{ngModule:n,providers:[SE(t)]}}}return n.\u0275fac=function(t){return new(t||n)(z(AE,8),z(cr,8))},n.\u0275mod=Tt({type:n}),n.\u0275inj=je({}),n})();function C8(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Jp(n,e,t)}function x8(n,e,t={}){return t.useHash?new lR(n,e):new Vw(n,e)}function b8(n){return"guarded"}function SE(n){return[{provide:Rb,multi:!0,useValue:n},{provide:Zp,multi:!0,useValue:n}]}let eg=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ke}appInitializer(){return this.injector.get(sR,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(h=>r=h),s=this.injector.get(cr),c=this.injector.get(Gs);return"disabled"===c.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?De(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Gs),i=this.injector.get(bE),s=this.injector.get(Jp),c=this.injector.get(cr),h=this.injector.get(oa);t===h.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&c.initialNavigation(),i.setUpPreloading(),s.init(),c.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(z(Xt))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();function I8(n){return n.appInitializer.bind(n)}function T8(n){return n.bootstrapListener.bind(n)}const IE=new we("Router Initializer"),R8=new we("cdk-dir-doc",{providedIn:"root",factory:function N8(){return yh(Xe)}}),O8=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let tg,k8=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new vn,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function P8(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?O8.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(z(R8,8))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tt({type:n}),n.\u0275inj=je({}),n})();try{tg="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){tg=!1}let Xl,Ys,rg,Rr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function IN(n){return n===rv}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!tg)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(z(Eu))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ME=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tt({type:n}),n.\u0275inj=je({}),n})();function ng(n){return function F8(){if(null==Xl&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Xl=!0}))}finally{Xl=Xl||!1}return Xl}()?n:!!n.capture}function L8(){if(null==Ys){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ys=!1,Ys;if("scrollBehavior"in document.documentElement.style)Ys=!0;else{const n=Element.prototype.scrollTo;Ys=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Ys}function Xs(n){return n.composedPath?n.composedPath()[0]:n.target}function ig(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function NE(n){return zi((e,t)=>n<=t)}function Y8(n,e){return n===e}function ld(n){return bt((e,t)=>{Nn(n).subscribe(new ne(t,()=>t.complete(),tt)),!t.closed&&e.subscribe(t)})}function sg(n){return null!=n&&"false"!=`${n}`}function cd(n){return Array.isArray(n)?n:[n]}function Qt(n){return null==n?"":"string"==typeof n?n:`${n}px`}function ma(n){return n instanceof Sn?n.nativeElement:n}function FE(n){return 0===n.offsetX&&0===n.offsetY}function LE(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const tP=new we("cdk-input-modality-detector-options"),nP={ignoreKeys:[18,17,224,91,16]},ya=ng({passive:!0,capture:!0});let rP=(()=>{class n{constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Tr(null),this._lastTouchMs=0,this._onKeydown=c=>{var h,p;(null===(p=null===(h=this._options)||void 0===h?void 0:h.ignoreKeys)||void 0===p?void 0:p.some(y=>y===c.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Xs(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(FE(c)?"keyboard":"mouse"),this._mostRecentTarget=Xs(c))},this._onTouchstart=c=>{LE(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Xs(c))},this._options=Object.assign(Object.assign({},nP),s),this.modalityDetected=this._modality.pipe(NE(1)),this.modalityChanged=this.modalityDetected.pipe(function G8(n,e=wt){return n=null!=n?n:Y8,bt((t,r)=>{let i,s=!0;t.subscribe(new ne(r,c=>{const h=e(c);(s||!n(i,h))&&(s=!1,i=h,r.next(c))}))})}()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,ya),i.addEventListener("mousedown",this._onMousedown,ya),i.addEventListener("touchstart",this._onTouchstart,ya)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ya),document.removeEventListener("mousedown",this._onMousedown,ya),document.removeEventListener("touchstart",this._onTouchstart,ya))}}return n.\u0275fac=function(t){return new(t||n)(z(Rr),z(ut),z(Xe),z(tP,8))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iP=new we("liveAnnouncerElement",{providedIn:"root",factory:function sP(){return null}}),oP=new we("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let aP=(()=>{class n{constructor(t,r,i,s){this._ngZone=r,this._defaultOptions=s,this._document=i,this._liveElement=t||this._createLiveElement()}announce(t,...r){const i=this._defaultOptions;let s,c;return 1===r.length&&"number"==typeof r[0]?c=r[0]:[s,c]=r,this.clear(),clearTimeout(this._previousTimeout),s||(s=i&&i.politeness?i.politeness:"polite"),null==c&&i&&(c=i.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>new Promise(h=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,h(),"number"==typeof c&&(this._previousTimeout=setTimeout(()=>this.clear(),c))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var t;clearTimeout(this._previousTimeout),null===(t=this._liveElement)||void 0===t||t.remove(),this._liveElement=null}_createLiveElement(){const t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let s=0;s<r.length;s++)r[s].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),this._document.body.appendChild(i),i}}return n.\u0275fac=function(t){return new(t||n)(z(iP,8),z(ut),z(Xe),z(oP,8))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lP=new we("cdk-focus-monitor-default-options"),ud=ng({passive:!0,capture:!0});let cP=(()=>{class n{constructor(t,r,i,s,c){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ke,this._rootNodeFocusAndBlurListener=h=>{const p=Xs(h),y="focus"===h.type?this._onFocus:this._onBlur;for(let v=p;v;v=v.parentElement)y.call(this,h,v)},this._document=s,this._detectionMode=(null==c?void 0:c.detectionMode)||0}monitor(t,r=!1){const i=ma(t);if(!this._platform.isBrowser||1!==i.nodeType)return De(null);const s=function U8(n){if(function B8(){if(null==rg){const n="undefined"!=typeof document?document.head:null;rg=!(!n||!n.createShadowRoot&&!n.attachShadow)}return rg}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),c=this._elementInfo.get(i);if(c)return r&&(c.checkChildren=!0),c.subject;const h={checkChildren:r,subject:new ke,rootNode:s};return this._elementInfo.set(i,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(t){const r=ma(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=ma(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([h,p])=>this._originChanged(h,r,p)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=Xs(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,ud),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,ud)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ld(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ud),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ud),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(z(ut),z(Rr),z(rP),z(Xe,8),z(lP,8))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const UE="cdk-high-contrast-black-on-white",jE="cdk-high-contrast-white-on-black",og="cdk-high-contrast-active";let uP=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(og),t.remove(UE),t.remove(jE),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(og),t.add(UE)):2===r&&(t.add(og),t.add(jE))}}}return n.\u0275fac=function(t){return new(t||n)(z(Rr),z(Xe))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class VE{}const Xi="*";function hP(n,e){return{type:7,name:n,definitions:e,options:{}}}function HE(n,e=null){return{type:4,styles:e,timings:n}}function zE(n,e=null){return{type:2,steps:n,options:e}}function ql(n){return{type:6,styles:n,offset:null}}function WE(n,e,t){return{type:0,name:n,styles:e,options:t}}function GE(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function YE(n){Promise.resolve(null).then(n)}class _a{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){YE(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class XE{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?YE(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==s&&this._onFinish()}),c.onDestroy(()=>{++r==s&&this._onDestroy()}),c.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,h)=>Math.max(c,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function qE(){return"undefined"!=typeof window&&void 0!==window.document}function lg(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ps(n){switch(n.length){case 0:return new _a;case 1:return n[0];default:return new XE(n)}}function $E(n,e,t,r,i={},s={}){const c=[],h=[];let p=-1,y=null;if(r.forEach(v=>{const C=v.offset,b=C==p,S=b&&y||{};Object.keys(v).forEach(M=>{let O=M,k=v[M];if("offset"!==M)switch(O=e.normalizePropertyName(O,c),k){case"!":k=i[M];break;case Xi:k=s[M];break;default:k=e.normalizeStyleValue(M,O,k,c)}S[O]=k}),b||h.push(S),y=S,p=C}),c.length){const v="\n - ";throw new Error(`Unable to animate due to the following errors:${v}${c.join(v)}`)}return h}function cg(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&ug(t,"start",n)));break;case"done":n.onDone(()=>r(t&&ug(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&ug(t,"destroy",n)))}}function ug(n,e,t){const r=t.totalTime,s=dg(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),c=n._data;return null!=c&&(s._data=c),s}function dg(n,e,t,r,i="",s=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!c}}function ur(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function KE(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let hg=(n,e)=>!1,ZE=(n,e,t)=>[];(lg()||"undefined"!=typeof Element)&&(hg=qE()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),ZE=(n,e,t)=>{let r=[];if(t){const i=n.querySelectorAll(e);for(let s=0;s<i.length;s++)r.push(i[s])}else{const i=n.querySelector(e);i&&r.push(i)}return r});let qs=null,QE=!1;function fg(n){qs||(qs=function pP(){return"undefined"!=typeof document?document.body:null}()||{},QE=!!qs.style&&"WebkitAppearance"in qs.style);let e=!0;return qs.style&&!function fP(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in qs.style,!e&&QE&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in qs.style)),e}const pg=hg,gg=ZE;function JE(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let eC=(()=>{class n{validateStyleProperty(t){return fg(t)}matchesElement(t,r){return!1}containsElement(t,r){return pg(t,r)}query(t,r,i){return gg(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,c,h=[],p){return new _a(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})(),mg=(()=>{class n{}return n.NOOP=new eC,n})();const yg="ng-enter",dd="ng-leave",hd="ng-trigger",fd=".ng-trigger",nC="ng-animating",_g=".ng-animating";function $s(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:wg(parseFloat(e[1]),e[2])}function wg(n,e){return"s"===e?1e3*n:n}function pd(n,e,t){return n.hasOwnProperty("duration")?n:function yP(n,e,t){let i,s=0,c="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};i=wg(parseFloat(h[1]),h[2]);const p=h[3];null!=p&&(s=wg(parseFloat(p),h[4]));const y=h[5];y&&(c=y)}else i=n;if(!t){let h=!1,p=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),h=!0),s<0&&(e.push("Delay values below 0 are not allowed for this animation step."),h=!0),h&&e.splice(p,0,`The provided timing value "${n}" is invalid.`)}return{duration:i,delay:s,easing:c}}(n,e,t)}function wa(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function gs(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else wa(n,t);return t}function iC(n,e,t){return t?e+":"+t+";":""}function sC(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=iC(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=iC(0,vP(t),n.style[t]));n.setAttribute("style",e)}function Ci(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=Eg(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),lg()&&sC(n))}function Ks(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=Eg(t);n.style[r]=""}),lg()&&sC(n))}function $l(n){return Array.isArray(n)?1==n.length?n[0]:zE(n):n}const vg=new RegExp("{{\\s*(.+?)\\s*}}","g");function oC(n){let e=[];if("string"==typeof n){let t;for(;t=vg.exec(n);)e.push(t[1]);vg.lastIndex=0}return e}function gd(n,e,t){const r=n.toString(),i=r.replace(vg,(s,c)=>{let h=e[c];return e.hasOwnProperty(c)||(t.push(`Please provide a value for the animation param ${c}`),h=""),h.toString()});return i==r?n:i}function md(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const wP=/-+([a-z0-9])/g;function Eg(n){return n.replace(wP,(...e)=>e[1].toUpperCase())}function vP(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function aC(n,e){return 0===n||0===e}function lC(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let s=e[0],c=[];if(r.forEach(h=>{s.hasOwnProperty(h)||c.push(h),s[h]=t[h]}),c.length)for(var i=1;i<e.length;i++){let h=e[i];c.forEach(function(p){h[p]=Cg(n,p)})}}return e}function dr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Cg(n,e){return window.getComputedStyle(n)[e]}function EP(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function CP(n,e,t){if(":"==n[0]){const p=function xP(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof p)return void e.push(p);n=p}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const i=r[1],s=r[2],c=r[3];e.push(cC(i,c));"<"==s[0]&&!("*"==i&&"*"==c)&&e.push(cC(c,i))}(r,t,e)):t.push(n),t}const _d=new Set(["true","1"]),wd=new Set(["false","0"]);function cC(n,e){const t=_d.has(n)||wd.has(n),r=_d.has(e)||wd.has(e);return(i,s)=>{let c="*"==n||n==i,h="*"==e||e==s;return!c&&t&&"boolean"==typeof i&&(c=i?_d.has(n):wd.has(n)),!h&&r&&"boolean"==typeof s&&(h=s?_d.has(e):wd.has(e)),c&&h}}const bP=new RegExp("s*:selfs*,?","g");function xg(n,e,t){return new AP(n).build(e,t)}class AP{constructor(e){this._driver=e}build(e,t){const r=new IP(t);return this._resetContextStyleTimingState(r),dr(this,$l(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const p=h,y=p.name;y.toString().split(/\s*,\s*/).forEach(v=>{p.name=v,s.push(this.visitState(p,t))}),p.name=y}else if(1==h.type){const p=this.visitTransition(h,t);r+=p.queryCount,i+=p.depCount,c.push(p)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:s,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,c=i||{};if(r.styles.forEach(h=>{if(vd(h)){const p=h;Object.keys(p).forEach(y=>{oC(p[y]).forEach(v=>{c.hasOwnProperty(v)||s.add(v)})})}}),s.size){const h=md(s.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${h.join(", ")}`)}}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=dr(this,$l(e.animation),t);return{type:1,matchers:EP(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Zs(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>dr(this,r,t)),options:Zs(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(c=>{t.currentTime=r;const h=dr(this,c,t);return i=Math.max(i,t.currentTime),h});return t.currentTime=i,{type:3,steps:s,options:Zs(e.options)}}visitAnimate(e,t){const r=function MP(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return bg(pd(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=bg(0,0,"");return s.dynamic=!0,s.strValue=r,s}return t=t||pd(r,e),bg(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:ql({});if(5==s.type)i=this.visitKeyframes(s,t);else{let c=e.styles,h=!1;if(!c){h=!0;const y={};r.easing&&(y.easing=r.easing),c=ql(y)}t.currentTime+=r.duration+r.delay;const p=this.visitStyle(c,t);p.isEmptyStep=h,i=p}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(c=>{"string"==typeof c?c==Xi?r.push(c):t.errors.push(`The provided style string value ${c} is not allowed.`):r.push(c)}):r.push(e.styles);let i=!1,s=null;return r.forEach(c=>{if(vd(c)){const h=c,p=h.easing;if(p&&(s=p,delete h.easing),!i)for(let y in h)if(h[y].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(h=>{if(!this._driver.validateStyleProperty(h))return void t.errors.push(`The provided animation property "${h}" is not a supported CSS property for animations`);const p=t.collectedStyles[t.currentQuerySelector],y=p[h];let v=!0;y&&(s!=i&&s>=y.startTime&&i<=y.endTime&&(t.errors.push(`The CSS property "${h}" that exists between the times of "${y.startTime}ms" and "${y.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${i}ms"`),v=!1),s=y.startTime),v&&(p[h]={startTime:s,endTime:i}),t.options&&function _P(n,e,t){const r=e.params||{},i=oC(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(`Unable to resolve the local animation param ${s} in the given list of values`)})}(c[h],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let s=0;const c=[];let h=!1,p=!1,y=0;const v=e.steps.map(j=>{const L=this._makeStyleAst(j,t);let $=null!=L.offset?L.offset:function TP(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(vd(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(vd(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(L.styles),oe=0;return null!=$&&(s++,oe=L.offset=$),p=p||oe<0||oe>1,h=h||oe<y,y=oe,c.push(oe),L});p&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),h&&t.errors.push("Please ensure that all keyframe offsets are in order");const C=e.steps.length;let b=0;s>0&&s<C?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(b=1/(C-1));const S=C-1,M=t.currentTime,O=t.currentAnimateTimings,k=O.duration;return v.forEach((j,L)=>{const $=b>0?L==S?1:b*L:c[L],oe=$*k;t.currentTime=M+O.delay+oe,O.duration=oe,this._validateStyleAst(j,t),j.offset=$,r.styles.push(j)}),r}visitReference(e,t){return{type:8,animation:dr(this,$l(e.animation),t),options:Zs(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Zs(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Zs(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,c]=function DP(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(bP,"")),n=n.replace(/@\*/g,fd).replace(/@\w+/g,t=>fd+"-"+t.substr(1)).replace(/:animating/g,_g),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,ur(t.collectedStyles,t.currentQuerySelector,{});const h=dr(this,$l(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:h,originalSelector:e.selector,options:Zs(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:pd(e.timings,t.errors,!0);return{type:12,animation:dr(this,$l(e.animation),t),timings:r,options:null}}}class IP{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function vd(n){return!Array.isArray(n)&&"object"==typeof n}function Zs(n){return n?(n=wa(n)).params&&(n.params=function SP(n){return n?wa(n):null}(n.params)):n={},n}function bg(n,e,t){return{duration:n,delay:e,easing:t}}function Ag(n,e,t,r,i,s,c=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:c,subTimeline:h}}class Ed{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const OP=new RegExp(":enter","g"),kP=new RegExp(":leave","g");function Dg(n,e,t,r,i,s={},c={},h,p,y=[]){return(new FP).buildKeyframes(n,e,t,r,i,s,c,h,p,y)}class FP{buildKeyframes(e,t,r,i,s,c,h,p,y,v=[]){y=y||new Ed;const C=new Sg(e,t,y,i,s,v,[]);C.options=p,C.currentTimeline.setStyles([c],null,C.errors,p),dr(this,r,C);const b=C.timelines.filter(S=>S.containsAnimation());if(b.length&&Object.keys(h).length){const S=b[b.length-1];S.allowOnlyTimelineStyles()||S.setStyles([h],null,C.errors,p)}return b.length?b.map(S=>S.buildKeyframes()):[Ag(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);s!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const c=null!=r.duration?$s(r.duration):null,h=null!=r.delay?$s(r.delay):null;return 0!==c&&e.forEach(p=>{const y=t.appendInstructionToTimeline(p,c,h);s=Math.max(s,y.duration+y.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),dr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Cd);const c=$s(s.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>dr(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?$s(e.options.delay):0;e.steps.forEach(c=>{const h=t.createSubContext(e.options);s&&h.delayNextStep(s),dr(this,c,h),i=Math.max(i,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return pd(t.params?gd(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,h=t.createSubContext().currentTimeline;h.easing=r.easing,e.styles.forEach(p=>{h.forwardTime((p.offset||0)*s),h.setStyles(p.styles,p.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?$s(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Cd);let c=r;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=h.length;let p=null;h.forEach((y,v)=>{t.currentQueryIndex=v;const C=t.createSubContext(e.options,y);s&&C.delayNextStep(s),y===t.element&&(p=C.currentTimeline),dr(this,e.animation,C),C.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,C.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,c=Math.abs(s.duration),h=c*(t.currentQueryTotal-1);let p=c*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=h-p;break;case"full":p=r.currentStaggerTime}const v=t.currentTimeline;p&&v.delayNextStep(p);const C=v.currentTime;dr(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-C+(i.startTime-r.currentTimeline.startTime)}}const Cd={};class Sg{constructor(e,t,r,i,s,c,h,p){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=c,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Cd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new xd(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=$s(r.duration)),null!=r.delay&&(i.delay=$s(r.delay));const s=r.params;if(s){let c=i.params;c||(c=this.options.params={}),Object.keys(s).forEach(h=>{(!t||!c.hasOwnProperty(h))&&(c[h]=gd(s[h],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new Sg(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Cd,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},s=new LP(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,c){let h=[];if(i&&h.push(this.element),e.length>0){e=(e=e.replace(OP,"."+this._enterClassName)).replace(kP,"."+this._leaveClassName);let y=this._driver.query(this.element,e,1!=r);0!==r&&(y=r<0?y.slice(y.length+r,y.length):y.slice(0,r)),h.push(...y)}return!s&&0==h.length&&c.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),h}}class xd{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new xd(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Xi,this._currentKeyframe[t]=Xi}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const s=i&&i.params||{},c=function BP(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(s=>{t[s]=Xi})):gs(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(c).forEach(h=>{const p=gd(c[h],s,r);this._pendingStyles[h]=p,this._localTimelineStyles.hasOwnProperty(h)||(this._backFill[h]=this._globalTimelineStyles.hasOwnProperty(h)?this._globalTimelineStyles[h]:Xi),this._updateStyle(h,p)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((h,p)=>{const y=gs(h,!0);Object.keys(y).forEach(v=>{const C=y[v];"!"==C?e.add(v):C==Xi&&t.add(v)}),r||(y.offset=p/this.duration),i.push(y)});const s=e.size?md(e.values()):[],c=t.size?md(t.values()):[];if(r){const h=i[0],p=wa(h);h.offset=0,p.offset=1,i=[h,p]}return Ag(this.element,i,s,c,this.duration,this.startTime,this.easing,!1)}}class LP extends xd{constructor(e,t,r,i,s,c,h=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],c=r+t,h=t/c,p=gs(e[0],!1);p.offset=0,s.push(p);const y=gs(e[0],!1);y.offset=hC(h),s.push(y);const v=e.length-1;for(let C=1;C<=v;C++){let b=gs(e[C],!1);b.offset=hC((t+b.offset*r)/c),s.push(b)}r=c,t=0,i="",e=s}return Ag(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function hC(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Ig{}class UP extends Ig{normalizePropertyName(e,t){return Eg(e)}normalizeStyleValue(e,t,r,i){let s="";const c=r.toString().trim();if(jP[t]&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&i.push(`Please provide a CSS unit value for ${e}:${r}`)}return c+s}}const jP=(()=>function VP(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function fC(n,e,t,r,i,s,c,h,p,y,v,C,b){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:c,timelines:h,queriedElements:p,preStyleProps:y,postStyleProps:v,totalTime:C,errors:b}}const Tg={};class pC{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function HP(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],s=this._stateStyles[e],c=i?i.buildStyles(t,r):{};return s?s.buildStyles(t,r):c}build(e,t,r,i,s,c,h,p,y,v){const C=[],b=this.ast.options&&this.ast.options.params||Tg,M=this.buildStyles(r,h&&h.params||Tg,C),O=p&&p.params||Tg,k=this.buildStyles(i,O,C),j=new Set,L=new Map,$=new Map,oe="void"===i,Re={params:Object.assign(Object.assign({},b),O)},Ct=v?[]:Dg(e,t,this.ast.animation,s,c,M,k,Re,y,C);let _t=0;if(Ct.forEach(Tn=>{_t=Math.max(Tn.duration+Tn.delay,_t)}),C.length)return fC(t,this._triggerName,r,i,oe,M,k,[],[],L,$,_t,C);Ct.forEach(Tn=>{const fr=Tn.element,ba=ur(L,fr,{});Tn.preStyleProps.forEach(Kr=>ba[Kr]=!0);const qi=ur($,fr,{});Tn.postStyleProps.forEach(Kr=>qi[Kr]=!0),fr!==t&&j.add(fr)});const on=md(j.values());return fC(t,this._triggerName,r,i,oe,M,k,Ct,on,L,$,_t)}}class zP{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=wa(this.defaultParams);return Object.keys(e).forEach(s=>{const c=e[s];null!=c&&(i[s]=c)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const c=s;Object.keys(c).forEach(h=>{let p=c[h];p.length>1&&(p=gd(p,i,t));const y=this.normalizer.normalizePropertyName(h,t);p=this.normalizer.normalizeStyleValue(h,y,p,t),r[y]=p})}}),r}}class GP{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new zP(i.style,i.options&&i.options.params||{},r)}),gC(this.states,"true","1"),gC(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new pC(e,i,this.states))}),this.fallbackTransition=function YP(n,e,t){return new pC(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function gC(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const XP=new Ed;class qP{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],i=xg(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=i}_buildPlayer(e,t,r){const i=e.element,s=$E(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations[e];let c;const h=new Map;if(s?(c=Dg(this._driver,t,s,yg,dd,{},{},r,XP,i),c.forEach(v=>{const C=ur(h,v.element,{});v.postStyleProps.forEach(b=>C[b]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),c=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);h.forEach((v,C)=>{Object.keys(v).forEach(b=>{v[b]=this._driver.computeStyle(C,b,Xi)})});const y=ps(c.map(v=>{const C=h.get(v.element);return this._buildPlayer(v,{},C)}));return this._playersById[e]=y,y.onDestroy(()=>this.destroy(e)),this.players.push(y),y}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,i){const s=dg(t,"","","");return cg(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const mC="ng-animate-queued",Mg="ng-animate-disabled",JP=[],yC={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ek={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Nr="__ng_removed";class Rg{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function ik(n){return null!=n?n:null}(r?e.value:e),r){const s=wa(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Kl="void",Ng=new Rg(Kl);class tk{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Or(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function sk(n){return"start"==n||"done"==n}(r))throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);const s=ur(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};s.push(c);const h=ur(this._engine.statesByElement,e,{});return h.hasOwnProperty(t)||(Or(e,hd),Or(e,hd+"-"+t),h[t]=Ng),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(c);p>=0&&s.splice(p,1),this._triggers[t]||delete h[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),c=new Og(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(Or(e,hd),Or(e,hd+"-"+t),this._engine.statesByElement.set(e,h={}));let p=h[t];const y=new Rg(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&p&&y.absorbOptions(p.options),h[t]=y,p||(p=Ng),y.value!==Kl&&p.value===y.value){if(!function lk(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(p.params,y.params)){const O=[],k=s.matchStyles(p.value,p.params,O),j=s.matchStyles(y.value,y.params,O);O.length?this._engine.reportError(O):this._engine.afterFlush(()=>{Ks(e,k),Ci(e,j)})}return}const b=ur(this._engine.playersByElement,e,[]);b.forEach(O=>{O.namespaceId==this.id&&O.triggerName==t&&O.queued&&O.destroy()});let S=s.matchTransition(p.value,y.value,e,y.params),M=!1;if(!S){if(!i)return;S=s.fallbackTransition,M=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:S,fromState:p,toState:y,player:c,isFallbackTransition:M}),M||(Or(e,mC),c.onStart(()=>{va(e,mC)})),c.onDone(()=>{let O=this.players.indexOf(c);O>=0&&this.players.splice(O,1);const k=this._engine.playersByElement.get(e);if(k){let j=k.indexOf(c);j>=0&&k.splice(j,1)}}),this.players.push(c),b.push(c),c}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,fd,!0);r.forEach(i=>{if(i[Nr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),c=new Map;if(s){const h=[];if(Object.keys(s).forEach(p=>{if(c.set(p,s[p].value),this._triggers[p]){const y=this.trigger(e,p,Kl,i);y&&h.push(y)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&ps(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const c=s.name;if(i.has(c))return;i.add(c);const p=this._triggers[c].fallbackTransition,y=r[c]||Ng,v=new Rg(Kl),C=new Og(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:p,fromState:y,toState:v,player:C,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Nr];(!s||s===yC)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Or(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,c=this._elementListeners.get(s);c&&c.forEach(h=>{if(h.name==r.triggerName){const p=dg(s,r.triggerName,r.fromState.value,r.toState.value);p._data=e,cg(r.player,h.phase,p,h.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class nk{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new tk(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let i=!1;for(let s=r;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,t)){this._namespaceList.splice(s+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let s=0;s<i.length;s++){const c=r[i[s]].namespaceId;if(c){const h=this._fetchNamespace(c);h&&t.add(h)}}}return t}trigger(e,t,r,i){if(bd(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!bd(t))return;const s=t[Nr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Or(e,Mg)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),va(e,Mg))}removeNode(e,t,r,i){if(bd(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Nr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return bd(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,fd,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,_g,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ps(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Nr];if(r&&r.setForRemoval){if(e[Nr]=yC,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(Mg))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Or(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?ps(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new Ed,i=[],s=new Map,c=[],h=new Map,p=new Map,y=new Map,v=new Set;this.disabledNodes.forEach(de=>{v.add(de);const ve=this.driver.query(de,".ng-animate-queued",!0);for(let xe=0;xe<ve.length;xe++)v.add(ve[xe])});const C=this.bodyNode,b=Array.from(this.statesByElement.keys()),S=vC(b,this.collectedEnterElements),M=new Map;let O=0;S.forEach((de,ve)=>{const xe=yg+O++;M.set(ve,xe),de.forEach(rt=>Or(rt,xe))});const k=[],j=new Set,L=new Set;for(let de=0;de<this.collectedLeaveElements.length;de++){const ve=this.collectedLeaveElements[de],xe=ve[Nr];xe&&xe.setForRemoval&&(k.push(ve),j.add(ve),xe.hasAnimation?this.driver.query(ve,".ng-star-inserted",!0).forEach(rt=>j.add(rt)):L.add(ve))}const $=new Map,oe=vC(b,Array.from(j));oe.forEach((de,ve)=>{const xe=dd+O++;$.set(ve,xe),de.forEach(rt=>Or(rt,xe))}),e.push(()=>{S.forEach((de,ve)=>{const xe=M.get(ve);de.forEach(rt=>va(rt,xe))}),oe.forEach((de,ve)=>{const xe=$.get(ve);de.forEach(rt=>va(rt,xe))}),k.forEach(de=>{this.processLeaveNode(de)})});const Re=[],Ct=[];for(let de=this._namespaceList.length-1;de>=0;de--)this._namespaceList[de].drainQueuedTransitions(t).forEach(xe=>{const rt=xe.player,pn=xe.element;if(Re.push(rt),this.collectedEnterElements.length){const Wn=pn[Nr];if(Wn&&Wn.setForMove){if(Wn.previousTriggersValues&&Wn.previousTriggersValues.has(xe.triggerName)){const eo=Wn.previousTriggersValues.get(xe.triggerName),ws=this.statesByElement.get(xe.element);ws&&ws[xe.triggerName]&&(ws[xe.triggerName].value=eo)}return void rt.destroy()}}const bi=!C||!this.driver.containsElement(C,pn),pr=$.get(pn),_s=M.get(pn),Nt=this._buildInstruction(xe,r,_s,pr,bi);if(Nt.errors&&Nt.errors.length)return void Ct.push(Nt);if(bi)return rt.onStart(()=>Ks(pn,Nt.fromStyles)),rt.onDestroy(()=>Ci(pn,Nt.toStyles)),void i.push(rt);if(xe.isFallbackTransition)return rt.onStart(()=>Ks(pn,Nt.fromStyles)),rt.onDestroy(()=>Ci(pn,Nt.toStyles)),void i.push(rt);const Hx=[];Nt.timelines.forEach(Wn=>{Wn.stretchStartingKeyframe=!0,this.disabledNodes.has(Wn.element)||Hx.push(Wn)}),Nt.timelines=Hx,r.append(pn,Nt.timelines),c.push({instruction:Nt,player:rt,element:pn}),Nt.queriedElements.forEach(Wn=>ur(h,Wn,[]).push(rt)),Nt.preStyleProps.forEach((Wn,eo)=>{const ws=Object.keys(Wn);if(ws.length){let to=p.get(eo);to||p.set(eo,to=new Set),ws.forEach(e0=>to.add(e0))}}),Nt.postStyleProps.forEach((Wn,eo)=>{const ws=Object.keys(Wn);let to=y.get(eo);to||y.set(eo,to=new Set),ws.forEach(e0=>to.add(e0))})});if(Ct.length){const de=[];Ct.forEach(ve=>{de.push(`@${ve.triggerName} has failed due to:\n`),ve.errors.forEach(xe=>de.push(`- ${xe}\n`))}),Re.forEach(ve=>ve.destroy()),this.reportError(de)}const _t=new Map,on=new Map;c.forEach(de=>{const ve=de.element;r.has(ve)&&(on.set(ve,ve),this._beforeAnimationBuild(de.player.namespaceId,de.instruction,_t))}),i.forEach(de=>{const ve=de.element;this._getPreviousPlayers(ve,!1,de.namespaceId,de.triggerName,null).forEach(rt=>{ur(_t,ve,[]).push(rt),rt.destroy()})});const Tn=k.filter(de=>CC(de,p,y)),fr=new Map;wC(fr,this.driver,L,y,Xi).forEach(de=>{CC(de,p,y)&&Tn.push(de)});const qi=new Map;S.forEach((de,ve)=>{wC(qi,this.driver,new Set(de),p,"!")}),Tn.forEach(de=>{const ve=fr.get(de),xe=qi.get(de);fr.set(de,Object.assign(Object.assign({},ve),xe))});const Kr=[],Aa=[],Da={};c.forEach(de=>{const{element:ve,player:xe,instruction:rt}=de;if(r.has(ve)){if(v.has(ve))return xe.onDestroy(()=>Ci(ve,rt.toStyles)),xe.disabled=!0,xe.overrideTotalTime(rt.totalTime),void i.push(xe);let pn=Da;if(on.size>1){let pr=ve;const _s=[];for(;pr=pr.parentNode;){const Nt=on.get(pr);if(Nt){pn=Nt;break}_s.push(pr)}_s.forEach(Nt=>on.set(Nt,pn))}const bi=this._buildAnimation(xe.namespaceId,rt,_t,s,qi,fr);if(xe.setRealPlayer(bi),pn===Da)Kr.push(xe);else{const pr=this.playersByElement.get(pn);pr&&pr.length&&(xe.parentPlayer=ps(pr)),i.push(xe)}}else Ks(ve,rt.fromStyles),xe.onDestroy(()=>Ci(ve,rt.toStyles)),Aa.push(xe),v.has(ve)&&i.push(xe)}),Aa.forEach(de=>{const ve=s.get(de.element);if(ve&&ve.length){const xe=ps(ve);de.setRealPlayer(xe)}}),i.forEach(de=>{de.parentPlayer?de.syncPlayerEvents(de.parentPlayer):de.destroy()});for(let de=0;de<k.length;de++){const ve=k[de],xe=ve[Nr];if(va(ve,dd),xe&&xe.hasAnimation)continue;let rt=[];if(h.size){let bi=h.get(ve);bi&&bi.length&&rt.push(...bi);let pr=this.driver.query(ve,_g,!0);for(let _s=0;_s<pr.length;_s++){let Nt=h.get(pr[_s]);Nt&&Nt.length&&rt.push(...Nt)}}const pn=rt.filter(bi=>!bi.destroyed);pn.length?ok(this,ve,pn):this.processLeaveNode(ve)}return k.length=0,Kr.forEach(de=>{this.players.push(de),de.onDone(()=>{de.destroy();const ve=this.players.indexOf(de);this.players.splice(ve,1)}),de.play()}),Kr}elementContainsData(e,t){let r=!1;const i=t[Nr];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let c=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(c=h)}else{const h=this.playersByElement.get(e);if(h){const p=!s||s==Kl;h.forEach(y=>{y.queued||!p&&y.triggerName!=i||c.push(y)})}}return(r||i)&&(c=c.filter(h=>!(r&&r!=h.namespaceId||i&&i!=h.triggerName))),c}_beforeAnimationBuild(e,t,r){const s=t.element,c=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const y=p.element,v=y!==s,C=ur(r,y,[]);this._getPreviousPlayers(y,v,c,h,t.toState).forEach(S=>{const M=S.getRealPlayer();M.beforeDestroy&&M.beforeDestroy(),S.destroy(),C.push(S)})}Ks(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,c){const h=t.triggerName,p=t.element,y=[],v=new Set,C=new Set,b=t.timelines.map(M=>{const O=M.element;v.add(O);const k=O[Nr];if(k&&k.removedBeforeQueried)return new _a(M.duration,M.delay);const j=O!==p,L=function ak(n){const e=[];return EC(n,e),e}((r.get(O)||JP).map(_t=>_t.getRealPlayer())).filter(_t=>!!_t.element&&_t.element===O),$=s.get(O),oe=c.get(O),Re=$E(0,this._normalizer,0,M.keyframes,$,oe),Ct=this._buildPlayer(M,Re,L);if(M.subTimeline&&i&&C.add(O),j){const _t=new Og(e,h,O);_t.setRealPlayer(Ct),y.push(_t)}return Ct});y.forEach(M=>{ur(this.playersByQueriedElement,M.element,[]).push(M),M.onDone(()=>function rk(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,M.element,M))}),v.forEach(M=>Or(M,nC));const S=ps(b);return S.onDestroy(()=>{v.forEach(M=>va(M,nC)),Ci(p,t.toStyles)}),C.forEach(M=>{ur(i,M,[]).push(S)}),S}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new _a(e.duration,e.delay)}}class Og{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new _a,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>cg(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ur(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function bd(n){return n&&1===n.nodeType}function _C(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function wC(n,e,t,r,i){const s=[];t.forEach(p=>s.push(_C(p)));const c=[];r.forEach((p,y)=>{const v={};p.forEach(C=>{const b=v[C]=e.computeStyle(y,C,i);(!b||0==b.length)&&(y[Nr]=ek,c.push(y))}),n.set(y,v)});let h=0;return t.forEach(p=>_C(p,s[h++])),c}function vC(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const i=new Set(e),s=new Map;function c(h){if(!h)return 1;let p=s.get(h);if(p)return p;const y=h.parentNode;return p=t.has(y)?y:i.has(y)?1:c(y),s.set(h,p),p}return e.forEach(h=>{const p=c(h);1!==p&&t.get(p).push(h)}),t}function Or(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function va(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function ok(n,e,t){ps(t).onDone(()=>n.processLeaveNode(e))}function EC(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof XE?EC(r.players,e):e.push(r)}}function CC(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class Ad{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new nk(e,t,r),this._timelineEngine=new qP(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const c=e+"-"+i;let h=this._triggerCache[c];if(!h){const p=[],y=xg(this._driver,s,p);if(p.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${p.join("\n - ")}`);h=function WP(n,e,t){return new GP(n,e,t)}(i,y,this._normalizer),this._triggerCache[c]=h}this._transitionEngine.registerTrigger(t,i,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,c]=KE(r);this._timelineEngine.command(s,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[c,h]=KE(r);return this._timelineEngine.listen(c,t,h,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function xC(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Pg(e[0]),e.length>1&&(r=Pg(e[e.length-1]))):e&&(t=Pg(e)),t||r?new ck(n,t,r):null}let ck=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ci(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ci(this._element,this._initialStyles),this._endStyles&&(Ci(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ks(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ks(this._element,this._endStyles),this._endStyles=null),Ci(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Pg(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];uk(i)&&(e=e||{},e[i]=n[i])}return e}function uk(n){return"display"===n||"position"===n}const bC="animation",AC="animationend";class fk{constructor(e,t,r,i,s,c,h){this._element=e,this._name=t,this._duration=r,this._delay=i,this._easing=s,this._fillMode=c,this._onDoneFn=h,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=p=>this._handleCallback(p)}apply(){(function pk(n,e){const t=Fg(n,"").trim();let r=0;t.length&&(r=function mk(n,e){let t=0;for(let r=0;r<n.length;r++)n.charAt(r)===e&&t++;return t}(t,",")+1,e=`${t}, ${e}`),Dd(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),IC(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){DC(this._element,this._name,"paused")}resume(){DC(this._element,this._name,"running")}setPosition(e){const t=SC(this._element,this._name);this._position=e*this._duration,Dd(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),IC(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function gk(n,e){const r=Fg(n,"").split(","),i=kg(r,e);i>=0&&(r.splice(i,1),Dd(n,"",r.join(",")))}(this._element,this._name))}}function DC(n,e,t){Dd(n,"PlayState",t,SC(n,e))}function SC(n,e){const t=Fg(n,"");return t.indexOf(",")>0?kg(t.split(","),e):kg([t],e)}function kg(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function IC(n,e,t){t?n.removeEventListener(AC,e):n.addEventListener(AC,e)}function Dd(n,e,t,r){const i=bC+e;if(null!=r){const s=n.style[i];if(s.length){const c=s.split(",");c[r]=t,t=c.join(",")}}n.style[i]=t}function Fg(n,e){return n.style[bC+e]||""}class TC{constructor(e,t,r,i,s,c,h,p){this.element=e,this.keyframes=t,this.animationName=r,this._duration=i,this._delay=s,this._finalStyles=h,this._specialStyles=p,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=c||"linear",this.totalTime=i+s,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new fk(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:Cg(this.element,r))})}this.currentSnapshot=e}}class wk extends _a{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=JE(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class RC{constructor(){this._count=0}validateStyleProperty(e){return fg(e)}matchesElement(e,t){return!1}containsElement(e,t){return pg(e,t)}query(e,t,r){return gg(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(h=>JE(h));let i=`@keyframes ${t} {\n`,s="";r.forEach(h=>{s=" ";const p=parseFloat(h.offset);i+=`${s}${100*p}% {\n`,s+=" ",Object.keys(h).forEach(y=>{const v=h[y];switch(y){case"offset":return;case"easing":return void(v&&(i+=`${s}animation-timing-function: ${v};\n`));default:return void(i+=`${s}${y}: ${v};\n`)}}),i+=`${s}}\n`}),i+="}\n";const c=document.createElement("style");return c.textContent=i,c}animate(e,t,r,i,s,c=[],h){const p=c.filter(k=>k instanceof TC),y={};aC(r,i)&&p.forEach(k=>{let j=k.currentSnapshot;Object.keys(j).forEach(L=>y[L]=j[L])});const v=function Ck(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(i=>{"offset"==i||"easing"==i||(e[i]=r[i])})}),e}(t=lC(e,t,y));if(0==r)return new wk(e,v);const C="gen_css_kf_"+this._count++,b=this.buildKeyframeElement(e,C,t);(function Ek(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(b);const M=xC(e,t),O=new TC(e,t,C,r,i,s,v,M);return O.onDestroy(()=>function xk(n){n.parentNode.removeChild(n)}(b)),O}}class OC{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:Cg(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class bk{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(PC().toString()),this._cssKeyframesDriver=new RC}validateStyleProperty(e){return fg(e)}matchesElement(e,t){return!1}containsElement(e,t){return pg(e,t)}query(e,t,r){return gg(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,i,s,c=[],h){if(!h&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,i,s,c);const v={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(v.easing=s);const C={},b=c.filter(M=>M instanceof OC);aC(r,i)&&b.forEach(M=>{let O=M.currentSnapshot;Object.keys(O).forEach(k=>C[k]=O[k])});const S=xC(e,t=lC(e,t=t.map(M=>gs(M,!1)),C));return new OC(e,t,v,S)}}function PC(){return qE()&&Element.prototype.animate||{}}let Dk=(()=>{class n extends VE{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:qn.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?zE(t):t;return kC(this._renderer,null,r,"register",[i]),new Sk(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(z(bl),z(Xe))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();class Sk extends class dP{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Ik(this._id,e,t||{},this._renderer)}}class Ik{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return kC(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function kC(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const FC="@.disabled";let Tk=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,c)=>{const h=null==c?void 0:c.parentNode(s);h&&c.removeChild(h,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let v=this._rendererCache.get(s);return v||(v=new LC("",s,this.engine),this._rendererCache.set(s,v)),v}const c=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const p=v=>{Array.isArray(v)?v.forEach(p):this.engine.registerTrigger(c,h,t,v.name,v)};return r.data.animation.forEach(p),new Mk(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,h]=s;c(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(z(bl),z(Ad),z(ut))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();class LC{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==FC?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Mk extends LC{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==FC?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Rk(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),c="";return"@"!=s.charAt(0)&&([s,c]=function Nk(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,c,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(e,t,r)}}let Ok=(()=>{class n extends Ad{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(z(Xe),z(mg),z(Ig))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();const Id=new we("AnimationModuleType"),BC=[{provide:VE,useClass:Dk},{provide:Ig,useFactory:function kk(){return new UP}},{provide:Ad,useClass:Ok},{provide:bl,useFactory:function Fk(n,e,t){return new Tk(n,e,t)},deps:[Vu,Ad,ut]}],UC=[{provide:mg,useFactory:function Pk(){return function Ak(){return"function"==typeof PC()}()?new bk:new RC}},{provide:Id,useValue:"BrowserAnimations"},...BC],Lk=[{provide:mg,useClass:eC},{provide:Id,useValue:"NoopAnimations"},...BC];let Bk=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Lk:UC}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tt({type:n}),n.\u0275inj=je({providers:UC,imports:[gv]}),n})();const jk=new we("mat-sanity-checks",{providedIn:"root",factory:function Uk(){return!0}});let xi=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!ig()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(z(uP),z(jk,8),z(Xe))},n.\u0275mod=Tt({type:n}),n.\u0275inj=je({imports:[[Yl],Yl]}),n})();function Vk(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=sg(e)}}}function Lg(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function Hk(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=sg(e)}}}class Wk{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const VC={enterDuration:225,exitDuration:150},Bg=ng({passive:!0}),HC=["mousedown","touchstart"],zC=["mouseup","mouseleave","touchend","touchcancel"];class Yk{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=ma(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},VC),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const c=r.radius||function qk(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),h=e-i.left,p=t-i.top,y=s.enterDuration,v=document.createElement("div");v.classList.add("mat-ripple-element"),v.style.left=h-c+"px",v.style.top=p-c+"px",v.style.height=2*c+"px",v.style.width=2*c+"px",null!=r.color&&(v.style.backgroundColor=r.color),v.style.transitionDuration=`${y}ms`,this._containerElement.appendChild(v),function Xk(n){window.getComputedStyle(n).getPropertyValue("opacity")}(v),v.style.transform="scale(1)";const C=new Wk(this,v,r);return C.state=0,this._activeRipples.add(C),r.persistent||(this._mostRecentTransientRipple=C),this._runTimeoutOutsideZone(()=>{const b=C===this._mostRecentTransientRipple;C.state=1,!r.persistent&&(!b||!this._isPointerDown)&&C.fadeOut()},y),C}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,i=Object.assign(Object.assign({},VC),e.config.animation);r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=ma(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(HC))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(zC),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=FE(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!LE(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,Bg)})})}_removeTriggerEvents(){this._triggerElement&&(HC.forEach(e=>{this._triggerElement.removeEventListener(e,this,Bg)}),this._pointerUpEventsRegistered&&zC.forEach(e=>{this._triggerElement.removeEventListener(e,this,Bg)}))}}const $k=new we("mat-ripple-global-options");let WC=(()=>{class n{constructor(t,r,i,s,c){this._elementRef=t,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Yk(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(ee(Sn),ee(ut),ee(Rr),ee($k,8),ee(Id,8))},n.\u0275dir=Vt({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&Fs("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Kk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tt({type:n}),n.\u0275inj=je({imports:[[xi,ME],xi]}),n})();class Jk{}class ms{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ms?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ms;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ms?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let c=this.headers.get(t);if(!c)return;c=c.filter(h=>-1===s.indexOf(h)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class e4{encodeKey(e){return GC(e)}encodeValue(e){return GC(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const n4=/%(\d[a-f0-9])/gi,r4={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function GC(n){return encodeURIComponent(n).replace(n4,(e,t)=>{var r;return null!==(r=r4[t])&&void 0!==r?r:e})}function YC(n){return`${n}`}class ys{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new e4,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function t4(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[c,h]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],p=t.get(c)||[];p.push(h),t.set(c,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new ys({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(YC(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(YC(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class i4{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function XC(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function qC(n){return"undefined"!=typeof Blob&&n instanceof Blob}function $C(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Ql{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function s4(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new ms),this.context||(this.context=new i4),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+c}}else this.params=new ys,this.urlWithParams=t}serializeBody(){return null===this.body?null:XC(this.body)||qC(this.body)||$C(this.body)||function o4(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ys?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||$C(this.body)?null:qC(this.body)?this.body.type||null:XC(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ys?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,s=e.responseType||this.responseType,c=void 0!==e.body?e.body:this.body,h=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,p=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let y=e.headers||this.headers,v=e.params||this.params;const C=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(y=Object.keys(e.setHeaders).reduce((b,S)=>b.set(S,e.setHeaders[S]),y)),e.setParams&&(v=Object.keys(e.setParams).reduce((b,S)=>b.set(S,e.setParams[S]),v)),new Ql(r,i,c,{params:v,headers:y,context:C,reportProgress:p,responseType:s,withCredentials:h})}}var Cn=(()=>((Cn=Cn||{})[Cn.Sent=0]="Sent",Cn[Cn.UploadProgress=1]="UploadProgress",Cn[Cn.ResponseHeader=2]="ResponseHeader",Cn[Cn.DownloadProgress=3]="DownloadProgress",Cn[Cn.Response=4]="Response",Cn[Cn.User=5]="User",Cn))();class Ug extends class a4{constructor(e,t=200,r="OK"){this.headers=e.headers||new ms,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=Cn.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Ug({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function jg(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let ZC=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Ql)s=t;else{let p,y;p=i.headers instanceof ms?i.headers:new ms(i.headers),i.params&&(y=i.params instanceof ys?i.params:new ys({fromObject:i.params})),s=new Ql(t,r,void 0!==i.body?i.body:null,{headers:p,context:i.context,params:y,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=De(s).pipe(ca(p=>this.handler.handle(p)));if(t instanceof Ql||"events"===i.observe)return c;const h=c.pipe(zi(p=>p instanceof Ug));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe(Fe(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return h.pipe(Fe(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return h.pipe(Fe(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return h.pipe(Fe(p=>p.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new ys).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,jg(i,r))}post(t,r,i={}){return this.request("POST",t,jg(i,r))}put(t,r,i={}){return this.request("PUT",t,jg(i,r))}}return n.\u0275fac=function(t){return new(t||n)(z(Jk))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();const c4=["*"];let Td;function Jl(n){var e;return(null===(e=function u4(){if(void 0===Td&&(Td=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(Td=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Td}())||void 0===e?void 0:e.createHTML(n))||n}function QC(n){return Error(`Unable to find icon with the name "${n}"`)}function JC(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function ex(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Qs{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let Md=(()=>{class n{constructor(t,r,i,s){this._httpClient=t,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,s){return this._addSvgIconConfig(t,r,new Qs(i,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,s){const c=this._sanitizer.sanitize(ct.HTML,i);if(!c)throw ex(i);const h=Jl(c);return this._addSvgIconConfig(t,r,new Qs("",h,s))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Qs(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const s=this._sanitizer.sanitize(ct.HTML,r);if(!s)throw ex(r);const c=Jl(s);return this._addSvgIconSetConfig(t,new Qs("",c,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(ct.RESOURCE_URL,t);if(!r)throw JC(t);const i=this._cachedIconsByUrl.get(r);return i?De(Rd(i)):this._loadSvgIconFromConfig(new Qs(t,null)).pipe(In(s=>this._cachedIconsByUrl.set(r,s)),Fe(s=>Rd(s)))}getNamedSvgIcon(t,r=""){const i=tx(r,t);let s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,t),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);const c=this._iconSetConfigs.get(r);return c?this._getSvgFromIconSetConfigs(t,c):function Zk(n,e){const t=Ge(n)?n:()=>n,r=i=>i.error(t());return new ae(e?i=>e.schedule(r,0,i):r)}(QC(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?De(Rd(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Fe(r=>Rd(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?De(i):function Qk(...n){const e=uc(n),{args:t,keys:r}=wv(n),i=new ae(s=>{const{length:c}=t;if(!c)return void s.complete();const h=new Array(c);let p=c,y=c;for(let v=0;v<c;v++){let C=!1;Nn(t[v]).subscribe(new ne(s,b=>{C||(C=!0,y--),h[v]=b},()=>p--,void 0,()=>{(!p||!C)&&(y||s.next(r?vv(r,h):h),s.complete())}))}});return e?i.pipe(Pp(e)):i}(r.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(Wi(h=>{const y=`Loading icon set URL: ${this._sanitizer.sanitize(ct.RESOURCE_URL,c.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(y)),De(null)})))).pipe(Fe(()=>{const c=this._extractIconWithNameFromAnySet(t,r);if(!c)throw QC(t);return c}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const s=r[i];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const c=this._svgElementFromConfig(s),h=this._extractSvgIconFromSet(c,t,s.options);if(h)return h}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(In(r=>t.svgText=r),Fe(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?De(null):this._fetchIcon(t).pipe(In(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const s=t.querySelector(`[id="${r}"]`);if(!s)return null;const c=s.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,i);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),i);const h=this._svgElementFromString(Jl("<svg></svg>"));return h.appendChild(c),this._setSvgAttributes(h,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(Jl("<svg></svg>")),i=t.attributes;for(let s=0;s<i.length;s++){const{name:c,value:h}=i[s];"id"!==c&&r.setAttribute(c,h)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){var r;const{url:i,options:s}=t,c=null!==(r=null==s?void 0:s.withCredentials)&&void 0!==r&&r;if(!this._httpClient)throw function d4(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const h=this._sanitizer.sanitize(ct.RESOURCE_URL,i);if(!h)throw JC(i);const p=this._inProgressUrlFetches.get(h);if(p)return p;const y=this._httpClient.get(h,{responseType:"text",withCredentials:c}).pipe(Fe(v=>Jl(v)),Tv(()=>this._inProgressUrlFetches.delete(h)),Ii());return this._inProgressUrlFetches.set(h,y),y}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(tx(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const s=this._resolvers[i](r,t);if(s)return f4(s)?new Qs(s.url,null,s.options):new Qs(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(z(ZC,8),z(Op),z(Xe,8),z(ki))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Rd(n){return n.cloneNode(!0)}function tx(n,e){return n+":"+e}function f4(n){return!(!n.url||!n.options)}const p4=Lg(class{constructor(n){this._elementRef=n}}),g4=new we("mat-icon-location",{providedIn:"root",factory:function m4(){const n=yh(Xe),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),nx=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],y4=nx.map(n=>`[${n}]`).join(", "),_4=/^url\(['"]?#(.*?)['"]?\)$/;let rx=(()=>{class n extends p4{constructor(t,r,i,s,c){super(t),this._iconRegistry=r,this._location=s,this._errorHandler=c,this._inline=!1,this._currentIconFetch=Jt.EMPTY,i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=sg(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=t.querySelectorAll("style");for(let s=0;s<r.length;s++)r[s].textContent+=" ";const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),r&&t.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(c=>{s.setAttribute(c.name,`url('${t}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(y4),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)nx.forEach(c=>{const h=r[s],p=h.getAttribute(c),y=p?p.match(_4):null;if(y){let v=i.get(h);v||(v=[],i.set(h,v)),v.push({name:c,value:y[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(lt(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(ee(Sn),ee(Md),bo("aria-hidden"),ee(g4),ee(ki))},n.\u0275cmp=_n({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(jo("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),Fs("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Ps],ngContentSelectors:c4,decls:1,vars:0,template:function(t,r){1&t&&(iu(),_l(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),w4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tt({type:n}),n.\u0275inj=je({imports:[[xi],xi]}),n})(),v4=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=_n({type:n,selectors:[["app-home"]],decls:4,vars:0,template:function(t,r){1&t&&(qt(0,"p"),Ar(1,"home works!"),$t(),qt(2,"mat-icon"),Ar(3,"home"),$t())},directives:[rx],styles:[""]}),n})();var ue=(()=>{return(n=ue||(ue={}))[n.QR_CODE=0]="QR_CODE",n[n.AZTEC=1]="AZTEC",n[n.CODABAR=2]="CODABAR",n[n.CODE_39=3]="CODE_39",n[n.CODE_93=4]="CODE_93",n[n.CODE_128=5]="CODE_128",n[n.DATA_MATRIX=6]="DATA_MATRIX",n[n.MAXICODE=7]="MAXICODE",n[n.ITF=8]="ITF",n[n.EAN_13=9]="EAN_13",n[n.EAN_8=10]="EAN_8",n[n.PDF_417=11]="PDF_417",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",ue;var n})(),ix=new Map([[ue.QR_CODE,"QR_CODE"],[ue.AZTEC,"AZTEC"],[ue.CODABAR,"CODABAR"],[ue.CODE_39,"CODE_39"],[ue.CODE_93,"CODE_93"],[ue.CODE_128,"CODE_128"],[ue.DATA_MATRIX,"DATA_MATRIX"],[ue.MAXICODE,"MAXICODE"],[ue.ITF,"ITF"],[ue.EAN_13,"EAN_13"],[ue.EAN_8,"EAN_8"],[ue.PDF_417,"PDF_417"],[ue.RSS_14,"RSS_14"],[ue.RSS_EXPANDED,"RSS_EXPANDED"],[ue.UPC_A,"UPC_A"],[ue.UPC_E,"UPC_E"],[ue.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]);function E4(n){return Object.values(ue).includes(n)}var Pr=(()=>{return(n=Pr||(Pr={}))[n.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",n[n.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE",Pr;var n})(),Ea=function(){function n(){}return n.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",n.SCAN_DEFAULT_FPS=2,n.DEFAULT_DISABLE_FLIP=!1,n.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,n}(),sx=function(){function n(e,t){this.format=e,this.formatName=t}return n.prototype.toString=function(){return this.formatName},n.create=function(e){if(!ix.has(e))throw e+" not in html5QrcodeSupportedFormatsTextMap";return new n(e,ix.get(e))},n}(),ox=function(){function n(){}return n.createFromText=function(e){return{decodedText:e,result:{text:e}}},n.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},n}(),Nd=(()=>{return(n=Nd||(Nd={}))[n.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",n[n.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",n[n.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR",Nd;var n})(),ax=function(){function n(){}return n.createFrom=function(e){return{errorMessage:e,type:Nd.UNKWOWN_ERROR}},n}(),lx=function(){function n(e){this.verbose=e}return n.prototype.log=function(e){this.verbose&&console.log(e)},n.prototype.warn=function(e){this.verbose&&console.warn(e)},n.prototype.logError=function(e,t){(this.verbose||!0===t)&&console.error(e)},n.prototype.logErrors=function(e){if(0===e.length)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},n}();function Ca(n){return null==n}var n,ec=function(){function n(){}return n.codeParseError=function(e){return"QR code parse error, error = "+e},n.errorGettingUserMedia=function(e){return"Error getting userMedia, error = "+e},n.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},n.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},n.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},n.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},n}(),$r=function(){function n(){}return n.scanningStatus=function(){return"Scanning"},n.idleStatus=function(){return"Idle"},n.errorStatus=function(){return"Error"},n.permissionStatus=function(){return"Permission"},n.noCameraFoundErrorStatus=function(){return"No Cameras"},n.lastMatch=function(e){return"Last Match: "+e},n.codeScannerTitle=function(){return"Code Scanner"},n.cameraPermissionTitle=function(){return"Request Camera Permissions"},n.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},n.noCameraFound=function(){return"No camera found"},n.scanButtonStopScanningText=function(){return"Stop Scanning"},n.scanButtonStartScanningText=function(){return"Start Scanning"},n.scanButtonScanningStarting=function(){return"Launching Camera..."},n.textIfCameraScanSelected=function(){return"Scan an Image File"},n.textIfFileScanSelected=function(){return"Scan using camera directly"},n.selectCamera=function(){return"Select Camera"},n}(),cx=function(){function n(){}return n.builtUsing=function(){return"Built using "},n.reportIssues=function(){return"Report issues"},n}(),ux=function(){function n(){}return n.isMediaStreamConstraintsValid=function(e,t){if("object"!=typeof e)return t.logError("videoConstraints should be of type object, the object passed is of type "+typeof e+".",!0),!1;for(var s=new Set(["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"]),h=0,p=Object.keys(e);h<p.length;h++){var y=p[h];if(s.has(y))return t.logError(y+" is not supported videoConstaints.",!0),!1}return!0},n}(),Rt=Y(140),C4=function(){function n(e,t,r){if(this.formatMap=new Map([[ue.QR_CODE,Rt.BarcodeFormat.QR_CODE],[ue.AZTEC,Rt.BarcodeFormat.AZTEC],[ue.CODABAR,Rt.BarcodeFormat.CODABAR],[ue.CODE_39,Rt.BarcodeFormat.CODE_39],[ue.CODE_93,Rt.BarcodeFormat.CODE_93],[ue.CODE_128,Rt.BarcodeFormat.CODE_128],[ue.DATA_MATRIX,Rt.BarcodeFormat.DATA_MATRIX],[ue.MAXICODE,Rt.BarcodeFormat.MAXICODE],[ue.ITF,Rt.BarcodeFormat.ITF],[ue.EAN_13,Rt.BarcodeFormat.EAN_13],[ue.EAN_8,Rt.BarcodeFormat.EAN_8],[ue.PDF_417,Rt.BarcodeFormat.PDF_417],[ue.RSS_14,Rt.BarcodeFormat.RSS_14],[ue.RSS_EXPANDED,Rt.BarcodeFormat.RSS_EXPANDED],[ue.UPC_A,Rt.BarcodeFormat.UPC_A],[ue.UPC_E,Rt.BarcodeFormat.UPC_E],[ue.UPC_EAN_EXTENSION,Rt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Rt)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=t,this.logger=r;var i=this.createZXingFormats(e),s=new Map;s.set(Rt.DecodeHintType.POSSIBLE_FORMATS,i),this.hints=s}return n.prototype.decodeAsync=function(e){var t=this;return new Promise(function(r,i){try{r(t.decode(e))}catch(s){i(s)}})},n.prototype.decode=function(e){var t=new Rt.MultiFormatReader(this.verbose,this.hints),r=new Rt.HTMLCanvasElementLuminanceSource(e),i=new Rt.BinaryBitmap(new Rt.HybridBinarizer(r)),s=t.decode(i);return{text:s.text,format:sx.create(this.toHtml5QrcodeSupportedFormats(s.format))}},n.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,r,i){e.set(t,r)}),e},n.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have "+e;return this.reverseFormatMap.get(e)},n.prototype.createZXingFormats=function(e){for(var t=[],r=0,i=e;r<i.length;r++){var s=i[r];this.formatMap.has(s)?t.push(this.formatMap.get(s)):this.logger.logError(s+" is not supported byZXingHtml5QrcodeShim")}return t},n}(),dx=function(){function n(e,t,r){if(this.formatMap=new Map([[ue.QR_CODE,"qr_code"],[ue.AZTEC,"aztec"],[ue.CODABAR,"codabar"],[ue.CODE_39,"code_39"],[ue.CODE_93,"code_93"],[ue.CODE_128,"code_128"],[ue.DATA_MATRIX,"data_matrix"],[ue.ITF,"itf"],[ue.EAN_13,"ean_13"],[ue.EAN_8,"ean_8"],[ue.PDF_417,"pdf417"],[ue.UPC_A,"upc_a"],[ue.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!n.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=t,this.logger=r;var i=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return n.isSupported=function(){return"BarcodeDetector"in window&&void 0!==new BarcodeDetector({formats:["qr_code"]})},n.prototype.decodeAsync=function(e){return function(n,e,t,r){return new(t||(t=Promise))(function(s,c){function h(v){try{y(r.next(v))}catch(C){c(C)}}function p(v){try{y(r.throw(v))}catch(C){c(C)}}function y(v){v.done?s(v.value):function i(s){return s instanceof t?s:new t(function(c){c(s)})}(v.value).then(h,p)}y((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function(){var t,r;return function(n,e){var r,i,s,c,t={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return c={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function h(y){return function(v){return function p(y){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=2&y[0]?i.return:y[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,y[1])).done)return s;switch(i=0,s&&(y=[2&y[0],s.value]),y[0]){case 0:case 1:s=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,i=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(!(s=(s=t.trys).length>0&&s[s.length-1])&&(6===y[0]||2===y[0])){t=0;continue}if(3===y[0]&&(!s||y[1]>s[0]&&y[1]<s[3])){t.label=y[1];break}if(6===y[0]&&t.label<s[1]){t.label=s[1],s=y;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(y);break}s[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(n,t)}catch(v){y=[6,v],i=0}finally{r=s=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([y,v])}}}(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(e)];case 1:if(!(t=i.sent())||0===t.length)throw"No barcode or QR code detected.";return[2,{text:(r=this.selectLargestBarcode(t)).rawValue,format:sx.create(this.toHtml5QrcodeSupportedFormats(r.format))}]}})})},n.prototype.selectLargestBarcode=function(e){for(var t=null,r=0,i=0,s=e;i<s.length;i++){var c=s[i],h=c.boundingBox.width*c.boundingBox.height;h>r&&(r=h,t=c)}if(!t)throw"No largest barcode found";return t},n.prototype.createBarcodeDetectorFormats=function(e){for(var t=[],r=0,i=e;r<i.length;r++){var s=i[r];this.formatMap.has(s)?t.push(this.formatMap.get(s)):this.logger.warn(s+" is not supported byBarcodeDetectorDelegate")}return{formats:t}},n.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have "+e;return this.reverseFormatMap.get(e)},n.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,r,i){e.set(t,r)}),e},n}(),A4=function(){function n(e,t,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.verbose=t,this.decoder=!0===i.useBarCodeDetectorIfSupported&&dx.isSupported()?new dx(e,t,r):new C4(e,t,r)}return n.prototype.decodeAsync=function(e){var t=this,r=performance.now();return this.decoder.decodeAsync(e).finally(function(){if(t.verbose){var i=performance.now()-r;t.executionResults.push(i),t.executions++,t.possiblyFlushPerformanceReport()}})},n.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,t=0,r=this.executionResults;t<r.length;t++)e+=r[t];console.log(e/this.executionResults.length+" ms for "+this.executionResults.length+" last runs."),this.executions=0,this.executionResults=[]}},n}(),D4=function(){function n(){}return n.createExperimentalFeaturesConfig=function(e){return e?(!0!==e.useBarCodeDetectorIfSupported&&(e.useBarCodeDetectorIfSupported=!1),e):{useBarCodeDetectorIfSupported:!1}},n}(),Et=(()=>{return(n=Et||(Et={}))[n.UNKNOWN=0]="UNKNOWN",n[n.NOT_STARTED=1]="NOT_STARTED",n[n.SCANNING=2]="SCANNING",n[n.PAUSED=3]="PAUSED",Et;var n})(),S4=function(){function n(){this.state=Et.NOT_STARTED,this.onGoingTransactionNewState=Et.UNKNOWN}return n.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},n.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},n.prototype.execute=function(){if(this.onGoingTransactionNewState===Et.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Et.UNKNOWN,this.directTransition(e)},n.prototype.cancel=function(){if(this.onGoingTransactionNewState===Et.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Et.UNKNOWN},n.prototype.getState=function(){return this.state},n.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Et.UNKNOWN)throw"Cannnot transition to a new state, already under transition"},n.prototype.validateTransition=function(e){switch(this.state){case Et.UNKNOWN:throw"Transition from unknown is not allowed";case Et.NOT_STARTED:this.failIfNewStateIs(e,[Et.PAUSED])}},n.prototype.failIfNewStateIs=function(e,t){for(var r=0,i=t;r<i.length;r++)if(e===i[r])throw"Cannot transition from "+this.state+" to "+e},n}(),I4=function(){function n(e){this.stateManager=e}return n.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},n.prototype.directTransition=function(e){this.stateManager.directTransition(e)},n.prototype.getState=function(){return this.stateManager.getState()},n.prototype.canScanFile=function(){return this.stateManager.getState()===Et.NOT_STARTED},n.prototype.isScanning=function(){return this.stateManager.getState()!==Et.NOT_STARTED},n.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Et.SCANNING},n.prototype.isPaused=function(){return this.stateManager.getState()===Et.PAUSED},n}(),T4=function(){function n(){}return n.create=function(){return new I4(new S4)},n}(),M4=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),kr=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return M4(e,n),e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(Ea),R4=function(){function n(e,t){this.logger=t,this.fps=kr.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=!0===e.disableFlip,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=kr.DEFAULT_DISABLE_FLIP}return n.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?ux.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},n.prototype.isShadedBoxEnabled=function(){return!Ca(this.qrbox)},n.create=function(e,t){return new n(e,t)},n}(),Vg=function(){function n(e,t){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.videoElement=null,this.localMediaStream=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id="+e+" not found";var r;this.elementId=e,this.verbose=!1,"boolean"==typeof t?this.verbose=!0===t:t&&(this.verbose=!0===t.verbose,r=t.experimentalFeatures),this.logger=new lx(this.verbose),this.qrcode=new A4(this.getSupportedFormats(t),this.verbose,this.logger,D4.createExperimentalFeaturesConfig(r)),this.shouldScan=!0,this.stateManagerProxy=T4.create()}return n.prototype.start=function(e,t,r,i){if(!e)throw"cameraIdOrConfig is required";if(!r||"function"!=typeof r)throw"qrCodeSuccessCallback is required and should be a function.";i||(i=this.verbose?this.logger.log:function(){});var s=R4.create(t,this.logger);this.clearElement();var c=!1;s.videoConstraints&&(s.isMediaStreamConstraintsValid()?c=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var h=c,p=s.isShadedBoxEnabled(),y=document.getElementById(this.elementId),v=y.clientWidth?y.clientWidth:kr.DEFAULT_WIDTH;y.style.position="relative",this.shouldScan=!0,this.element=y,p&&this.validateQrboxSize(s,v);var C=this,b=this.stateManagerProxy.startTransition(Et.SCANNING);return new Promise(function(S,M){var O=h?s.videoConstraints:C.createVideoConstraints(e);if(!O)return b.cancel(),void M("videoConstraints should be defined");navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!1,video:O}).then(function(k){C.onMediaStreamReceived(k,s,h,v,r,i).then(function(j){b.execute(),C.isScanning=!0,S(null)}).catch(function(j){b.cancel(),M(j)})}).catch(function(k){b.cancel(),M(ec.errorGettingUserMedia(k))}):(b.cancel(),M(ec.cameraStreamingNotSupported()))})},n.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Et.PAUSED),this.showPausedState(),(Ca(e)||!0!==e)&&(e=!1),e&&this.videoElement&&this.videoElement.pause()},n.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.videoElement)throw"VideoElement doesn't exist while trying resume()";var e=this,t=function(){e.stateManagerProxy.directTransition(Et.SCANNING),e.hidePausedState()};if(this.videoElement.paused){var i=function(){var s;setTimeout(t,200),null===(s=e.videoElement)||void 0===s||s.removeEventListener("playing",i)};this.videoElement.addEventListener("playing",i),this.videoElement.play()}else t()},n.prototype.getState=function(){return this.stateManagerProxy.getState()},n.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var t=this.stateManagerProxy.startTransition(Et.NOT_STARTED);return this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout),new Promise(function(i,s){var c=function(){e.localMediaStream=null,e.element&&(e.element.removeChild(e.videoElement),e.element.removeChild(e.canvasElement)),function(){if(e.element){var i=document.getElementById(kr.SHADED_REGION_ELEMENT_ID);i&&e.element.removeChild(i)}}(),e.qrRegion&&(e.qrRegion=null),e.context&&(e.context=null),t.execute(),e.hidePausedState(),e.isScanning=!1,i()};e.localMediaStream||c();var h=e.localMediaStream.getVideoTracks().length,p=0;e.localMediaStream.getVideoTracks().forEach(function(y){e.localMediaStream.removeTrack(y),y.stop(),++p>=h&&c()})})},n.prototype.scanFile=function(e,t){return this.scanFileV2(e,t).then(function(r){return r.decodedText})},n.prototype.scanFileV2=function(e,t){var r=this;if(!(e&&e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ca(t)&&(t=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,s){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var c=new Image;c.onload=function(){var h=c.width,p=c.height,y=document.getElementById(r.elementId),v=y.clientWidth?y.clientWidth:kr.DEFAULT_WIDTH,C=Math.max(y.clientHeight?y.clientHeight:p,kr.FILE_SCAN_MIN_HEIGHT),b=r.computeCanvasDrawConfig(h,p,v,C);if(t){var S=r.createCanvasElement(v,C,"qr-canvas-visible");S.style.display="inline-block",y.appendChild(S);var M=S.getContext("2d");if(!M)throw"Unable to get 2d context from canvas";M.canvas.width=v,M.canvas.height=C,M.drawImage(c,0,0,h,p,b.x,b.y,b.width,b.height)}var O=r.createCanvasElement(b.width,b.height);y.appendChild(O);var k=O.getContext("2d");if(!k)throw"Unable to get 2d context from canvas";k.canvas.width=b.width,k.canvas.height=b.height,k.drawImage(c,0,0,h,p,0,0,b.width,b.height);try{r.qrcode.decodeAsync(O).then(function(j){i(ox.createFromQrcodeResult(j))}).catch(s)}catch(j){s("QR code parse error, error = "+j)}},c.onerror=s,c.onabort=s,c.onstalled=s,c.onsuspend=s,c.src=URL.createObjectURL(e)})},n.prototype.clear=function(){this.clearElement()},n.getCameras=function(){if(navigator.mediaDevices)return n.getCamerasFromMediaDevices();var e=MediaStreamTrack;if(MediaStreamTrack&&e.getSources)return n.getCamerasFromMediaStreamTrack();var r=ec.unableToQuerySupportedDevices();return function(){if("https:"===location.protocol)return!0;var i=location.host.split(":")[0];return"127.0.0.1"===i||"localhost"===i}()||(r=ec.insecureContextCameraQueryError()),Promise.reject(r)},n.prototype.getRunningTrackCapabilities=function(){if(null==this.localMediaStream)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";if(0===this.localMediaStream.getVideoTracks().length)throw"No video tracks found";return this.localMediaStream.getVideoTracks()[0].getCapabilities()},n.prototype.applyVideoConstraints=function(e){var t=this;if(!e)throw"videoConstaints is required argument.";if(!ux.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details";if(null===this.localMediaStream)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";if(0===this.localMediaStream.getVideoTracks().length)throw"No video tracks found";return new Promise(function(r,i){"aspectRatio"in e?i("Chaning 'aspectRatio' in run-time is not yet supported."):t.localMediaStream.getVideoTracks()[0].applyConstraints(e).then(function(c){r(c)}).catch(function(c){i(c)})})},n.getCamerasFromMediaDevices=function(){return new Promise(function(e,t){navigator.mediaDevices.getUserMedia({audio:!1,video:!0}).then(function(r){navigator.mediaDevices.enumerateDevices().then(function(s){for(var c=[],h=0,p=s;h<p.length;h++){var y=p[h];"videoinput"===y.kind&&c.push({id:y.deviceId,label:y.label})}(function(s){for(var h=0,p=s.getVideoTracks();h<p.length;h++){var y=p[h];y.enabled=!1,y.stop(),s.removeTrack(y)}})(r),e(c)}).catch(function(s){t(s.name+" : "+s.message)})}).catch(function(r){t(r.name+" : "+r.message)})})},n.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,t){MediaStreamTrack.getSources(function(s){for(var c=[],h=0,p=s;h<p.length;h++){var y=p[h];"video"===y.kind&&c.push({id:y.id,label:y.label})}e(c)})})},n.prototype.getSupportedFormats=function(e){if(!e||"boolean"==typeof e||!e.formatsToSupport)return[ue.QR_CODE,ue.AZTEC,ue.CODABAR,ue.CODE_39,ue.CODE_93,ue.CODE_128,ue.DATA_MATRIX,ue.MAXICODE,ue.ITF,ue.EAN_13,ue.EAN_8,ue.PDF_417,ue.RSS_14,ue.RSS_EXPANDED,ue.UPC_A,ue.UPC_E,ue.UPC_EAN_EXTENSION];if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(0===e.formatsToSupport.length)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,s=e.formatsToSupport;i<s.length;i++){var c=s[i];E4(c)?r.push(c):this.logger.warn("Invalid format: "+c+" passed in config, ignoring.")}if(0===r.length)throw"None of formatsToSupport match supported values.";return r},n.prototype.validateQrboxSize=function(e,t){var i=e.qrbox;this.validateQrboxConfig(i);var p,s=this.toQrdimensions(i),c=function(p){if(p<kr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is "+kr.MIN_QR_BOX_SIZE+"px."};c(s.width),c(s.height),s.width=((p=s.width)>t&&(this.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=t),p)},n.prototype.validateQrboxConfig=function(e){if("number"!=typeof e&&(void 0===e.width||void 0===e.height))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},n.prototype.toQrdimensions=function(e){return"number"==typeof e?{width:e,height:e}:e},n.prototype.setupUi=function(e,t,r){var i=Ca(r.qrbox)?{width:e,height:t}:r.qrbox;this.validateQrboxConfig(i);var s=this.toQrdimensions(i);s.height>t&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=r.isShadedBoxEnabled()&&s.height<=t,h={x:0,y:0,width:e,height:t},p=c?this.getShadedRegionBounds(e,t,s):h,y=this.createCanvasElement(p.width,p.height),v=y.getContext("2d");v.canvas.width=p.width,v.canvas.height=p.height,this.element.append(y),c&&this.possiblyInsertShadingElement(this.element,e,t,s),this.createScannerPausedUiElement(this.element),this.qrRegion=p,this.context=v,this.canvasElement=y},n.prototype.createScannerPausedUiElement=function(e){var t=document.createElement("div");t.innerText="Scanner paused",t.style.display="none",t.style.position="absolute",t.style.top="0px",t.style.zIndex="1",t.style.background="yellow",t.style.textAlign="center",t.style.width="100%",e.appendChild(t),this.scannerPausedUiElement=t},n.prototype.scanContext=function(e,t){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return e(i.text,ox.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var s=ec.codeParseError(i);return t(s,ax.createFrom(s)),!1})},n.prototype.foreverScan=function(e,t,r){var i=this;if(this.shouldScan&&this.localMediaStream){var s=this.videoElement,c=s.videoWidth/s.clientWidth,h=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";this.context.drawImage(s,this.qrRegion.x*c,this.qrRegion.y*h,this.qrRegion.width*c,this.qrRegion.height*h,0,0,this.qrRegion.width,this.qrRegion.height);var b=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(e,t,r)},i.getTimeoutFps(e.fps))};this.scanContext(t,r).then(function(S){S||!0===e.disableFlip?b():(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(t,r).finally(function(){b()}))}).catch(function(S){i.logger.logError("Error happend while scanning context",S),b()})}},n.prototype.onMediaStreamReceived=function(e,t,r,i,s,c){var h=this,p=this;return new Promise(function(y,v){var C=function(){var M=h.createVideoElement(i);p.element.append(M),M.onabort=v,M.onerror=v;var O=function(){p.setupUi(M.clientWidth,M.clientHeight,t),p.foreverScan(t,s,c),M.removeEventListener("playing",O),y(null)};M.addEventListener("playing",O),M.srcObject=e,M.play(),p.videoElement=M};if(p.localMediaStream=e,r||!t.aspectRatio)C();else{var b={aspectRatio:t.aspectRatio};e.getVideoTracks()[0].applyConstraints(b).then(function(M){return C()}).catch(function(M){p.logger.logErrors(["[Html5Qrcode] Constriants could not be satisfied, ignoring constraints",M]),C()})}})},n.prototype.createVideoConstraints=function(e){if("string"==typeof e)return{deviceId:{exact:e}};if("object"==typeof e){var t="facingMode",r="deviceId",i={user:!0,environment:!0},s="exact",c=function(M){if(M in i)return!0;throw"config has invalid 'facingMode' value = '"+M+"'"},h=Object.keys(e);if(1!==h.length)throw"'cameraIdOrConfig' object should have exactly 1 key, if passed as an object, found "+h.length+" keys";var p=Object.keys(e)[0];if(p!==t&&p!==r)throw"Only '"+t+"' and '"+r+"'  are supported for 'cameraIdOrConfig'";if(p!==t){var C=e.deviceId;if("string"==typeof C)return{deviceId:C};if("object"==typeof C){if(s in C)return{deviceId:{exact:C.exact}};throw"'deviceId' should be string or object with exact as key."}throw"Invalid type of 'deviceId' = "+typeof C}var y=e.facingMode;if("string"==typeof y){if(c(y))return{facingMode:y}}else{if("object"!=typeof y)throw"Invalid type of 'facingMode' = "+typeof y;if(!(s in y))throw"'facingMode' should be string or object with exact as key.";if(c(y.exact))return{facingMode:{exact:y.exact}}}}throw"Invalid type of 'cameraIdOrConfig' = "+typeof e},n.prototype.computeCanvasDrawConfig=function(e,t,r,i){if(e<=r&&t<=i)return{x:(r-e)/2,y:(i-t)/2,width:e,height:t};var h=e,p=t;return e>r&&(t*=r/e,e=r),t>i&&(e*=i/t,t=i),this.logger.log("Image downsampled from "+h+"X"+p+" to "+e+"X"+t+"."),this.computeCanvasDrawConfig(e,t,r,i)},n.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},n.prototype.createVideoElement=function(e){var t=document.createElement("video");return t.style.width=e+"px",t.muted=!0,t.setAttribute("muted","true"),t.playsInline=!0,t},n.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(t){t.style.backgroundColor=e?kr.BORDER_SHADER_MATCH_COLOR:kr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},n.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},n.prototype.createCanvasElement=function(e,t,r){var i=e,s=t,c=document.createElement("canvas");return c.style.width=i+"px",c.style.height=s+"px",c.style.display="none",c.id=Ca(r)?"qr-canvas":r,c},n.prototype.getShadedRegionBounds=function(e,t,r){if(r.width>e||r.height>t)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(t-r.height)/2,width:r.width,height:r.height}},n.prototype.possiblyInsertShadingElement=function(e,t,r,i){if(!(t-i.width<1||r-i.height<1)){var s=document.createElement("div");s.style.position="absolute";var c=(t-i.width)/2,h=(r-i.height)/2;if(s.style.borderLeft=c+"px solid #0000007a",s.style.borderRight=c+"px solid #0000007a",s.style.borderTop=h+"px solid #0000007a",s.style.borderBottom=h+"px solid #0000007a",s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id=""+kr.SHADED_REGION_ELEMENT_ID,t-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var y=40;this.insertShaderBorders(s,y,5,-5,0,!0),this.insertShaderBorders(s,y,5,-5,0,!1),this.insertShaderBorders(s,y,5,i.height+5,0,!0),this.insertShaderBorders(s,y,5,i.height+5,0,!1),this.insertShaderBorders(s,5,45,-5,-5,!0),this.insertShaderBorders(s,5,45,i.height+5-y,-5,!0),this.insertShaderBorders(s,5,45,-5,-5,!1),this.insertShaderBorders(s,5,45,i.height+5-y,-5,!1),this.hasBorderShaders=!0}e.append(s)}},n.prototype.insertShaderBorders=function(e,t,r,i,s,c){var h=document.createElement("div");h.style.position="absolute",h.style.backgroundColor=kr.BORDER_SHADER_DEFAULT_COLOR,h.style.width=t+"px",h.style.height=r+"px",h.style.top=i+"px",c?h.style.left=s+"px":h.style.right=s+"px",this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(h),e.appendChild(h)},n.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},n.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},n.prototype.getTimeoutFps=function(e){return 1e3/e},n}(),hx="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",fx=function(){function n(){}return n.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},n}(),k4=function(){function n(){this.data=fx.createDefault();var e=localStorage.getItem(n.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return n.prototype.hasCameraPermissions=function(){return this.data.hasPermission},n.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},n.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},n.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},n.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},n.prototype.reset=function(){this.data=fx.createDefault(),this.flush()},n.prototype.flush=function(){localStorage.setItem(n.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},n.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",n}(),F4=function(){function n(){this.infoDiv=document.createElement("div")}return n.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid silver",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(248 248 248)",this.infoDiv.innerText=cx.builtUsing();var t=document.createElement("a");t.innerText="html5-qrcode",t.href="https://github.com/mebjas/html5-qrcode",t.target="new",this.infoDiv.appendChild(t);var r=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(i);var s=document.createElement("a");s.innerText=cx.reportIssues(),s.href="https://github.com/mebjas/html5-qrcode/issues",s.target="new",this.infoDiv.appendChild(s),e.appendChild(this.infoDiv)},n.prototype.show=function(){this.infoDiv.style.display="block"},n.prototype.hide=function(){this.infoDiv.style.display="none"},n}(),L4=function(){function n(e,t){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=t,this.infoIcon=document.createElement("img")}return n.prototype.renderInto=function(e){var t=this;this.infoIcon.alt="Info icon",this.infoIcon.src=hx,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return t.onHoverIn()},this.infoIcon.onmouseout=function(r){return t.onHoverOut()},this.infoIcon.onclick=function(r){return t.onClick()},e.appendChild(this.infoIcon)},n.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},n.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},n.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=hx,this.infoIcon.style.opacity="0.6")},n}(),B4=function(){function n(){var e=this;this.infoDiv=new F4,this.infoIcon=new L4(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return n.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},n}(),U4=function(){function n(){}return n.hasCameraPermissions=function(){return new Promise(function(e,t){navigator.mediaDevices.enumerateDevices().then(function(r){r.forEach(function(i){"videoinput"===i.kind&&i.label&&e(!0)}),e(!1)})})},n}(),hr=(()=>(function(n){n[n.STATUS_DEFAULT=0]="STATUS_DEFAULT",n[n.STATUS_SUCCESS=1]="STATUS_SUCCESS",n[n.STATUS_WARNING=2]="STATUS_WARNING",n[n.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"}(hr||(hr={})),hr))();!function(){function n(e,t,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.elementId=e,this.config=this.createConfig(t),this.verbose=!0===r,!document.getElementById(e))throw"HTML Element with id="+e+" not found";this.currentScanType=Pr.SCAN_TYPE_CAMERA,this.sectionSwapAllowed=!0,this.logger=new lx(this.verbose),this.persistedDataManager=new k4,!0!==t.rememberLastUsedCamera&&this.persistedDataManager.reset()}n.prototype.render=function(e,t){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(s,c){if(e)e(s,c);else{if(r.lastMatchFound===s)return;r.lastMatchFound=s,r.setHeaderMessage($r.lastMatch(s),hr.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(s,c){t&&t(s,c)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id="+this.elementId+" not found";i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new Vg(this.getScanRegionId(),function V4(n,e){return{formatsToSupport:n.formatsToSupport,experimentalFeatures:n.experimentalFeatures,verbose:e}}(this.config,this.verbose))},n.prototype.pause=function(e){if(!this.html5Qrcode)throw"Code scanner not initialized.";(Ca(e)||!0!==e)&&(e=!1),this.html5Qrcode.pause(e)},n.prototype.resume=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";this.html5Qrcode.resume()},n.prototype.getState=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode.getState()},n.prototype.clear=function(){var e=this,t=function(){var r=document.getElementById(e.elementId);r&&(r.innerHTML="",e.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,i){e.html5Qrcode?e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(s){e.html5Qrcode?(e.html5Qrcode.clear(),t(),r()):r()}).catch(function(s){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",s),i(s)}):(e.html5Qrcode.clear(),t()):r()}):Promise.resolve()},n.prototype.getRunningTrackCapabilities=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode.getRunningTrackCapabilities()},n.prototype.applyVideoConstraints=function(e){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode.applyVideoConstraints(e)},n.prototype.createConfig=function(e){return e?(e.fps||(e.fps=Ea.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!Ea.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=Ea.DEFAULT_REMEMBER_LAST_CAMERA_USED),e):{fps:Ea.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Ea.DEFAULT_REMEMBER_LAST_CAMERA_USED}},n.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var t=document.createElement("div"),r=this.getScanRegionId();t.id=r,t.style.width="100%",t.style.minHeight="100px",t.style.textAlign="center",e.appendChild(t),this.insertCameraScanImageToScanRegion();var i=document.createElement("div"),s=this.getDashboardId();i.id=s,i.style.width="100%",e.appendChild(i),this.setupInitialDashboard(i)},n.prototype.resetBasicLayout=function(e){e.style.border="none"},n.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.createSectionSwap()},n.prototype.createHeader=function(e){var t=document.createElement("div");t.style.textAlign="left",t.style.margin="0px",e.appendChild(t),(new B4).renderInto(t);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",t.appendChild(i)},n.prototype.createSection=function(e){var t=document.createElement("div");t.id=this.getDashboardSectionId(),t.style.width="100%",t.style.padding="10px 0px 10px 0px",t.style.textAlign="left",e.appendChild(t)},n.prototype.createCameraListUi=function(e,t,r){var i=this;i.setHeaderMessage($r.cameraPermissionRequesting());var s=function(){r||i.createPermissionButton(e,t)};Vg.getCameras().then(function(c){i.persistedDataManager.setHasPermission(!0),i.resetHeaderMessage(),c&&c.length>0?(e.removeChild(t),i.renderCameraSelection(c)):(i.setHeaderMessage($r.noCameraFound(),hr.STATUS_WARNING),s())}).catch(function(c){i.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:s(),i.setHeaderMessage(c,hr.STATUS_WARNING)})},n.prototype.createPermissionButton=function(e,t){var r=this,i=document.createElement("button");i.innerText=$r.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,r.createCameraListUi(e,t,i)}),t.appendChild(i)},n.prototype.createPermissionsUi=function(e,t){var r=this;this.persistedDataManager.hasCameraPermissions()?U4.hasCameraPermissions().then(function(i){i?r.createCameraListUi(e,t):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,t))}).catch(function(i){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,t)}):this.createPermissionButton(e,t)},n.prototype.createSectionControlPanel=function(){var e=this,t=document.getElementById(this.getDashboardSectionId()),r=document.createElement("div");t.appendChild(r);var i=document.createElement("div");i.id=this.getDashboardSectionCameraScanRegionId(),i.style.display=this.currentScanType===Pr.SCAN_TYPE_CAMERA?"block":"none",r.appendChild(i);var s=document.createElement("div");s.style.textAlign="center",i.appendChild(s),this.createPermissionsUi(i,s);var c=document.createElement("div");c.id=this.getDashboardSectionFileScanRegionId(),c.style.textAlign="center",c.style.display=this.currentScanType===Pr.SCAN_TYPE_CAMERA?"none":"block",r.appendChild(c);var h=document.createElement("input");h.id=this.getFileScanInputId(),h.accept="image/*",h.type="file",h.style.width="200px",h.disabled=this.currentScanType===Pr.SCAN_TYPE_CAMERA;var p=document.createElement("span");p.innerText=" Select Image",c.appendChild(h),c.appendChild(p),h.addEventListener("change",function(y){if(!e.html5Qrcode)throw"html5Qrcode not defined";null!=y&&null!=y.target&&e.currentScanType===Pr.SCAN_TYPE_FILE&&0!==y.target.files.length&&e.html5Qrcode.scanFileV2(y.target.files[0],!0).then(function(C){e.resetHeaderMessage(),e.qrCodeSuccessCallback(C.decodedText,C)}).catch(function(C){e.setHeaderMessage(C,hr.STATUS_WARNING),e.qrCodeErrorCallback(C,ax.createFrom(C))})})},n.prototype.renderCameraSelection=function(e){var t=this,r=document.getElementById(this.getDashboardSectionCameraScanRegionId());r.style.textAlign="center";var i=document.createElement("span");i.style.marginRight="10px";var s=e.length,c=document.createElement("select");if(1===s)c.style.display="none";else{var h=$r.selectCamera();i.innerText=h+" ("+e.length+")  "}c.id=this.getCameraSelectionId();for(var p=[],y=0,v=e;y<v.length;y++){var C=v[y],b=C.id,S=null==C.label?b:C.label;(M=document.createElement("option")).value=b,M.innerText=S,p.push(M),c.appendChild(M)}i.appendChild(c),r.appendChild(i);var O=document.createElement("span"),k=document.createElement("button");k.innerText=$r.scanButtonStartScanningText(),O.appendChild(k);var j=document.createElement("button");j.innerText=$r.scanButtonStopScanningText(),j.style.display="none",j.disabled=!0,O.appendChild(j),r.appendChild(O);var L=function(_t){_t||(k.style.display="none"),k.innerText=$r.scanButtonStartScanningText(),k.style.opacity="1",k.disabled=!1,_t&&(k.style.display="inline-block")};if(k.addEventListener("click",function(_t){k.innerText=$r.scanButtonScanningStarting(),c.disabled=!0,k.disabled=!0,k.style.opacity="0.5",t.showHideScanTypeSwapLink(!1),t.resetHeaderMessage();var on=c.value;t.persistedDataManager.setLastUsedCameraId(on),t.html5Qrcode.start(on,function j4(n){return{fps:n.fps,qrbox:n.qrbox,aspectRatio:n.aspectRatio,disableFlip:n.disableFlip,videoConstraints:n.videoConstraints}}(t.config),t.qrCodeSuccessCallback,t.qrCodeErrorCallback).then(function(Tn){j.disabled=!1,j.style.display="inline-block",L(!1)}).catch(function(Tn){t.showHideScanTypeSwapLink(!0),c.disabled=!1,L(!0),t.setHeaderMessage(Tn,hr.STATUS_WARNING)})}),1===s&&k.click(),j.addEventListener("click",function(_t){if(!t.html5Qrcode)throw"html5Qrcode not defined";j.disabled=!0,t.html5Qrcode.stop().then(function(on){t.showHideScanTypeSwapLink(!0),c.disabled=!1,k.disabled=!1,j.style.display="none",k.style.display="inline-block",t.insertCameraScanImageToScanRegion()}).catch(function(on){j.disabled=!1,t.setHeaderMessage(on,hr.STATUS_WARNING)})}),t.persistedDataManager.getLastUsedCameraId()){for(var $=t.persistedDataManager.getLastUsedCameraId(),oe=!1,Re=0,Ct=p;Re<Ct.length;Re++){var M;if((M=Ct[Re]).value===$){oe=!0;break}}oe?(c.value=$,k.click()):t.persistedDataManager.resetLastUsedCameraId()}},n.prototype.createSectionSwap=function(){var e=this,t=$r.textIfCameraScanSelected(),r=$r.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),s=document.createElement("div");s.style.textAlign="center";var c=document.createElement("a");c.style.textDecoration="underline",c.id=this.getDashboardSectionSwapLinkId(),c.innerText=this.currentScanType===Pr.SCAN_TYPE_CAMERA?t:r,c.href="#scan-using-file",c.addEventListener("click",function(){e.sectionSwapAllowed?(e.resetHeaderMessage(),e.getFileScanInput().value="",e.sectionSwapAllowed=!1,e.currentScanType===Pr.SCAN_TYPE_CAMERA?(e.clearScanRegion(),e.getFileScanInput().disabled=!1,e.getCameraScanRegion().style.display="none",e.getFileScanRegion().style.display="block",c.innerText=r,e.currentScanType=Pr.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getFileScanInput().disabled=!0,e.getCameraScanRegion().style.display="block",e.getFileScanRegion().style.display="none",c.innerText=t,e.currentScanType=Pr.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion()),e.sectionSwapAllowed=!0):e.verbose&&e.logger.logError("Section swap called when not allowed")}),s.appendChild(c),i.appendChild(s)},n.prototype.resetHeaderMessage=function(){document.getElementById(this.getHeaderMessageContainerId()).style.display="none"},n.prototype.setHeaderMessage=function(e,t){t||(t=hr.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=e,r.style.display="block",t){case hr.STATUS_SUCCESS:r.style.background="#6aaf5042",r.style.color="#477735";break;case hr.STATUS_WARNING:r.style.background="#cb243124",r.style.color="#cb2431";break;default:r.style.background="#00000000",r.style.color="rgb(17, 17, 17)"}},n.prototype.showHideScanTypeSwapLink=function(e){!0!==e&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none"},n.prototype.insertCameraScanImageToScanRegion=function(){var e=this,t=document.getElementById(this.getScanRegionId());if(this.cameraScanImage)return t.innerHTML="<br>",void t.appendChild(this.cameraScanImage);this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){t.innerHTML="<br>",t.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg=="},n.prototype.insertFileScanImageToScanRegion=function(){var e=this,t=document.getElementById(this.getScanRegionId());if(this.fileScanImage)return t.innerHTML="<br>",void t.appendChild(this.fileScanImage);this.fileScanImage=new Image,this.fileScanImage.onload=function(r){t.innerHTML="<br>",t.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4="},n.prototype.clearScanRegion=function(){document.getElementById(this.getScanRegionId()).innerHTML=""},n.prototype.getDashboardSectionId=function(){return this.elementId+"__dashboard_section"},n.prototype.getDashboardSectionCameraScanRegionId=function(){return this.elementId+"__dashboard_section_csr"},n.prototype.getDashboardSectionFileScanRegionId=function(){return this.elementId+"__dashboard_section_fsr"},n.prototype.getDashboardSectionSwapLinkId=function(){return this.elementId+"__dashboard_section_swaplink"},n.prototype.getScanRegionId=function(){return this.elementId+"__scan_region"},n.prototype.getDashboardId=function(){return this.elementId+"__dashboard"},n.prototype.getFileScanInputId=function(){return this.elementId+"__filescan_input"},n.prototype.getStatusSpanId=function(){return this.elementId+"__status_span"},n.prototype.getHeaderMessageContainerId=function(){return this.elementId+"__header_message"},n.prototype.getCameraSelectionId=function(){return this.elementId+"__camera_selection"},n.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},n.prototype.getFileScanRegion=function(){return document.getElementById(this.getDashboardSectionFileScanRegionId())},n.prototype.getFileScanInput=function(){return document.getElementById(this.getFileScanInputId())},n.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},n.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())}}();const H4=["addListener","removeListener"],z4=["addEventListener","removeEventListener"],W4=["on","off"];function zg(n,e,t,r){if(Ge(t)&&(r=t,t=void 0),r)return zg(n,e,t).pipe(Pp(r));const[i,s]=function X4(n){return Ge(n.addEventListener)&&Ge(n.removeEventListener)}(n)?z4.map(c=>h=>n[c](e,h,t)):function G4(n){return Ge(n.addListener)&&Ge(n.removeListener)}(n)?H4.map(px(n,e)):function Y4(n){return Ge(n.on)&&Ge(n.off)}(n)?W4.map(px(n,e)):[];if(!i&&Q(n))return at(c=>zg(c,e,t))(Nn(n));if(!i)throw new TypeError("Invalid event target");return new ae(c=>{const h=(...p)=>c.next(1<p.length?p:p[0]);return i(h),()=>s(h)})}function px(n,e){return t=>r=>n[t](e,r)}class q4 extends Jt{constructor(e,t){super()}schedule(e,t=0){return this}}const Od={setInterval(...n){const{delegate:e}=Od;return((null==e?void 0:e.setInterval)||setInterval)(...n)},clearInterval(n){const{delegate:e}=Od;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};class Wg extends q4{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return Od.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;Od.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,no(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const tc={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=tc;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new Jt(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=tc;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=tc;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0},gx={now:()=>(gx.delegate||Date).now(),delegate:void 0};class nc{constructor(e,t=nc.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}nc.now=gx.now;class Gg extends nc{constructor(e,t=nc.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}new class K4 extends Gg{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let r,i=-1;e=e||t.shift();const s=t.length;do{if(r=e.execute(e.state,e.delay))break}while(++i<s&&(e=t.shift()));if(this._active=!1,r){for(;++i<s&&(e=t.shift());)e.unsubscribe();throw r}}}(class $4 extends Wg{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=tc.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(tc.cancelAnimationFrame(t),e._scheduled=void 0)}});let Yg,Q4=1;const Pd={};function mx(n){return n in Pd&&(delete Pd[n],!0)}const J4={setImmediate(n){const e=Q4++;return Pd[e]=!0,Yg||(Yg=Promise.resolve()),Yg.then(()=>mx(e)&&n()),e},clearImmediate(n){mx(n)}},{setImmediate:eF,clearImmediate:tF}=J4,kd={setImmediate(...n){const{delegate:e}=kd;return((null==e?void 0:e.setImmediate)||eF)(...n)},clearImmediate(n){const{delegate:e}=kd;return((null==e?void 0:e.clearImmediate)||tF)(n)},delegate:void 0},yx=(new class rF extends Gg{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let r,i=-1;e=e||t.shift();const s=t.length;do{if(r=e.execute(e.state,e.delay))break}while(++i<s&&(e=t.shift()));if(this._active=!1,r){for(;++i<s&&(e=t.shift());)e.unsubscribe();throw r}}}(class nF extends Wg{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=kd.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(kd.clearImmediate(t),e._scheduled=void 0)}}),new Gg(Wg)),_x=yx;function wx(n,e=_x){return function sF(n){return bt((e,t)=>{let r=!1,i=null,s=null,c=!1;const h=()=>{if(null==s||s.unsubscribe(),s=null,r){r=!1;const y=i;i=null,t.next(y)}c&&t.complete()},p=()=>{s=null,c&&t.complete()};e.subscribe(new ne(t,y=>{r=!0,i=y,s||Nn(n(y)).subscribe(s=new ne(t,h,p))},()=>{c=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>function aF(n=0,e,t=_x){let r=-1;return null!=e&&(Ua(e)?t=e:r=e),new ae(i=>{let s=function oF(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e))}let cF=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new ke,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new ae(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(wx(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):De()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(zi(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=ma(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>zg(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(z(ut),z(Rr),z(Xe,8))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vx=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new ke,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(wx(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(z(Rr),z(ut),z(Xe,8))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ex=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tt({type:n}),n.\u0275inj=je({}),n})(),Cx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tt({type:n}),n.\u0275inj=je({imports:[[Yl,ME,Ex],Yl,Ex]}),n})();class Xg{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class qg extends Xg{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class xx extends Xg{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class dF extends Xg{constructor(e){super(),this.element=e instanceof Sn?e.nativeElement:e}}class $g{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof qg?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof xx?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof dF?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class hF extends $g{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=c=>{const h=c.element,p=this._document.createComment("dom-portal");h.parentNode.insertBefore(p,h),this.outletElement.appendChild(h),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(h,p)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let bx=(()=>{class n extends $g{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new vn,this.attachDomPortal=s=>{const c=s.element,h=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(h,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(c,h)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),c=r.createComponent(s,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=t,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(ee(us),ee(Dr),ee(Xe))},n.\u0275dir=Vt({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Ps]}),n})(),Ax=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tt({type:n}),n.\u0275inj=je({}),n})();const Dx=L8();class fF{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Qt(-this._previousScrollPosition.left),e.style.top=Qt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",c=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Dx&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Dx&&(r.scrollBehavior=s,i.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class pF{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Sx{enable(){}disable(){}attach(){}}function Kg(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function Ix(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class gF{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();Kg(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let mF=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new Sx,this.close=c=>new pF(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new fF(this._viewportRuler,this._document),this.reposition=c=>new gF(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(z(cF),z(vx),z(ut),z(Xe))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Tx{constructor(e){if(this.scrollStrategy=new Sx,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class yF{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class _F{constructor(e,t,r,i,s,c,h,p,y){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=c,this._document=h,this._location=p,this._outsideClickDispatcher=y,this._backdropElement=null,this._backdropClick=new ke,this._attachments=new ke,this._detachments=new ke,this._locationChanges=Jt.EMPTY,this._backdropClickHandler=v=>this._backdropClick.next(v),this._keydownEvents=new ke,this._outsidePointerEvents=new ke,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(lt(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Qt(this._config.width),e.height=Qt(this._config.height),e.minWidth=Qt(this._config.minWidth),e.minHeight=Qt(this._config.minHeight),e.maxWidth=Qt(this._config.maxWidth),e.maxHeight=Qt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const r=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",r),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",r)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(e,t,r){const i=cd(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(ld(fc(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.remove(),this._backdropElement===e&&(this._backdropElement=null))}}let Mx=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||ig()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),ig()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(z(Xe),z(Rr))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Rx="cdk-overlay-connected-position-bounding-box",wF=/([A-Za-z%]+)$/;class vF{constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ke,this._resizeSubscription=Jt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(Rx),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let c;for(let h of this._preferredPositions){let p=this._getOriginPoint(e,i,h),y=this._getOverlayPoint(p,t,h),v=this._getOverlayFit(y,t,r,h);if(v.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,p);this._canFitWithFlexibleDimensions(v,y,r)?s.push({position:h,origin:p,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(p,h)}):(!c||c.overlayFit.visibleArea<v.visibleArea)&&(c={overlayFit:v,overlayPoint:y,originPoint:p,position:h,overlayRect:t})}if(s.length){let h=null,p=-1;for(const y of s){const v=y.boundingBoxRect.width*y.boundingBoxRect.height*(y.position.weight||1);v>p&&(p=v,h=y)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Js(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Rx),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,s;if("center"==r.originX)i=e.left+e.width/2;else{const c=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;i="start"==r.originX?c:h}return t.left<0&&(i-=t.left),s="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:i,y:s}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=Ox(t);let{x:c,y:h}=e,p=this._getOffset(i,"x"),y=this._getOffset(i,"y");p&&(c+=p),y&&(h+=y);let b=0-h,S=h+s.height-r.height,M=this._subtractOverflows(s.width,0-c,c+s.width-r.width),O=this._subtractOverflows(s.height,b,S),k=M*O;return{visibleArea:k,isCompletelyWithinViewport:s.width*s.height===k,fitsInViewportVertically:O===s.height,fitsInViewportHorizontally:M==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,c=Nx(this._overlayRef.getConfig().minHeight),h=Nx(this._overlayRef.getConfig().minWidth),y=e.fitsInViewportHorizontally||null!=h&&h<=s;return(e.fitsInViewportVertically||null!=c&&c<=i)&&y}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=Ox(t),s=this._viewportRect,c=Math.max(e.x+i.width-s.width,0),h=Math.max(e.y+i.height-s.height,0),p=Math.max(s.top-r.top-e.y,0),y=Math.max(s.left-r.left-e.x,0);let v=0,C=0;return v=i.width<=s.width?y||-c:e.x<this._viewportMargin?s.left-r.left-e.x:0,C=i.height<=s.height?p||-h:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:v,y:C},{x:e.x+v,y:e.y+C}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new yF(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,c,h,v,C,b;if("top"===t.overlayY)c=e.y,s=r.height-c+this._viewportMargin;else if("bottom"===t.overlayY)h=r.height-e.y+2*this._viewportMargin,s=r.height-h+this._viewportMargin;else{const S=Math.min(r.bottom-e.y+r.top,e.y),M=this._lastBoundingBoxSize.height;s=2*S,c=e.y-S,s>M&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-M/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)b=r.width-e.x+this._viewportMargin,v=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)C=e.x,v=r.right-e.x;else{const S=Math.min(r.right-e.x+r.left,e.x),M=this._lastBoundingBoxSize.width;v=2*S,C=e.x-S,v>M&&!this._isInitialRender&&!this._growAfterOpen&&(C=e.x-M/2)}return{top:c,left:C,bottom:h,right:b,width:v,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;i.height=Qt(r.height),i.top=Qt(r.top),i.bottom=Qt(r.bottom),i.width=Qt(r.width),i.left=Qt(r.left),i.right=Qt(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=Qt(s)),c&&(i.maxWidth=Qt(c))}this._lastBoundingBoxSize=r,Js(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Js(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Js(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(i){const v=this._viewportRuler.getViewportScrollPosition();Js(r,this._getExactOverlayY(t,e,v)),Js(r,this._getExactOverlayX(t,e,v))}else r.position="static";let h="",p=this._getOffset(t,"x"),y=this._getOffset(t,"y");p&&(h+=`translateX(${p}px) `),y&&(h+=`translateY(${y}px)`),r.transform=h.trim(),c.maxHeight&&(i?r.maxHeight=Qt(c.maxHeight):s&&(r.maxHeight="")),c.maxWidth&&(i?r.maxWidth=Qt(c.maxWidth):s&&(r.maxWidth="")),Js(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=Qt(s.y),i}_getExactOverlayX(e,t,r){let c,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Qt(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Ix(e,r),isOriginOutsideView:Kg(e,r),isOverlayClipped:Ix(t,r),isOverlayOutsideView:Kg(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&cd(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Sn)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function Js(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Nx(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(wF);return t&&"px"!==t?null:parseFloat(e)}return n||null}function Ox(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Px="cdk-global-overlay-wrapper";class EF{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Px),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:c,maxHeight:h}=r,p=!("100%"!==i&&"100vw"!==i||c&&"100%"!==c&&"100vw"!==c),y=!("100%"!==s&&"100vh"!==s||h&&"100%"!==h&&"100vh"!==h);e.position=this._cssPosition,e.marginLeft=p?"0":this._leftOffset,e.marginTop=y?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,p?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=y?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(Px),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let CF=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new EF}flexibleConnectedTo(t){return new vF(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(z(vx),z(Xe),z(Rr),z(Mx))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kx=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(z(Xe))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xF=(()=>{class n extends kx{constructor(t){super(t),this._keydownListener=r=>{const i=this._attachedOverlays;for(let s=i.length-1;s>-1;s--)if(i[s]._keydownEvents.observers.length>0){i[s]._keydownEvents.next(r);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(z(Xe))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bF=(()=>{class n extends kx{constructor(t,r){super(t),this._platform=r,this._cursorStyleIsSet=!1,this._pointerDownListener=i=>{this._pointerDownEventTarget=Xs(i)},this._clickListener=i=>{const s=Xs(i),c="click"===i.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const h=this._attachedOverlays.slice();for(let p=h.length-1;p>-1;p--){const y=h[p];if(!(y._outsidePointerEvents.observers.length<1)&&y.hasAttached()){if(y.overlayElement.contains(s)||y.overlayElement.contains(c))break;y._outsidePointerEvents.next(i)}}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(t){return new(t||n)(z(Xe),z(Rr))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AF=0,Zg=(()=>{class n{constructor(t,r,i,s,c,h,p,y,v,C,b){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=c,this._injector=h,this._ngZone=p,this._document=y,this._directionality=v,this._location=C,this._outsideClickDispatcher=b}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),c=new Tx(t);return c.direction=c.direction||this._directionality.value,new _F(s,r,i,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+AF++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(oa)),new hF(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(z(mF),z(Mx),z(us),z(CF),z(xF),z(Xt),z(ut),z(Xe),z(k8),z(Du),z(bF))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();const IF={provide:new we("cdk-connected-overlay-scroll-strategy"),deps:[Zg],useFactory:function SF(n){return()=>n.scrollStrategies.reposition()}};let TF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tt({type:n}),n.\u0275inj=je({providers:[Zg,IF],imports:[[Yl,Ax,Cx],Cx]}),n})();const MF=["mat-button",""],RF=["*"],OF=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],PF=Lg(Vk(Hk(class{constructor(n){this._elementRef=n}})));let Qg=(()=>{class n extends PF{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of OF)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(ee(Sn),ee(cP),ee(Id,8))},n.\u0275cmp=_n({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&Kf(WC,5),2&t){let i;na(i=ra())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(jo("disabled",r.disabled||null),Fs("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Ps],attrs:MF,ngContentSelectors:RF,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(iu(),qt(0,"span",0),_l(1),$t(),cs(2,"span",1),cs(3,"span",2)),2&t&&(Os(2),Fs("mat-button-ripple-round",r.isRoundButton||r.isIconButton),nu("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[WC],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),Fx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tt({type:n}),n.\u0275inj=je({imports:[[Kk,xi],xi]}),n})();const Lx=new Set;let xa,FF=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):BF}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function LF(n){if(!Lx.has(n))try{xa||(xa=document.createElement("style"),xa.setAttribute("type","text/css"),document.head.appendChild(xa)),xa.sheet&&(xa.sheet.insertRule(`@media ${n} {body{ }}`,0),Lx.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(z(Rr))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function BF(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let UF=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new ke}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Bx(cd(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let s=Ev(Bx(cd(t)).map(c=>this._registerQuery(c).observable));return s=zu(s.pipe(lt(1)),s.pipe(NE(1),function kF(n,e=yx){return bt((t,r)=>{let i=null,s=null,c=null;const h=()=>{if(i){i.unsubscribe(),i=null;const y=s;s=null,r.next(y)}};function p(){const y=c+n,v=e.now();if(v<y)return i=this.schedule(void 0,y-v),void r.add(i);h()}t.subscribe(new ne(r,y=>{s=y,c=e.now(),i||(i=e.schedule(p,n),r.add(i))},()=>{h(),r.complete()},void 0,()=>{s=i=null}))})}(0))),s.pipe(Fe(c=>{const h={matches:!1,breakpoints:{}};return c.forEach(({matches:p,query:y})=>{h.matches=h.matches||p,h.breakpoints[y]=p}),h}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),s={observable:new ae(c=>{const h=p=>this._zone.run(()=>c.next(p));return r.addListener(h),()=>{r.removeListener(h)}}).pipe(Av(r),Fe(({matches:c})=>({query:t,matches:c})),ld(this._destroySubject)),mql:r};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(z(FF),z(ut))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Bx(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function VF(n,e){if(1&n){const t=function cy(){return G()}();qt(0,"div",1),qt(1,"button",2),Bi("click",function(){return function w0(n){return Me.lFrame.contextLView=n,n[8]}(t),Tf().action()}),Ar(2),$t(),$t()}if(2&n){const t=Tf();Os(2),ou(t.data.action)}}function HF(n,e){}const Ux=new we("MatSnackBarData");class Fd{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const zF=Math.pow(2,31)-1;class Jg{constructor(e,t){this._overlayRef=t,this._afterDismissed=new ke,this._afterOpened=new ke,this._onAction=new ke,this._dismissedByAction=!1,this.containerInstance=e,this.onAction().subscribe(()=>this.dismiss()),e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,zF))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let WF=(()=>{class n{constructor(t,r){this.snackBarRef=t,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(t){return new(t||n)(ee(Jg),ee(Ux))},n.\u0275cmp=_n({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,r){1&t&&(qt(0,"span"),Ar(1),$t(),vf(2,VF,3,1,"div",0)),2&t&&(Os(1),ou(r.data.message),Os(1),nu("ngIf",r.hasAction))},directives:[Qw,Qg],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),n})();const GF={snackBarState:hP("state",[WE("void, hidden",ql({transform:"scale(0.8)",opacity:0})),WE("visible",ql({transform:"scale(1)",opacity:1})),GE("* => visible",HE("150ms cubic-bezier(0, 0, 0.2, 1)")),GE("* => void, * => hidden",HE("75ms cubic-bezier(0.4, 0.0, 1, 1)",ql({opacity:0})))])};let YF=(()=>{class n extends $g{constructor(t,r,i,s,c){super(),this._ngZone=t,this._elementRef=r,this._changeDetectorRef=i,this._platform=s,this.snackBarConfig=c,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new ke,this._onExit=new ke,this._onEnter=new ke,this._animationState="void",this.attachDomPortal=h=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(h)),this._live="assertive"!==c.politeness||c.announcementMessage?"off"===c.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:r,toState:i}=t;if(("void"===i&&"void"!==r||"hidden"===i)&&this._completeExit(),"visible"===i){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(lt(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(i=>t.classList.add(i)):t.classList.add(r)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&r){let i=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(i=document.activeElement),t.removeAttribute("aria-hidden"),r.appendChild(t),null==i||i.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(t){return new(t||n)(ee(ut),ee(Sn),ee(xu),ee(Rr),ee(Fd))},n.\u0275cmp=_n({type:n,selectors:[["snack-bar-container"]],viewQuery:function(t,r){if(1&t&&Kf(bx,7),2&t){let i;na(i=ra())&&(r._portalOutlet=i.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,r){1&t&&Sf("@state.done",function(s){return r.onAnimationEnd(s)}),2&t&&Nf("@state",r._animationState)},features:[Ps],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,r){1&t&&(qt(0,"div",0),vf(1,HF,0,0,"ng-template",1),$t(),cs(2,"div")),2&t&&(Os(2),jo("aria-live",r._live)("role",r._role))},directives:[bx],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[GF.snackBarState]}}),n})(),jx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tt({type:n}),n.\u0275inj=je({imports:[[TF,Ax,nv,Fx,xi],xi]}),n})();const XF=new we("mat-snack-bar-default-options",{providedIn:"root",factory:function qF(){return new Fd}});let $F=(()=>{class n{constructor(t,r,i,s,c,h){this._overlay=t,this._live=r,this._injector=i,this._breakpointObserver=s,this._parentSnackBar=c,this._defaultConfig=h,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=WF,this.snackBarContainerComponent=YF,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,r){return this._attach(t,r)}openFromTemplate(t,r){return this._attach(t,r)}open(t,r="",i){const s=Object.assign(Object.assign({},this._defaultConfig),i);return s.data={message:t,action:r},s.announcementMessage===t&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,r){const s=Xt.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:Fd,useValue:r}]}),c=new qg(this.snackBarContainerComponent,r.viewContainerRef,s),h=t.attach(c);return h.instance.snackBarConfig=r,h.instance}_attach(t,r){const i=Object.assign(Object.assign(Object.assign({},new Fd),this._defaultConfig),r),s=this._createOverlay(i),c=this._attachSnackBarContainer(s,i),h=new Jg(c,s);if(t instanceof wi){const p=new xx(t,null,{$implicit:i.data,snackBarRef:h});h.instance=c.attachTemplatePortal(p)}else{const p=this._createInjector(i,h),y=new qg(t,void 0,p),v=c.attachComponentPortal(y);h.instance=v.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(ld(s.detachments())).subscribe(p=>{s.overlayElement.classList.toggle(this.handsetCssClass,p.matches)}),i.announcementMessage&&c._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(h,i),this._openedSnackBarRef=h,this._openedSnackBarRef}_animateSnackBar(t,r){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),r.duration&&r.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(r.duration))}_createOverlay(t){const r=new Tx;r.direction=t.direction;let i=this._overlay.position().global();const s="rtl"===t.direction,c="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!s||"end"===t.horizontalPosition&&s,h=!c&&"center"!==t.horizontalPosition;return c?i.left("0"):h?i.right("0"):i.centerHorizontally(),"top"===t.verticalPosition?i.top("0"):i.bottom("0"),r.positionStrategy=i,this._overlay.create(r)}_createInjector(t,r){return Xt.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:Jg,useValue:r},{provide:Ux,useValue:t.data}]})}}return n.\u0275fac=function(t){return new(t||n)(z(Zg),z(aP),z(Xt),z(UF),z(n,12),z(XF))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:jx}),n})(),KF=(()=>{class n{constructor(t){this._snackbar=t,this.scannerState="Not yet assigned"}onScanSuccess(t,r){this._snackbar.open(`\u2714 Success:\ndecoded text: ${t}\ndecoded result: ${r}`,"ok",{panelClass:["fg-light-green"]})}onScanFailure(t,r){this._snackbar.open(`\u2716 Failure:\n Error: ${t}\n Error result: ${r}`,"ok",{panelClass:["fg-light-red"]})}wrapTextAfter15chars(t){let r="";return Array.from(t).forEach((s,c)=>{c%15==0&&(r+="\n"),r+=s}),r}ngOnInit(){this.startScanning()}getScannerState(t){let r="inside getScannerstate";switch(t){case Et.UNKNOWN:r="unknown";break;case Et.NOT_STARTED:r="not started";break;case Et.SCANNING:r="scanning";break;case Et.PAUSED:r="paused";break;default:r="Not recognized"}return r}startScanning(){this.html5QrCode=new Vg("reader"),this.html5QrCode.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},this.onScanSuccess,this.onScanFailure).then(r=>{this.scannerState=this.getScannerState(this.html5QrCode.getState())}).catch(r=>this.scannerState="Failed while starting")}stopScanning(){this.html5QrCode?this.html5QrCode.stop().then(t=>{this.scannerState=this.getScannerState(this.html5QrCode.getState()),this._snackbar.open(`scanner stopped successfully\nvalue: ${JSON.stringify(t)}`,"ok",{panelClass:["fg-light-green"]})}).catch(t=>{this.scannerState="Failed while stop scanning",this._snackbar.open(`Failed to stop scanner\nerror: ${JSON.stringify(t)}`,"ok",{panelClass:["fg-light-red"]})}):this._snackbar.open("No scanner found","ok",{panelClass:["fg-light-red"]})}pauseScanning(){this.html5QrCode.pause(!0),this.scannerState=this.getScannerState(this.html5QrCode.getState())}resumeScanning(){this.html5QrCode.resume(),this.scannerState=this.getScannerState(this.html5QrCode.getState())}}return n.\u0275fac=function(t){return new(t||n)(ee($F))},n.\u0275cmp=_n({type:n,selectors:[["app-scanner"]],decls:12,vars:1,consts:[["id","reader"],[1,"action-area"],["mat-raised-button","",3,"click"]],template:function(t,r){1&t&&(cs(0,"div",0),qt(1,"p"),Ar(2),$t(),qt(3,"section",1),qt(4,"button",2),Bi("click",function(){return r.startScanning()}),Ar(5,"Start scanning"),$t(),qt(6,"button",2),Bi("click",function(){return r.stopScanning()}),Ar(7,"Stop scanning"),$t(),qt(8,"button",2),Bi("click",function(){return r.pauseScanning()}),Ar(9,"Pause scanning"),$t(),qt(10,"button",2),Bi("click",function(){return r.resumeScanning()}),Ar(11,"Resume scanning"),$t(),$t()),2&t&&(Os(2),au("Scanner state: ",r.scannerState,""))},directives:[Qg],styles:[""]}),n})();const ZF=["*",[["mat-toolbar-row"]]],QF=["*","mat-toolbar-row"],JF=Lg(class{constructor(n){this._elementRef=n}});let Vx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Vt({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),eL=(()=>{class n extends JF{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(ee(Sn),ee(Rr),ee(Xe))},n.\u0275cmp=_n({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&function mu(n,e,t,r){const i=et();if(i.firstCreatePass){const s=tn();X_(i,new W_(e,t,r),s.index),function YT(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}Y_(i,G(),t)}(i,Vx,5),2&t){let s;na(s=ra())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&Fs("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[Ps],ngContentSelectors:QF,decls:2,vars:0,template:function(t,r){1&t&&(iu(ZF),_l(0),_l(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),tL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tt({type:n}),n.\u0275inj=je({imports:[[xi],xi]}),n})();const nL=[{path:"",redirectTo:"/main/home",pathMatch:"full"},{path:"main",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=_n({type:n,selectors:[["app-shell"]],decls:8,vars:0,consts:[["color","primary"],["mat-icon-button","","routerLink","/scanner"],[1,"scanner-trigger"]],template:function(t,r){1&t&&(qt(0,"mat-toolbar",0),qt(1,"mat-toolbar-row"),qt(2,"span"),Ar(3,"Shanky"),$t(),qt(4,"button",1),qt(5,"mat-icon",2),Ar(6,"qr_code_scanner"),$t(),$t(),$t(),$t(),cs(7,"router-outlet"))},directives:[eL,Vx,Qg,od,rx,Qu],styles:["mat-toolbar-row[_ngcontent-%COMP%]{justify-content:space-between}"]}),n})(),children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:v4}]},{path:"scanner",component:KF},{path:"**",redirectTo:"/main/home",pathMatch:"full"}];let rL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tt({type:n}),n.\u0275inj=je({imports:[[DE.forRoot(nL)],DE]}),n})(),iL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=_n({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&cs(0,"router-outlet")},directives:[Qu],styles:[""]}),n})(),sL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tt({type:n}),n.\u0275inj=je({imports:[tL,w4,Fx,jx]}),n})(),oL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tt({type:n,bootstrap:[iL]}),n.\u0275inj=je({providers:[],imports:[[gv,rL,Bk,sL]]}),n})();(function TM(){Aw=!1})(),tO().bootstrapModule(oL).catch(n=>console.error(n))},140:function(rc,ic){!function(Y){"use strict";var Ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,o){w.__proto__=o}||function(w,o){for(var a in o)o.hasOwnProperty(a)&&(w[a]=o[a])};var Jt=function(w){function o(a){var l=this.constructor,u=w.call(this,a)||this;return Object.defineProperty(u,"name",{value:l.name,enumerable:!1}),function Ia(w,o){var a=Object.setPrototypeOf;a?a(w,o):w.__proto__=o}(u,l.prototype),function no(w,o){void 0===o&&(o=w.constructor);var a=Error.captureStackTrace;a&&a(w,o)}(u),u}return function Sa(w,o){function a(){this.constructor=w}Ge(w,o),w.prototype=null===o?Object.create(o):(a.prototype=o.prototype,new a)}(o,w),o}(Error);let an=(()=>{class w extends Jt{constructor(a){super(a),this.message=a}getKind(){return this.constructor.kind}}return w.kind="Exception",w})(),Mn=(()=>{class w extends an{}return w.kind="ArgumentException",w})(),he=(()=>{class w extends an{}return w.kind="IllegalArgumentException",w})();class Gn{constructor(o){if(this.binarizer=o,null===o)throw new he("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(o,a){return this.binarizer.getBlackRow(o,a)}getBlackMatrix(){return null==this.matrix&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(o,a,l,u){const d=this.binarizer.getLuminanceSource().crop(o,a,l,u);return new Gn(this.binarizer.createBinarizer(d))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new Gn(this.binarizer.createBinarizer(o))}rotateCounterClockwise45(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new Gn(this.binarizer.createBinarizer(o))}toString(){try{return this.getBlackMatrix().toString()}catch(o){return""}}}let St=(()=>{class w extends an{static getChecksumInstance(){return new w}}return w.kind="ChecksumException",w})();class Ta{constructor(o){this.source=o}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class tt{static arraycopy(o,a,l,u,d){for(;d--;)l[u++]=o[a++]}static currentTimeMillis(){return Date.now()}}let Ma=(()=>{class w extends an{}return w.kind="IndexOutOfBoundsException",w})(),sc=(()=>{class w extends Ma{constructor(a,l){super(l),this.index=a,this.message=l}}return w.kind="ArrayIndexOutOfBoundsException",w})();class zt{static fill(o,a){for(let l=0,u=o.length;l<u;l++)o[l]=a}static fillWithin(o,a,l,u){zt.rangeCheck(o.length,a,l);for(let d=a;d<l;d++)o[d]=u}static rangeCheck(o,a,l){if(a>l)throw new he("fromIndex("+a+") > toIndex("+l+")");if(a<0)throw new sc(a);if(l>o)throw new sc(l)}static asList(...o){return o}static create(o,a,l){return Array.from({length:o}).map(d=>Array.from({length:a}).fill(l))}static createInt32Array(o,a,l){return Array.from({length:o}).map(d=>Int32Array.from({length:a}).fill(l))}static equals(o,a){if(!(o&&a&&o.length&&a.length&&o.length===a.length))return!1;for(let l=0,u=o.length;l<u;l++)if(o[l]!==a[l])return!1;return!0}static hashCode(o){if(null===o)return 0;let a=1;for(const l of o)a=31*a+l;return a}static fillUint8Array(o,a){for(let l=0;l!==o.length;l++)o[l]=a}static copyOf(o,a){return o.slice(0,a)}static copyOfUint8Array(o,a){if(o.length<=a){const l=new Uint8Array(a);return l.set(o),l}return o.slice(0,a)}static copyOfRange(o,a,l){const u=l-a,d=new Int32Array(u);return tt.arraycopy(o,a,d,0,u),d}static binarySearch(o,a,l){void 0===l&&(l=zt.numberComparator);let u=0,d=o.length-1;for(;u<=d;){const f=d+u>>1,g=l(a,o[f]);if(g>0)u=f+1;else{if(!(g<0))return f;d=f-1}}return-u-1}static numberComparator(o,a){return o-a}}class Oe{static numberOfTrailingZeros(o){let a;if(0===o)return 32;let l=31;return a=o<<16,0!==a&&(l-=16,o=a),a=o<<8,0!==a&&(l-=8,o=a),a=o<<4,0!==a&&(l-=4,o=a),a=o<<2,0!==a&&(l-=2,o=a),l-(o<<1>>>31)}static numberOfLeadingZeros(o){if(0===o)return 32;let a=1;return o>>>16==0&&(a+=16,o<<=16),o>>>24==0&&(a+=8,o<<=8),o>>>28==0&&(a+=4,o<<=4),o>>>30==0&&(a+=2,o<<=2),a-=o>>>31,a}static toHexString(o){return o.toString(16)}static toBinaryString(o){return String(parseInt(String(o),2))}static bitCount(o){return o=(o=(858993459&(o-=o>>>1&1431655765))+(o>>>2&858993459))+(o>>>4)&252645135,63&(o+=o>>>8)+(o>>>16)}static truncDivision(o,a){return Math.trunc(o/a)}static parseInt(o,a){return parseInt(o,a)}}Oe.MIN_VALUE_32_BITS=-2147483648,Oe.MAX_VALUE=Number.MAX_SAFE_INTEGER;class it{constructor(o,a){void 0===o?(this.size=0,this.bits=new Int32Array(1)):(this.size=o,this.bits=null==a?it.makeArray(o):a)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(o){if(o>32*this.bits.length){const a=it.makeArray(o);tt.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}}get(o){return 0!=(this.bits[Math.floor(o/32)]&1<<(31&o))}set(o){this.bits[Math.floor(o/32)]|=1<<(31&o)}flip(o){this.bits[Math.floor(o/32)]^=1<<(31&o)}getNextSet(o){const a=this.size;if(o>=a)return a;const l=this.bits;let u=Math.floor(o/32),d=l[u];d&=~((1<<(31&o))-1);const f=l.length;for(;0===d;){if(++u===f)return a;d=l[u]}const g=32*u+Oe.numberOfTrailingZeros(d);return g>a?a:g}getNextUnset(o){const a=this.size;if(o>=a)return a;const l=this.bits;let u=Math.floor(o/32),d=~l[u];d&=~((1<<(31&o))-1);const f=l.length;for(;0===d;){if(++u===f)return a;d=~l[u]}const g=32*u+Oe.numberOfTrailingZeros(d);return g>a?a:g}setBulk(o,a){this.bits[Math.floor(o/32)]=a}setRange(o,a){if(a<o||o<0||a>this.size)throw new he;if(a===o)return;a--;const l=Math.floor(o/32),u=Math.floor(a/32),d=this.bits;for(let f=l;f<=u;f++)d[f]|=(2<<(f<u?31:31&a))-(1<<(f>l?0:31&o))}clear(){const o=this.bits.length,a=this.bits;for(let l=0;l<o;l++)a[l]=0}isRange(o,a,l){if(a<o||o<0||a>this.size)throw new he;if(a===o)return!0;a--;const u=Math.floor(o/32),d=Math.floor(a/32),f=this.bits;for(let g=u;g<=d;g++){const E=(2<<(g<d?31:31&a))-(1<<(g>u?0:31&o))&4294967295;if((f[g]&E)!==(l?E:0))return!1}return!0}appendBit(o){this.ensureCapacity(this.size+1),o&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++}appendBits(o,a){if(a<0||a>32)throw new he("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(let l=a;l>0;l--)this.appendBit(1==(o>>l-1&1))}appendBitArray(o){const a=o.size;this.ensureCapacity(this.size+a);for(let l=0;l<a;l++)this.appendBit(o.get(l))}xor(o){if(this.size!==o.size)throw new he("Sizes don't match");const a=this.bits;for(let l=0,u=a.length;l<u;l++)a[l]^=o.bits[l]}toBytes(o,a,l,u){for(let d=0;d<u;d++){let f=0;for(let g=0;g<8;g++)this.get(o)&&(f|=1<<7-g),o++;a[l+d]=f}}getBitArray(){return this.bits}reverse(){const o=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),l=a+1,u=this.bits;for(let d=0;d<l;d++){let f=u[d];f=f>>1&1431655765|(1431655765&f)<<1,f=f>>2&858993459|(858993459&f)<<2,f=f>>4&252645135|(252645135&f)<<4,f=f>>8&16711935|(16711935&f)<<8,f=f>>16&65535|(65535&f)<<16,o[a-d]=f}if(this.size!==32*l){const d=32*l-this.size;let f=o[0]>>>d;for(let g=1;g<l;g++){const m=o[g];f|=m<<32-d,o[g-1]=f,f=m>>>d}o[l-1]=f}this.bits=o}static makeArray(o){return new Int32Array(Math.floor((o+31)/32))}equals(o){return o instanceof it&&this.size===o.size&&zt.equals(this.bits,o.bits)}hashCode(){return 31*this.size+zt.hashCode(this.bits)}toString(){let o="";for(let a=0,l=this.size;a<l;a++)0==(7&a)&&(o+=" "),o+=this.get(a)?"X":".";return o}clone(){return new it(this.size,this.bits.slice())}}var Ai=(()=>{return(w=Ai||(Ai={}))[w.OTHER=0]="OTHER",w[w.PURE_BARCODE=1]="PURE_BARCODE",w[w.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",w[w.TRY_HARDER=3]="TRY_HARDER",w[w.CHARACTER_SET=4]="CHARACTER_SET",w[w.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",w[w.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",w[w.ASSUME_GS1=7]="ASSUME_GS1",w[w.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",w[w.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",w[w.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS",Ai;var w})(),xt=Ai;let J=(()=>{class w extends an{static getFormatInstance(){return new w}}return w.kind="FormatException",w})();var Je=(()=>{return(w=Je||(Je={}))[w.Cp437=0]="Cp437",w[w.ISO8859_1=1]="ISO8859_1",w[w.ISO8859_2=2]="ISO8859_2",w[w.ISO8859_3=3]="ISO8859_3",w[w.ISO8859_4=4]="ISO8859_4",w[w.ISO8859_5=5]="ISO8859_5",w[w.ISO8859_6=6]="ISO8859_6",w[w.ISO8859_7=7]="ISO8859_7",w[w.ISO8859_8=8]="ISO8859_8",w[w.ISO8859_9=9]="ISO8859_9",w[w.ISO8859_10=10]="ISO8859_10",w[w.ISO8859_11=11]="ISO8859_11",w[w.ISO8859_13=12]="ISO8859_13",w[w.ISO8859_14=13]="ISO8859_14",w[w.ISO8859_15=14]="ISO8859_15",w[w.ISO8859_16=15]="ISO8859_16",w[w.SJIS=16]="SJIS",w[w.Cp1250=17]="Cp1250",w[w.Cp1251=18]="Cp1251",w[w.Cp1252=19]="Cp1252",w[w.Cp1256=20]="Cp1256",w[w.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",w[w.UTF8=22]="UTF8",w[w.ASCII=23]="ASCII",w[w.Big5=24]="Big5",w[w.GB18030=25]="GB18030",w[w.EUC_KR=26]="EUC_KR",Je;var w})();class q{constructor(o,a,l,...u){this.valueIdentifier=o,this.name=l,this.values="number"==typeof a?Int32Array.from([a]):a,this.otherEncodingNames=u,q.VALUE_IDENTIFIER_TO_ECI.set(o,this),q.NAME_TO_ECI.set(l,this);const d=this.values;for(let f=0,g=d.length;f!==g;f++)q.VALUES_TO_ECI.set(d[f],this);for(const f of u)q.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(o){if(o<0||o>=900)throw new J("incorect value");const a=q.VALUES_TO_ECI.get(o);if(void 0===a)throw new J("incorect value");return a}static getCharacterSetECIByName(o){const a=q.NAME_TO_ECI.get(o);if(void 0===a)throw new J("incorect value");return a}equals(o){if(!(o instanceof q))return!1;const a=o;return this.getName()===a.getName()}}q.VALUE_IDENTIFIER_TO_ECI=new Map,q.VALUES_TO_ECI=new Map,q.NAME_TO_ECI=new Map,q.Cp437=new q(Je.Cp437,Int32Array.from([0,2]),"Cp437"),q.ISO8859_1=new q(Je.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),q.ISO8859_2=new q(Je.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),q.ISO8859_3=new q(Je.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),q.ISO8859_4=new q(Je.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),q.ISO8859_5=new q(Je.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),q.ISO8859_6=new q(Je.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),q.ISO8859_7=new q(Je.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),q.ISO8859_8=new q(Je.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),q.ISO8859_9=new q(Je.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),q.ISO8859_10=new q(Je.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),q.ISO8859_11=new q(Je.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),q.ISO8859_13=new q(Je.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),q.ISO8859_14=new q(Je.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),q.ISO8859_15=new q(Je.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),q.ISO8859_16=new q(Je.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),q.SJIS=new q(Je.SJIS,20,"SJIS","Shift_JIS"),q.Cp1250=new q(Je.Cp1250,21,"Cp1250","windows-1250"),q.Cp1251=new q(Je.Cp1251,22,"Cp1251","windows-1251"),q.Cp1252=new q(Je.Cp1252,23,"Cp1252","windows-1252"),q.Cp1256=new q(Je.Cp1256,24,"Cp1256","windows-1256"),q.UnicodeBigUnmarked=new q(Je.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),q.UTF8=new q(Je.UTF8,26,"UTF8","UTF-8"),q.ASCII=new q(Je.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),q.Big5=new q(Je.Big5,28,"Big5"),q.GB18030=new q(Je.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),q.EUC_KR=new q(Je.EUC_KR,30,"EUC_KR","EUC-KR");let $i=(()=>{class w extends an{}return w.kind="UnsupportedOperationException",w})();class ln{static decode(o,a){const l=this.encodingName(a);return this.customDecoder?this.customDecoder(o,l):"undefined"==typeof TextDecoder||this.shouldDecodeOnFallback(l)?this.decodeFallback(o,l):new TextDecoder(l).decode(o)}static shouldDecodeOnFallback(o){return!ln.isBrowser()&&"ISO-8859-1"===o}static encode(o,a){const l=this.encodingName(a);return this.customEncoder?this.customEncoder(o,l):"undefined"==typeof TextEncoder?this.encodeFallback(o):(new TextEncoder).encode(o)}static isBrowser(){return"undefined"!=typeof window&&"[object Window]"==={}.toString.call(window)}static encodingName(o){return"string"==typeof o?o:o.getName()}static encodingCharacterSet(o){return o instanceof q?o:q.getCharacterSetECIByName(o)}static decodeFallback(o,a){const l=this.encodingCharacterSet(a);if(ln.isDecodeFallbackSupported(l)){let u="";for(let d=0,f=o.length;d<f;d++){let g=o[d].toString(16);g.length<2&&(g="0"+g),u+="%"+g}return decodeURIComponent(u)}if(l.equals(q.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(o.buffer));throw new $i(`Encoding ${this.encodingName(a)} not supported by fallback.`)}static isDecodeFallbackSupported(o){return o.equals(q.UTF8)||o.equals(q.ISO8859_1)||o.equals(q.ASCII)}static encodeFallback(o){const l=btoa(unescape(encodeURIComponent(o))).split(""),u=[];for(let d=0;d<l.length;d++)u.push(l[d].charCodeAt(0));return new Uint8Array(u)}}class Se{static castAsNonUtf8Char(o,a=null){const l=a?a.getName():this.ISO88591;return ln.decode(new Uint8Array([o]),l)}static guessEncoding(o,a){if(null!=a&&void 0!==a.get(xt.CHARACTER_SET))return a.get(xt.CHARACTER_SET).toString();const l=o.length;let u=!0,d=!0,f=!0,g=0,m=0,_=0,E=0,x=0,D=0,T=0,R=0,N=0,P=0,B=0;const X=o.length>3&&239===o[0]&&187===o[1]&&191===o[2];for(let te=0;te<l&&(u||d||f);te++){const H=255&o[te];f&&(g>0?0==(128&H)?f=!1:g--:0!=(128&H)&&(0==(64&H)?f=!1:(g++,0==(32&H)?m++:(g++,0==(16&H)?_++:(g++,0==(8&H)?E++:f=!1))))),u&&(H>127&&H<160?u=!1:H>159&&(H<192||215===H||247===H)&&B++),d&&(x>0?H<64||127===H||H>252?d=!1:x--:128===H||160===H||H>239?d=!1:H>160&&H<224?(D++,R=0,T++,T>N&&(N=T)):H>127?(x++,T=0,R++,R>P&&(P=R)):(T=0,R=0))}return f&&g>0&&(f=!1),d&&x>0&&(d=!1),f&&(X||m+_+E>0)?Se.UTF8:d&&(Se.ASSUME_SHIFT_JIS||N>=3||P>=3)?Se.SHIFT_JIS:u&&d?2===N&&2===D||10*B>=l?Se.SHIFT_JIS:Se.ISO88591:u?Se.ISO88591:d?Se.SHIFT_JIS:f?Se.UTF8:Se.PLATFORM_DEFAULT_ENCODING}static format(o,...a){let l=-1;return o.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function u(f,g,m,_,E,x){if("%%"===f)return"%";if(void 0===a[++l])return;f=_?parseInt(_.substr(1)):void 0;let T,D=E?parseInt(E.substr(1)):void 0;switch(x){case"s":T=a[l];break;case"c":T=a[l][0];break;case"f":T=parseFloat(a[l]).toFixed(f);break;case"p":T=parseFloat(a[l]).toPrecision(f);break;case"e":T=parseFloat(a[l]).toExponential(f);break;case"x":T=parseInt(a[l]).toString(D||16);break;case"d":T=parseFloat(parseInt(a[l],D||10).toPrecision(f)).toFixed(0)}T="object"==typeof T?JSON.stringify(T):(+T).toString(D);let R=parseInt(m),N=m&&m[0]+""=="0"?"0":" ";for(;T.length<R;)T=void 0!==g?T+N:N+T;return T})}static getBytes(o,a){return ln.encode(o,a)}static getCharCode(o,a=0){return o.charCodeAt(a)}static getCharAt(o){return String.fromCharCode(o)}}Se.SHIFT_JIS=q.SJIS.getName(),Se.GB2312="GB2312",Se.ISO88591=q.ISO8859_1.getName(),Se.EUC_JP="EUC_JP",Se.UTF8=q.UTF8.getName(),Se.PLATFORM_DEFAULT_ENCODING=Se.UTF8,Se.ASSUME_SHIFT_JIS=!1;class nt{constructor(o=""){this.value=o}enableDecoding(o){return this.encoding=o,this}append(o){return this.value+="string"==typeof o?o.toString():this.encoding?Se.castAsNonUtf8Char(o,this.encoding):String.fromCharCode(o),this}appendChars(o,a,l){for(let u=a;a<a+l;u++)this.append(o[u]);return this}length(){return this.value.length}charAt(o){return this.value.charAt(o)}deleteCharAt(o){this.value=this.value.substr(0,o)+this.value.substring(o+1)}setCharAt(o,a){this.value=this.value.substr(0,o)+a+this.value.substr(o+1)}substring(o,a){return this.value.substring(o,a)}setLengthToZero(){this.value=""}toString(){return this.value}insert(o,a){this.value=this.value.substr(0,o)+a+this.value.substr(o+a.length)}}class wt{constructor(o,a,l,u){if(this.width=o,this.height=a,this.rowSize=l,this.bits=u,null==a&&(a=o),this.height=a,o<1||a<1)throw new he("Both dimensions must be greater than 0");null==l&&(l=Math.floor((o+31)/32)),this.rowSize=l,null==u&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(o){const a=o.length,l=o[0].length,u=new wt(l,a);for(let d=0;d<a;d++){const f=o[d];for(let g=0;g<l;g++)f[g]&&u.set(g,d)}return u}static parseFromString(o,a,l){if(null===o)throw new he("stringRepresentation cannot be null");const u=new Array(o.length);let d=0,f=0,g=-1,m=0,_=0;for(;_<o.length;)if("\n"===o.charAt(_)||"\r"===o.charAt(_)){if(d>f){if(-1===g)g=d-f;else if(d-f!==g)throw new he("row lengths do not match");f=d,m++}_++}else if(o.substring(_,_+a.length)===a)_+=a.length,u[d]=!0,d++;else{if(o.substring(_,_+l.length)!==l)throw new he("illegal character encountered: "+o.substring(_));_+=l.length,u[d]=!1,d++}if(d>f){if(-1===g)g=d-f;else if(d-f!==g)throw new he("row lengths do not match");m++}const E=new wt(g,m);for(let x=0;x<d;x++)u[x]&&E.set(Math.floor(x%g),Math.floor(x/g));return E}get(o,a){const l=a*this.rowSize+Math.floor(o/32);return 0!=(this.bits[l]>>>(31&o)&1)}set(o,a){const l=a*this.rowSize+Math.floor(o/32);this.bits[l]|=1<<(31&o)&4294967295}unset(o,a){const l=a*this.rowSize+Math.floor(o/32);this.bits[l]&=~(1<<(31&o)&4294967295)}flip(o,a){const l=a*this.rowSize+Math.floor(o/32);this.bits[l]^=1<<(31&o)&4294967295}xor(o){if(this.width!==o.getWidth()||this.height!==o.getHeight()||this.rowSize!==o.getRowSize())throw new he("input matrix dimensions do not match");const a=new it(Math.floor(this.width/32)+1),l=this.rowSize,u=this.bits;for(let d=0,f=this.height;d<f;d++){const g=d*l,m=o.getRow(d,a).getBitArray();for(let _=0;_<l;_++)u[g+_]^=m[_]}}clear(){const o=this.bits,a=o.length;for(let l=0;l<a;l++)o[l]=0}setRegion(o,a,l,u){if(a<0||o<0)throw new he("Left and top must be nonnegative");if(u<1||l<1)throw new he("Height and width must be at least 1");const d=o+l,f=a+u;if(f>this.height||d>this.width)throw new he("The region must fit inside the matrix");const g=this.rowSize,m=this.bits;for(let _=a;_<f;_++){const E=_*g;for(let x=o;x<d;x++)m[E+Math.floor(x/32)]|=1<<(31&x)&4294967295}}getRow(o,a){null==a||a.getSize()<this.width?a=new it(this.width):a.clear();const l=this.rowSize,u=this.bits,d=o*l;for(let f=0;f<l;f++)a.setBulk(32*f,u[d+f]);return a}setRow(o,a){tt.arraycopy(a.getBitArray(),0,this.bits,o*this.rowSize,this.rowSize)}rotate180(){const o=this.getWidth(),a=this.getHeight();let l=new it(o),u=new it(o);for(let d=0,f=Math.floor((a+1)/2);d<f;d++)l=this.getRow(d,l),u=this.getRow(a-1-d,u),l.reverse(),u.reverse(),this.setRow(d,u),this.setRow(a-1-d,l)}getEnclosingRectangle(){const a=this.height,l=this.rowSize,u=this.bits;let d=this.width,f=a,g=-1,m=-1;for(let _=0;_<a;_++)for(let E=0;E<l;E++){const x=u[_*l+E];if(0!==x){if(_<f&&(f=_),_>m&&(m=_),32*E<d){let D=0;for(;0==(x<<31-D&4294967295);)D++;32*E+D<d&&(d=32*E+D)}if(32*E+31>g){let D=31;for(;x>>>D==0;)D--;32*E+D>g&&(g=32*E+D)}}}return g<d||m<f?null:Int32Array.from([d,f,g-d+1,m-f+1])}getTopLeftOnBit(){const o=this.rowSize,a=this.bits;let l=0;for(;l<a.length&&0===a[l];)l++;if(l===a.length)return null;const u=l/o;let d=l%o*32;const f=a[l];let g=0;for(;0==(f<<31-g&4294967295);)g++;return d+=g,Int32Array.from([d,u])}getBottomRightOnBit(){const o=this.rowSize,a=this.bits;let l=a.length-1;for(;l>=0&&0===a[l];)l--;if(l<0)return null;const u=Math.floor(l/o);let d=32*Math.floor(l%o);const f=a[l];let g=31;for(;f>>>g==0;)g--;return d+=g,Int32Array.from([d,u])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(o){return o instanceof wt&&this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&zt.equals(this.bits,o.bits)}hashCode(){let o=this.width;return o=31*o+this.width,o=31*o+this.height,o=31*o+this.rowSize,o=31*o+zt.hashCode(this.bits),o}toString(o="X ",a="  ",l="\n"){return this.buildToString(o,a,l)}buildToString(o,a,l){let u=new nt;for(let d=0,f=this.height;d<f;d++){for(let g=0,m=this.width;g<m;g++)u.append(this.get(g,d)?o:a);u.append(l)}return u.toString()}clone(){return new wt(this.width,this.height,this.rowSize,this.bits.slice())}}let W=(()=>{class w extends an{static getNotFoundInstance(){return new w}}return w.kind="NotFoundException",w})();class Bt extends Ta{constructor(o){super(o),this.luminances=Bt.EMPTY,this.buckets=new Int32Array(Bt.LUMINANCE_BUCKETS)}getBlackRow(o,a){const l=this.getLuminanceSource(),u=l.getWidth();null==a||a.getSize()<u?a=new it(u):a.clear(),this.initArrays(u);const d=l.getRow(o,this.luminances),f=this.buckets;for(let m=0;m<u;m++)f[(255&d[m])>>Bt.LUMINANCE_SHIFT]++;const g=Bt.estimateBlackPoint(f);if(u<3)for(let m=0;m<u;m++)(255&d[m])<g&&a.set(m);else{let m=255&d[0],_=255&d[1];for(let E=1;E<u-1;E++){const x=255&d[E+1];(4*_-m-x)/2<g&&a.set(E),m=_,_=x}}return a}getBlackMatrix(){const o=this.getLuminanceSource(),a=o.getWidth(),l=o.getHeight(),u=new wt(a,l);this.initArrays(a);const d=this.buckets;for(let m=1;m<5;m++){const _=Math.floor(l*m/5),E=o.getRow(_,this.luminances),x=Math.floor(4*a/5);for(let D=Math.floor(a/5);D<x;D++)d[(255&E[D])>>Bt.LUMINANCE_SHIFT]++}const f=Bt.estimateBlackPoint(d),g=o.getMatrix();for(let m=0;m<l;m++){const _=m*a;for(let E=0;E<a;E++)(255&g[_+E])<f&&u.set(E,m)}return u}createBinarizer(o){return new Bt(o)}initArrays(o){this.luminances.length<o&&(this.luminances=new Uint8ClampedArray(o));const a=this.buckets;for(let l=0;l<Bt.LUMINANCE_BUCKETS;l++)a[l]=0}static estimateBlackPoint(o){const a=o.length;let l=0,u=0,d=0;for(let E=0;E<a;E++)o[E]>d&&(u=E,d=o[E]),o[E]>l&&(l=o[E]);let f=0,g=0;for(let E=0;E<a;E++){const x=E-u,D=o[E]*x*x;D>g&&(f=E,g=D)}if(u>f){const E=u;u=f,f=E}if(f-u<=a/16)throw new W;let m=f-1,_=-1;for(let E=f-1;E>u;E--){const x=E-u,D=x*x*(f-E)*(l-o[E]);D>_&&(m=E,_=D)}return m<<Bt.LUMINANCE_SHIFT}}Bt.LUMINANCE_BITS=5,Bt.LUMINANCE_SHIFT=8-Bt.LUMINANCE_BITS,Bt.LUMINANCE_BUCKETS=1<<Bt.LUMINANCE_BITS,Bt.EMPTY=Uint8ClampedArray.from([0]);class ae extends Bt{constructor(o){super(o),this.matrix=null}getBlackMatrix(){if(null!==this.matrix)return this.matrix;const o=this.getLuminanceSource(),a=o.getWidth(),l=o.getHeight();if(a>=ae.MINIMUM_DIMENSION&&l>=ae.MINIMUM_DIMENSION){const u=o.getMatrix();let d=a>>ae.BLOCK_SIZE_POWER;0!=(a&ae.BLOCK_SIZE_MASK)&&d++;let f=l>>ae.BLOCK_SIZE_POWER;0!=(l&ae.BLOCK_SIZE_MASK)&&f++;const g=ae.calculateBlackPoints(u,d,f,a,l),m=new wt(a,l);ae.calculateThresholdForBlock(u,d,f,a,l,g,m),this.matrix=m}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(o){return new ae(o)}static calculateThresholdForBlock(o,a,l,u,d,f,g){const m=d-ae.BLOCK_SIZE,_=u-ae.BLOCK_SIZE;for(let E=0;E<l;E++){let x=E<<ae.BLOCK_SIZE_POWER;x>m&&(x=m);const D=ae.cap(E,2,l-3);for(let T=0;T<a;T++){let R=T<<ae.BLOCK_SIZE_POWER;R>_&&(R=_);const N=ae.cap(T,2,a-3);let P=0;for(let X=-2;X<=2;X++){const te=f[D+X];P+=te[N-2]+te[N-1]+te[N]+te[N+1]+te[N+2]}ae.thresholdBlock(o,R,x,P/25,u,g)}}}static cap(o,a,l){return o<a?a:o>l?l:o}static thresholdBlock(o,a,l,u,d,f){for(let g=0,m=l*d+a;g<ae.BLOCK_SIZE;g++,m+=d)for(let _=0;_<ae.BLOCK_SIZE;_++)(255&o[m+_])<=u&&f.set(a+_,l+g)}static calculateBlackPoints(o,a,l,u,d){const f=d-ae.BLOCK_SIZE,g=u-ae.BLOCK_SIZE,m=new Array(l);for(let _=0;_<l;_++){m[_]=new Int32Array(a);let E=_<<ae.BLOCK_SIZE_POWER;E>f&&(E=f);for(let x=0;x<a;x++){let D=x<<ae.BLOCK_SIZE_POWER;D>g&&(D=g);let T=0,R=255,N=0;for(let B=0,X=E*u+D;B<ae.BLOCK_SIZE;B++,X+=u){for(let te=0;te<ae.BLOCK_SIZE;te++){const H=255&o[X+te];T+=H,H<R&&(R=H),H>N&&(N=H)}if(N-R>ae.MIN_DYNAMIC_RANGE)for(B++,X+=u;B<ae.BLOCK_SIZE;B++,X+=u)for(let te=0;te<ae.BLOCK_SIZE;te++)T+=255&o[X+te]}let P=T>>2*ae.BLOCK_SIZE_POWER;if(N-R<=ae.MIN_DYNAMIC_RANGE&&(P=R/2,_>0&&x>0)){const B=(m[_-1][x]+2*m[_][x-1]+m[_-1][x-1])/4;R<B&&(P=B)}m[_][x]=P}}return m}}ae.BLOCK_SIZE_POWER=3,ae.BLOCK_SIZE=1<<ae.BLOCK_SIZE_POWER,ae.BLOCK_SIZE_MASK=ae.BLOCK_SIZE-1,ae.MINIMUM_DIMENSION=5*ae.BLOCK_SIZE,ae.MIN_DYNAMIC_RANGE=24;class Ki{constructor(o,a){this.width=o,this.height=a}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(o,a,l,u){throw new $i("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new $i("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new $i("This luminance source does not support rotation by 45 degrees.")}toString(){const o=new Uint8ClampedArray(this.width);let a=new nt;for(let l=0;l<this.height;l++){const u=this.getRow(l,o);for(let d=0;d<this.width;d++){const f=255&u[d];let g;g=f<64?"#":f<128?"+":f<192?".":" ",a.append(g)}a.append("\n")}return a.toString()}}class Zr extends Ki{constructor(o){super(o.getWidth(),o.getHeight()),this.delegate=o}getRow(o,a){const l=this.delegate.getRow(o,a),u=this.getWidth();for(let d=0;d<u;d++)l[d]=255-(255&l[d]);return l}getMatrix(){const o=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(a);for(let u=0;u<a;u++)l[u]=255-(255&o[u]);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(o,a,l,u){return new Zr(this.delegate.crop(o,a,l,u))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Zr(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Zr(this.delegate.rotateCounterClockwise45())}}class Qr extends Ki{constructor(o){super(o.width,o.height),this.canvas=o,this.tempCanvasElement=null,this.buffer=Qr.makeBufferFromCanvasImageData(o)}static makeBufferFromCanvasImageData(o){const a=o.getContext("2d").getImageData(0,0,o.width,o.height);return Qr.toGrayscaleBuffer(a.data,o.width,o.height)}static toGrayscaleBuffer(o,a,l){const u=new Uint8ClampedArray(a*l);for(let d=0,f=0,g=o.length;d<g;d+=4,f++){let m;m=0===o[d+3]?255:306*o[d]+601*o[d+1]+117*o[d+2]+512>>10,u[f]=m}return u}getRow(o,a){if(o<0||o>=this.getHeight())throw new he("Requested row is outside the image: "+o);const l=this.getWidth(),u=o*l;return null===a?a=this.buffer.slice(u,u+l):(a.length<l&&(a=new Uint8ClampedArray(l)),a.set(this.buffer.slice(u,u+l))),a}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(o,a,l,u){return super.crop(o,a,l,u),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(null===this.tempCanvasElement){const o=this.canvas.ownerDocument.createElement("canvas");o.width=this.canvas.width,o.height=this.canvas.height,this.tempCanvasElement=o}return this.tempCanvasElement}rotate(o){const a=this.getTempCanvasElement(),l=a.getContext("2d"),u=o*Qr.DEGREE_TO_RADIANS,d=this.canvas.width,f=this.canvas.height,g=Math.ceil(Math.abs(Math.cos(u))*d+Math.abs(Math.sin(u))*f),m=Math.ceil(Math.abs(Math.sin(u))*d+Math.abs(Math.cos(u))*f);return a.width=g,a.height=m,l.translate(g/2,m/2),l.rotate(u),l.drawImage(this.canvas,d/-2,f/-2),this.buffer=Qr.makeBufferFromCanvasImageData(a),this}invert(){return new Zr(this)}}Qr.DEGREE_TO_RADIANS=Math.PI/180;class oc{constructor(o,a,l){this.deviceId=o,this.label=a,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ke=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__awaiter:void 0)||function(w,o,a,l){return new(a||(a=Promise))(function(d,f){function g(E){try{_(l.next(E))}catch(x){f(x)}}function m(E){try{_(l.throw(E))}catch(x){f(x)}}function _(E){E.done?d(E.value):function u(d){return d instanceof a?d:new a(function(f){f(d)})}(E.value).then(g,m)}_((l=l.apply(w,o||[])).next())})};class Jr{constructor(o,a=500,l){this.reader=o,this.timeBetweenScansMillis=a,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return"undefined"!=typeof navigator}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(o){this._timeBetweenDecodingAttempts=o<0?0:o}set hints(o){this._hints=o||null}get hints(){return this._hints}listVideoInputDevices(){return ke(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const o=yield navigator.mediaDevices.enumerateDevices(),a=[];for(const l of o){const u="video"===l.kind?"videoinput":l.kind;"videoinput"===u&&a.push({deviceId:l.deviceId||l.id,label:l.label||`Video device ${a.length+1}`,kind:u,groupId:l.groupId})}return a})}getVideoInputDevices(){return ke(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(a=>new oc(a.deviceId,a.label))})}findDeviceById(o){return ke(this,void 0,void 0,function*(){const a=yield this.listVideoInputDevices();return a?a.find(l=>l.deviceId===o):null})}decodeFromInputVideoDevice(o,a){return ke(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(o,a)})}decodeOnceFromVideoDevice(o,a){return ke(this,void 0,void 0,function*(){let l;this.reset(),l=o?{deviceId:{exact:o}}:{facingMode:"environment"};const u={video:l};return yield this.decodeOnceFromConstraints(u,a)})}decodeOnceFromConstraints(o,a){return ke(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeOnceFromStream(l,a)})}decodeOnceFromStream(o,a){return ke(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(o,a);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(o,a,l){return ke(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(o,a,l)})}decodeFromVideoDevice(o,a,l){return ke(this,void 0,void 0,function*(){let u;u=o?{deviceId:{exact:o}}:{facingMode:"environment"};const d={video:u};return yield this.decodeFromConstraints(d,a,l)})}decodeFromConstraints(o,a,l){return ke(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeFromStream(u,a,l)})}decodeFromStream(o,a,l){return ke(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(o,a);return yield this.decodeContinuously(u,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(o,a){return ke(this,void 0,void 0,function*(){const l=this.prepareVideoElement(a);return this.addVideoSource(l,o),this.videoElement=l,this.stream=o,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(o){return new Promise((a,l)=>this.playVideoOnLoad(o,()=>a()))}playVideoOnLoad(o,a){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(o),o.addEventListener("ended",this.videoEndedListener),o.addEventListener("canplay",this.videoCanPlayListener),o.addEventListener("playing",a),this.tryPlayVideo(o)}isVideoPlaying(o){return o.currentTime>0&&!o.paused&&!o.ended&&o.readyState>2}tryPlayVideo(o){return ke(this,void 0,void 0,function*(){if(this.isVideoPlaying(o))console.warn("Trying to play video that is already playing.");else try{yield o.play()}catch(a){console.warn("It was not possible to play the video.")}})}getMediaElement(o,a){const l=document.getElementById(o);if(!l)throw new Mn(`element with id '${o}' not found`);if(l.nodeName.toLowerCase()!==a.toLowerCase())throw new Mn(`element with id '${o}' must be an ${a} element`);return l}decodeFromImage(o,a){if(!o&&!a)throw new Mn("either imageElement with a src set or an url must be provided");return a&&!o?this.decodeFromImageUrl(a):this.decodeFromImageElement(o)}decodeFromVideo(o,a){if(!o&&!a)throw new Mn("Either an element with a src set or an URL must be provided");return a&&!o?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(o)}decodeFromVideoContinuously(o,a,l){if(void 0===o&&void 0===a)throw new Mn("Either an element with a src set or an URL must be provided");return a&&!o?this.decodeFromVideoUrlContinuously(a,l):this.decodeFromVideoElementContinuously(o,l)}decodeFromImageElement(o){if(!o)throw new Mn("An image element must be provided.");this.reset();const a=this.prepareImageElement(o);let l;return this.imageElement=a,l=this.isImageLoaded(a)?this.decodeOnce(a,!1,!0):this._decodeOnLoadImage(a),l}decodeFromVideoElement(o){const a=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideo(a)}decodeFromVideoElementContinuously(o,a){const l=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideoContinuously(l,a)}_decodeFromVideoElementSetup(o){if(!o)throw new Mn("A video element must be provided.");this.reset();const a=this.prepareVideoElement(o);return this.videoElement=a,a}decodeFromImageUrl(o){if(!o)throw new Mn("An URL must be provided.");this.reset();const a=this.prepareImageElement();this.imageElement=a;const l=this._decodeOnLoadImage(a);return a.src=o,l}decodeFromVideoUrl(o){if(!o)throw new Mn("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),l=this.decodeFromVideoElement(a);return a.src=o,l}decodeFromVideoUrlContinuously(o,a){if(!o)throw new Mn("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(l,a);return l.src=o,u}_decodeOnLoadImage(o){return new Promise((a,l)=>{this.imageLoadedListener=()=>this.decodeOnce(o,!1,!0).then(a,l),o.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(o){return ke(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(o),yield this.decodeOnce(o)})}_decodeOnLoadVideoContinuously(o,a){return ke(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(o),this.decodeContinuously(o,a)})}isImageLoaded(o){return!(!o.complete||0===o.naturalWidth)}prepareImageElement(o){let a;return void 0===o&&(a=document.createElement("img"),a.width=200,a.height=200),"string"==typeof o&&(a=this.getMediaElement(o,"img")),o instanceof HTMLImageElement&&(a=o),a}prepareVideoElement(o){let a;return!o&&"undefined"!=typeof document&&(a=document.createElement("video"),a.width=200,a.height=200),"string"==typeof o&&(a=this.getMediaElement(o,"video")),o instanceof HTMLVideoElement&&(a=o),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a}decodeOnce(o,a=!0,l=!0){this._stopAsyncDecode=!1;const u=(d,f)=>{if(this._stopAsyncDecode)return f(new W("Video stream has ended before any code could be detected.")),void(this._stopAsyncDecode=void 0);try{d(this.decode(o))}catch(g){const E=(g instanceof St||g instanceof J)&&l;if(a&&g instanceof W||E)return setTimeout(u,this._timeBetweenDecodingAttempts,d,f);f(g)}};return new Promise((d,f)=>u(d,f))}decodeContinuously(o,a){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode)this._stopContinuousDecode=void 0;else try{const u=this.decode(o);a(u,null),setTimeout(l,this.timeBetweenScansMillis)}catch(u){a(null,u);const f=u instanceof W;(u instanceof St||u instanceof J||f)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(o){const a=this.createBinaryBitmap(o);return this.decodeBitmap(a)}createBinaryBitmap(o){const a=this.getCaptureCanvasContext(o);this.drawImageOnCanvas(a,o);const l=this.getCaptureCanvas(o),u=new Qr(l),d=new ae(u);return new Gn(d)}getCaptureCanvasContext(o){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(o).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(o){if(!this.captureCanvas){const a=this.createCaptureCanvas(o);this.captureCanvas=a}return this.captureCanvas}drawImageOnCanvas(o,a){o.drawImage(a,0,0)}decodeBitmap(o){return this.reader.decode(o,this._hints)}createCaptureCanvas(o){if("undefined"==typeof document)return this._destroyCaptureCanvas(),null;const a=document.createElement("canvas");let l,u;return void 0!==o&&(o instanceof HTMLVideoElement?(l=o.videoWidth,u=o.videoHeight):o instanceof HTMLImageElement&&(l=o.naturalWidth||o.width,u=o.naturalHeight||o.height)),a.style.width=l+"px",a.style.height=u+"px",a.width=l,a.height=u,a}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(o=>o.stop()),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){!this.videoElement||(void 0!==this.videoEndedListener&&this.videoElement.removeEventListener("ended",this.videoEndedListener),void 0!==this.videoPlayingEventListener&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),void 0!==this.videoCanPlayListener&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){!this.imageElement||(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(o,a){try{o.srcObject=a}catch(l){o.src=URL.createObjectURL(a)}}cleanVideoSource(o){try{o.srcObject=null}catch(a){o.src=""}this.videoElement.removeAttribute("src")}}class cn{constructor(o,a,l=(null==a?0:8*a.length),u,d,f=tt.currentTimeMillis()){this.text=o,this.rawBytes=a,this.numBits=l,this.resultPoints=u,this.format=d,this.timestamp=f,this.text=o,this.rawBytes=a,this.numBits=null==l?null==a?0:8*a.length:l,this.resultPoints=u,this.format=d,this.resultMetadata=null,this.timestamp=null==f?tt.currentTimeMillis():f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(o,a){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(o,a)}putAllMetadata(o){null!==o&&(this.resultMetadata=null===this.resultMetadata?o:new Map(o))}addResultPoints(o){const a=this.resultPoints;if(null===a)this.resultPoints=o;else if(null!==o&&o.length>0){const l=new Array(a.length+o.length);tt.arraycopy(a,0,l,0,a.length),tt.arraycopy(o,0,l,a.length,o.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var bt=(()=>{return(w=bt||(bt={}))[w.AZTEC=0]="AZTEC",w[w.CODABAR=1]="CODABAR",w[w.CODE_39=2]="CODE_39",w[w.CODE_93=3]="CODE_93",w[w.CODE_128=4]="CODE_128",w[w.DATA_MATRIX=5]="DATA_MATRIX",w[w.EAN_8=6]="EAN_8",w[w.EAN_13=7]="EAN_13",w[w.ITF=8]="ITF",w[w.MAXICODE=9]="MAXICODE",w[w.PDF_417=10]="PDF_417",w[w.QR_CODE=11]="QR_CODE",w[w.RSS_14=12]="RSS_14",w[w.RSS_EXPANDED=13]="RSS_EXPANDED",w[w.UPC_A=14]="UPC_A",w[w.UPC_E=15]="UPC_E",w[w.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",bt;var w})(),ne=bt,Fe=(()=>{return(w=Fe||(Fe={}))[w.OTHER=0]="OTHER",w[w.ORIENTATION=1]="ORIENTATION",w[w.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",w[w.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",w[w.ISSUE_NUMBER=4]="ISSUE_NUMBER",w[w.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",w[w.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",w[w.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",w[w.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",w[w.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",w[w.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY",Fe;var w})(),Ot=Fe;class ro{constructor(o,a,l,u,d=-1,f=-1){this.rawBytes=o,this.text=a,this.byteSegments=l,this.ecLevel=u,this.structuredAppendSequenceNumber=d,this.structuredAppendParity=f,this.numBits=null==o?0:8*o.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(o){this.numBits=o}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(o){this.errorsCorrected=o}getErasures(){return this.erasures}setErasures(o){this.erasures=o}getOther(){return this.other}setOther(o){this.other=o}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Zi{exp(o){return this.expTable[o]}log(o){if(0===o)throw new he;return this.logTable[o]}static addOrSubtract(o,a){return o^a}}class Rn{constructor(o,a){if(0===a.length)throw new he;this.field=o;const l=a.length;if(l>1&&0===a[0]){let u=1;for(;u<l&&0===a[u];)u++;u===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-u),tt.arraycopy(a,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(0===o)return this.getCoefficient(0);const a=this.coefficients;let l;if(1===o){l=0;for(let f=0,g=a.length;f!==g;f++)l=Zi.addOrSubtract(l,a[f]);return l}l=a[0];const u=a.length,d=this.field;for(let f=1;f<u;f++)l=Zi.addOrSubtract(d.multiply(o,l),a[f]);return l}addOrSubtract(o){if(!this.field.equals(o.field))throw new he("GenericGFPolys do not have same GenericGF field");if(this.isZero())return o;if(o.isZero())return this;let a=this.coefficients,l=o.coefficients;if(a.length>l.length){const f=a;a=l,l=f}let u=new Int32Array(l.length);const d=l.length-a.length;tt.arraycopy(l,0,u,0,d);for(let f=d;f<l.length;f++)u[f]=Zi.addOrSubtract(a[f-d],l[f]);return new Rn(this.field,u)}multiply(o){if(!this.field.equals(o.field))throw new he("GenericGFPolys do not have same GenericGF field");if(this.isZero()||o.isZero())return this.field.getZero();const a=this.coefficients,l=a.length,u=o.coefficients,d=u.length,f=new Int32Array(l+d-1),g=this.field;for(let m=0;m<l;m++){const _=a[m];for(let E=0;E<d;E++)f[m+E]=Zi.addOrSubtract(f[m+E],g.multiply(_,u[E]))}return new Rn(g,f)}multiplyScalar(o){if(0===o)return this.field.getZero();if(1===o)return this;const a=this.coefficients.length,l=this.field,u=new Int32Array(a),d=this.coefficients;for(let f=0;f<a;f++)u[f]=l.multiply(d[f],o);return new Rn(l,u)}multiplyByMonomial(o,a){if(o<0)throw new he;if(0===a)return this.field.getZero();const l=this.coefficients,u=l.length,d=new Int32Array(u+o),f=this.field;for(let g=0;g<u;g++)d[g]=f.multiply(l[g],a);return new Rn(f,d)}divide(o){if(!this.field.equals(o.field))throw new he("GenericGFPolys do not have same GenericGF field");if(o.isZero())throw new he("Divide by 0");const a=this.field;let l=a.getZero(),u=this;const d=o.getCoefficient(o.getDegree()),f=a.inverse(d);for(;u.getDegree()>=o.getDegree()&&!u.isZero();){const g=u.getDegree()-o.getDegree(),m=a.multiply(u.getCoefficient(u.getDegree()),f),_=o.multiplyByMonomial(g,m),E=a.buildMonomial(g,m);l=l.addOrSubtract(E),u=u.addOrSubtract(_)}return[l,u]}toString(){let o="";for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);if(0!==l){if(l<0?(o+=" - ",l=-l):o.length>0&&(o+=" + "),0===a||1!==l){const u=this.field.log(l);0===u?o+="1":1===u?o+="a":(o+="a^",o+=u)}0!==a&&(1===a?o+="x":(o+="x^",o+=a))}}return o}}let ac=(()=>{class w extends an{}return w.kind="ArithmeticException",w})();class st extends Zi{constructor(o,a,l){super(),this.primitive=o,this.size=a,this.generatorBase=l;const u=new Int32Array(a);let d=1;for(let g=0;g<a;g++)u[g]=d,d*=2,d>=a&&(d^=o,d&=a-1);this.expTable=u;const f=new Int32Array(a);for(let g=0;g<a-1;g++)f[u[g]]=g;this.logTable=f,this.zero=new Rn(this,Int32Array.from([0])),this.one=new Rn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,a){if(o<0)throw new he;if(0===a)return this.zero;const l=new Int32Array(o+1);return l[0]=a,new Rn(this,l)}inverse(o){if(0===o)throw new ac;return this.expTable[this.size-this.logTable[o]-1]}multiply(o,a){return 0===o||0===a?0:this.expTable[(this.logTable[o]+this.logTable[a])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+Oe.toHexString(this.primitive)+","+this.size+")"}equals(o){return o===this}}st.AZTEC_DATA_12=new st(4201,4096,1),st.AZTEC_DATA_10=new st(1033,1024,1),st.AZTEC_DATA_6=new st(67,64,1),st.AZTEC_PARAM=new st(19,16,1),st.QR_CODE_FIELD_256=new st(285,256,0),st.DATA_MATRIX_FIELD_256=new st(301,256,1),st.AZTEC_DATA_8=st.DATA_MATRIX_FIELD_256,st.MAXICODE_FIELD_64=st.AZTEC_DATA_6;let io=(()=>{class w extends an{}return w.kind="ReedSolomonException",w})(),Fr=(()=>{class w extends an{}return w.kind="IllegalStateException",w})();class so{constructor(o){this.field=o}decode(o,a){const l=this.field,u=new Rn(l,o),d=new Int32Array(a);let f=!0;for(let T=0;T<a;T++){const R=u.evaluateAt(l.exp(T+l.getGeneratorBase()));d[d.length-1-T]=R,0!==R&&(f=!1)}if(f)return;const g=new Rn(l,d),m=this.runEuclideanAlgorithm(l.buildMonomial(a,1),g,a),E=m[1],x=this.findErrorLocations(m[0]),D=this.findErrorMagnitudes(E,x);for(let T=0;T<x.length;T++){const R=o.length-1-l.log(x[T]);if(R<0)throw new io("Bad error location");o[R]=st.addOrSubtract(o[R],D[T])}}runEuclideanAlgorithm(o,a,l){if(o.getDegree()<a.getDegree()){const T=o;o=a,a=T}const u=this.field;let d=o,f=a,g=u.getZero(),m=u.getOne();for(;f.getDegree()>=(l/2|0);){let T=d,R=g;if(d=f,g=m,d.isZero())throw new io("r_{i-1} was zero");f=T;let N=u.getZero();const P=d.getCoefficient(d.getDegree()),B=u.inverse(P);for(;f.getDegree()>=d.getDegree()&&!f.isZero();){const X=f.getDegree()-d.getDegree(),te=u.multiply(f.getCoefficient(f.getDegree()),B);N=N.addOrSubtract(u.buildMonomial(X,te)),f=f.addOrSubtract(d.multiplyByMonomial(X,te))}if(m=N.multiply(g).addOrSubtract(R),f.getDegree()>=d.getDegree())throw new Fr("Division algorithm failed to reduce polynomial?")}const _=m.getCoefficient(0);if(0===_)throw new io("sigmaTilde(0) was zero");const E=u.inverse(_);return[m.multiplyScalar(E),f.multiplyScalar(E)]}findErrorLocations(o){const a=o.getDegree();if(1===a)return Int32Array.from([o.getCoefficient(1)]);const l=new Int32Array(a);let u=0;const d=this.field;for(let f=1;f<d.getSize()&&u<a;f++)0===o.evaluateAt(f)&&(l[u]=d.inverse(f),u++);if(u!==a)throw new io("Error locator degree does not match number of roots");return l}findErrorMagnitudes(o,a){const l=a.length,u=new Int32Array(l),d=this.field;for(let f=0;f<l;f++){const g=d.inverse(a[f]);let m=1;for(let _=0;_<l;_++)if(f!==_){const E=d.multiply(a[_],g);m=d.multiply(m,0==(1&E)?1|E:-2&E)}u[f]=d.multiply(o.evaluateAt(g),d.inverse(m)),0!==d.getGeneratorBase()&&(u[f]=d.multiply(u[f],g))}return u}}var Ut=(()=>{return(w=Ut||(Ut={}))[w.UPPER=0]="UPPER",w[w.LOWER=1]="LOWER",w[w.MIXED=2]="MIXED",w[w.DIGIT=3]="DIGIT",w[w.PUNCT=4]="PUNCT",w[w.BINARY=5]="BINARY",Ut;var w})();let lc=(()=>{class w{decode(a){this.ddata=a;let l=a.getBits(),u=this.extractBits(l),d=this.correctBits(u),f=w.convertBoolArrayToByteArray(d),g=w.getEncodedData(d),m=new ro(f,g,null,null);return m.setNumBits(d.length),m}static highLevelDecode(a){return this.getEncodedData(a)}static getEncodedData(a){let l=a.length,u=Ut.UPPER,d=Ut.UPPER,f="",g=0;for(;g<l;)if(d===Ut.BINARY){if(l-g<5)break;let m=w.readCode(a,g,5);if(g+=5,0===m){if(l-g<11)break;m=w.readCode(a,g,11)+31,g+=11}for(let _=0;_<m;_++){if(l-g<8){g=l;break}const E=w.readCode(a,g,8);f+=Se.castAsNonUtf8Char(E),g+=8}d=u}else{let m=d===Ut.DIGIT?4:5;if(l-g<m)break;let _=w.readCode(a,g,m);g+=m;let E=w.getCharacter(d,_);E.startsWith("CTRL_")?(u=d,d=w.getTable(E.charAt(5)),"L"===E.charAt(6)&&(u=d)):(f+=E,d=u)}return f}static getTable(a){switch(a){case"L":return Ut.LOWER;case"P":return Ut.PUNCT;case"M":return Ut.MIXED;case"D":return Ut.DIGIT;case"B":return Ut.BINARY;default:return Ut.UPPER}}static getCharacter(a,l){switch(a){case Ut.UPPER:return w.UPPER_TABLE[l];case Ut.LOWER:return w.LOWER_TABLE[l];case Ut.MIXED:return w.MIXED_TABLE[l];case Ut.PUNCT:return w.PUNCT_TABLE[l];case Ut.DIGIT:return w.DIGIT_TABLE[l];default:throw new Fr("Bad table")}}correctBits(a){let l,u;this.ddata.getNbLayers()<=2?(u=6,l=st.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(u=8,l=st.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(u=10,l=st.AZTEC_DATA_10):(u=12,l=st.AZTEC_DATA_12);let d=this.ddata.getNbDatablocks(),f=a.length/u;if(f<d)throw new J;let g=a.length%u,m=new Int32Array(f);for(let T=0;T<f;T++,g+=u)m[T]=w.readCode(a,g,u);try{new so(l).decode(m,f-d)}catch(T){throw new J(T)}let _=(1<<u)-1,E=0;for(let T=0;T<d;T++){let R=m[T];if(0===R||R===_)throw new J;(1===R||R===_-1)&&E++}let x=new Array(d*u-E),D=0;for(let T=0;T<d;T++){let R=m[T];if(1===R||R===_-1)x.fill(R>1,D,D+u-1),D+=u-1;else for(let N=u-1;N>=0;--N)x[D++]=0!=(R&1<<N)}return x}extractBits(a){let l=this.ddata.isCompact(),u=this.ddata.getNbLayers(),d=(l?11:14)+4*u,f=new Int32Array(d),g=new Array(this.totalBitsInLayer(u,l));if(l)for(let m=0;m<f.length;m++)f[m]=m;else{let m=d+1+2*Oe.truncDivision(Oe.truncDivision(d,2)-1,15),_=d/2,E=Oe.truncDivision(m,2);for(let x=0;x<_;x++){let D=x+Oe.truncDivision(x,15);f[_-x-1]=E-D-1,f[_+x]=E+D+1}}for(let m=0,_=0;m<u;m++){let E=4*(u-m)+(l?9:12),x=2*m,D=d-1-x;for(let T=0;T<E;T++){let R=2*T;for(let N=0;N<2;N++)g[_+R+N]=a.get(f[x+N],f[x+T]),g[_+2*E+R+N]=a.get(f[x+T],f[D-N]),g[_+4*E+R+N]=a.get(f[D-N],f[D-T]),g[_+6*E+R+N]=a.get(f[D-T],f[x+N])}_+=8*E}return g}static readCode(a,l,u){let d=0;for(let f=l;f<l+u;f++)d<<=1,a[f]&&(d|=1);return d}static readByte(a,l){let u=a.length-l;return u>=8?w.readCode(a,l,8):w.readCode(a,l,u)<<8-u}static convertBoolArrayToByteArray(a){let l=new Uint8Array((a.length+7)/8);for(let u=0;u<l.length;u++)l[u]=w.readByte(a,8*u);return l}totalBitsInLayer(a,l){return((l?88:112)+16*a)*a}}return w.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],w.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],w.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","\t","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],w.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],w.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],w})();class Ye{constructor(){}static round(o){return NaN===o?0:o<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:o>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:o+(o<0?-.5:.5)|0}static distance(o,a,l,u){const d=o-l,f=a-u;return Math.sqrt(d*d+f*f)}static sum(o){let a=0;for(let l=0,u=o.length;l!==u;l++)a+=o[l];return a}}class oo{static floatToIntBits(o){return o}}oo.MAX_VALUE=Number.MAX_SAFE_INTEGER;class fe{constructor(o,a){this.x=o,this.y=a}getX(){return this.x}getY(){return this.y}equals(o){if(o instanceof fe){const a=o;return this.x===a.x&&this.y===a.y}return!1}hashCode(){return 31*oo.floatToIntBits(this.x)+oo.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(o){const a=this.distance(o[0],o[1]),l=this.distance(o[1],o[2]),u=this.distance(o[0],o[2]);let d,f,g;if(l>=a&&l>=u?(f=o[0],d=o[1],g=o[2]):u>=l&&u>=a?(f=o[1],d=o[0],g=o[2]):(f=o[2],d=o[0],g=o[1]),this.crossProductZ(d,f,g)<0){const m=d;d=g,g=m}o[0]=d,o[1]=f,o[2]=g}static distance(o,a){return Ye.distance(o.x,o.y,a.x,a.y)}static crossProductZ(o,a,l){const u=a.x,d=a.y;return(l.x-u)*(o.y-d)-(l.y-d)*(o.x-u)}}class Ra{constructor(o,a){this.bits=o,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class Ld extends Ra{constructor(o,a,l,u,d){super(o,a),this.compact=l,this.nbDatablocks=u,this.nbLayers=d}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}let gr=(()=>{class w{constructor(a,l,u,d){this.image=a,this.height=a.getHeight(),this.width=a.getWidth(),null==l&&(l=w.INIT_SIZE),null==u&&(u=a.getWidth()/2|0),null==d&&(d=a.getHeight()/2|0);const f=l/2|0;if(this.leftInit=u-f,this.rightInit=u+f,this.upInit=d-f,this.downInit=d+f,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new W}detect(){let a=this.leftInit,l=this.rightInit,u=this.upInit,d=this.downInit,f=!1,g=!0,m=!1,_=!1,E=!1,x=!1,D=!1;const T=this.width,R=this.height;for(;g;){g=!1;let N=!0;for(;(N||!_)&&l<T;)N=this.containsBlackPoint(u,d,l,!1),N?(l++,g=!0,_=!0):_||l++;if(l>=T){f=!0;break}let P=!0;for(;(P||!E)&&d<R;)P=this.containsBlackPoint(a,l,d,!0),P?(d++,g=!0,E=!0):E||d++;if(d>=R){f=!0;break}let B=!0;for(;(B||!x)&&a>=0;)B=this.containsBlackPoint(u,d,a,!1),B?(a--,g=!0,x=!0):x||a--;if(a<0){f=!0;break}let X=!0;for(;(X||!D)&&u>=0;)X=this.containsBlackPoint(a,l,u,!0),X?(u--,g=!0,D=!0):D||u--;if(u<0){f=!0;break}g&&(m=!0)}if(!f&&m){const N=l-a;let P=null;for(let H=1;null===P&&H<N;H++)P=this.getBlackPointOnSegment(a,d-H,a+H,d);if(null==P)throw new W;let B=null;for(let H=1;null===B&&H<N;H++)B=this.getBlackPointOnSegment(a,u+H,a+H,u);if(null==B)throw new W;let X=null;for(let H=1;null===X&&H<N;H++)X=this.getBlackPointOnSegment(l,u+H,l-H,u);if(null==X)throw new W;let te=null;for(let H=1;null===te&&H<N;H++)te=this.getBlackPointOnSegment(l,d-H,l-H,d);if(null==te)throw new W;return this.centerEdges(te,P,X,B)}throw new W}getBlackPointOnSegment(a,l,u,d){const f=Ye.round(Ye.distance(a,l,u,d)),g=(u-a)/f,m=(d-l)/f,_=this.image;for(let E=0;E<f;E++){const x=Ye.round(a+E*g),D=Ye.round(l+E*m);if(_.get(x,D))return new fe(x,D)}return null}centerEdges(a,l,u,d){const f=a.getX(),g=a.getY(),m=l.getX(),_=l.getY(),E=u.getX(),x=u.getY(),D=d.getX(),T=d.getY(),R=w.CORR;return f<this.width/2?[new fe(D-R,T+R),new fe(m+R,_+R),new fe(E-R,x-R),new fe(f+R,g-R)]:[new fe(D+R,T+R),new fe(m+R,_-R),new fe(E-R,x+R),new fe(f-R,g-R)]}containsBlackPoint(a,l,u,d){const f=this.image;if(d){for(let g=a;g<=l;g++)if(f.get(g,u))return!0}else for(let g=a;g<=l;g++)if(f.get(u,g))return!0;return!1}}return w.INIT_SIZE=10,w.CORR=1,w})();class Na{static checkAndNudgePoints(o,a){const l=o.getWidth(),u=o.getHeight();let d=!0;for(let f=0;f<a.length&&d;f+=2){const g=Math.floor(a[f]),m=Math.floor(a[f+1]);if(g<-1||g>l||m<-1||m>u)throw new W;d=!1,-1===g?(a[f]=0,d=!0):g===l&&(a[f]=l-1,d=!0),-1===m?(a[f+1]=0,d=!0):m===u&&(a[f+1]=u-1,d=!0)}d=!0;for(let f=a.length-2;f>=0&&d;f-=2){const g=Math.floor(a[f]),m=Math.floor(a[f+1]);if(g<-1||g>l||m<-1||m>u)throw new W;d=!1,-1===g?(a[f]=0,d=!0):g===l&&(a[f]=l-1,d=!0),-1===m?(a[f+1]=0,d=!0):m===u&&(a[f+1]=u-1,d=!0)}}}class mr{constructor(o,a,l,u,d,f,g,m,_){this.a11=o,this.a21=a,this.a31=l,this.a12=u,this.a22=d,this.a32=f,this.a13=g,this.a23=m,this.a33=_}static quadrilateralToQuadrilateral(o,a,l,u,d,f,g,m,_,E,x,D,T,R,N,P){const B=mr.quadrilateralToSquare(o,a,l,u,d,f,g,m);return mr.squareToQuadrilateral(_,E,x,D,T,R,N,P).times(B)}transformPoints(o){const a=o.length,l=this.a11,u=this.a12,d=this.a13,f=this.a21,g=this.a22,m=this.a23,_=this.a31,E=this.a32,x=this.a33;for(let D=0;D<a;D+=2){const T=o[D],R=o[D+1],N=d*T+m*R+x;o[D]=(l*T+f*R+_)/N,o[D+1]=(u*T+g*R+E)/N}}transformPointsWithValues(o,a){const l=this.a11,u=this.a12,d=this.a13,f=this.a21,g=this.a22,m=this.a23,_=this.a31,E=this.a32,x=this.a33,D=o.length;for(let T=0;T<D;T++){const R=o[T],N=a[T],P=d*R+m*N+x;o[T]=(l*R+f*N+_)/P,a[T]=(u*R+g*N+E)/P}}static squareToQuadrilateral(o,a,l,u,d,f,g,m){const _=o-l+d-g,E=a-u+f-m;if(0===_&&0===E)return new mr(l-o,d-l,o,u-a,f-u,a,0,0,1);{const x=l-d,D=g-d,T=u-f,R=m-f,N=x*R-D*T,P=(_*R-D*E)/N,B=(x*E-_*T)/N;return new mr(l-o+P*l,g-o+B*g,o,u-a+P*u,m-a+B*m,a,P,B,1)}}static quadrilateralToSquare(o,a,l,u,d,f,g,m){return mr.squareToQuadrilateral(o,a,l,u,d,f,g,m).buildAdjoint()}buildAdjoint(){return new mr(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(o){return new mr(this.a11*o.a11+this.a21*o.a12+this.a31*o.a13,this.a11*o.a21+this.a21*o.a22+this.a31*o.a23,this.a11*o.a31+this.a21*o.a32+this.a31*o.a33,this.a12*o.a11+this.a22*o.a12+this.a32*o.a13,this.a12*o.a21+this.a22*o.a22+this.a32*o.a23,this.a12*o.a31+this.a22*o.a32+this.a32*o.a33,this.a13*o.a11+this.a23*o.a12+this.a33*o.a13,this.a13*o.a21+this.a23*o.a22+this.a33*o.a23,this.a13*o.a31+this.a23*o.a32+this.a33*o.a33)}}class cc extends Na{sampleGrid(o,a,l,u,d,f,g,m,_,E,x,D,T,R,N,P,B,X,te){const H=mr.quadrilateralToQuadrilateral(u,d,f,g,m,_,E,x,D,T,R,N,P,B,X,te);return this.sampleGridWithTransform(o,a,l,H)}sampleGridWithTransform(o,a,l,u){if(a<=0||l<=0)throw new W;const d=new wt(a,l),f=new Float32Array(2*a);for(let g=0;g<l;g++){const m=f.length,_=g+.5;for(let E=0;E<m;E+=2)f[E]=E/2+.5,f[E+1]=_;u.transformPoints(f),Na.checkAndNudgePoints(o,f);try{for(let E=0;E<m;E+=2)o.get(Math.floor(f[E]),Math.floor(f[E+1]))&&d.set(E/2,g)}catch(E){throw new W}}return d}}class Di{static setGridSampler(o){Di.gridSampler=o}static getInstance(){return Di.gridSampler}}Di.gridSampler=new cc;class gn{constructor(o,a){this.x=o,this.y=a}toResultPoint(){return new fe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Bd{constructor(o){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=o}detect(){return this.detectMirror(!1)}detectMirror(o){let a=this.getMatrixCenter(),l=this.getBullsEyeCorners(a);if(o){let f=l[0];l[0]=l[2],l[2]=f}this.extractParameters(l);let u=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),d=this.getMatrixCornerPoints(l);return new Ld(u,d,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(o){if(!(this.isValidPoint(o[0])&&this.isValidPoint(o[1])&&this.isValidPoint(o[2])&&this.isValidPoint(o[3])))throw new W;let a=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(o[0],o[1],a),this.sampleLine(o[1],o[2],a),this.sampleLine(o[2],o[3],a),this.sampleLine(o[3],o[0],a)]);this.shift=this.getRotation(l,a);let u=0;for(let f=0;f<4;f++){let g=l[(this.shift+f)%4];this.compact?(u<<=7,u+=g>>1&127):(u<<=10,u+=(g>>2&992)+(g>>1&31))}let d=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=1+(d>>6),this.nbDataBlocks=1+(63&d)):(this.nbLayers=1+(d>>11),this.nbDataBlocks=1+(2047&d))}getRotation(o,a){let l=0;o.forEach((u,d,f)=>{l=(u>>a-2<<1)+(1&u)+(l<<3)}),l=((1&l)<<11)+(l>>1);for(let u=0;u<4;u++)if(Oe.bitCount(l^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new W}getCorrectedParameterData(o,a){let l,u;a?(l=7,u=2):(l=10,u=4);let d=l-u,f=new Int32Array(l);for(let m=l-1;m>=0;--m)f[m]=15&o,o>>=4;try{new so(st.AZTEC_PARAM).decode(f,d)}catch(m){throw new W}let g=0;for(let m=0;m<u;m++)g=(g<<4)+f[m];return g}getBullsEyeCorners(o){let a=o,l=o,u=o,d=o,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let x=this.getFirstDifferent(a,f,1,-1),D=this.getFirstDifferent(l,f,1,1),T=this.getFirstDifferent(u,f,-1,1),R=this.getFirstDifferent(d,f,-1,-1);if(this.nbCenterLayers>2){let N=this.distancePoint(R,x)*this.nbCenterLayers/(this.distancePoint(d,a)*(this.nbCenterLayers+2));if(N<.75||N>1.25||!this.isWhiteOrBlackRectangle(x,D,T,R))break}a=x,l=D,u=T,d=R,f=!f}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new W;this.compact=5===this.nbCenterLayers;let g=new fe(a.getX()+.5,a.getY()-.5),m=new fe(l.getX()+.5,l.getY()+.5),_=new fe(u.getX()-.5,u.getY()+.5),E=new fe(d.getX()-.5,d.getY()-.5);return this.expandSquare([g,m,_,E],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let o,a,l,u;try{let g=new gr(this.image).detect();o=g[0],a=g[1],l=g[2],u=g[3]}catch(g){let m=this.image.getWidth()/2,_=this.image.getHeight()/2;o=this.getFirstDifferent(new gn(m+7,_-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new gn(m+7,_+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new gn(m-7,_+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new gn(m-7,_-7),!1,-1,-1).toResultPoint()}let d=Ye.round((o.getX()+u.getX()+a.getX()+l.getX())/4),f=Ye.round((o.getY()+u.getY()+a.getY()+l.getY())/4);try{let g=new gr(this.image,15,d,f).detect();o=g[0],a=g[1],l=g[2],u=g[3]}catch(g){o=this.getFirstDifferent(new gn(d+7,f-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new gn(d+7,f+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new gn(d-7,f+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new gn(d-7,f-7),!1,-1,-1).toResultPoint()}return d=Ye.round((o.getX()+u.getX()+a.getX()+l.getX())/4),f=Ye.round((o.getY()+u.getY()+a.getY()+l.getY())/4),new gn(d,f)}getMatrixCornerPoints(o){return this.expandSquare(o,2*this.nbCenterLayers,this.getDimension())}sampleGrid(o,a,l,u,d){let f=Di.getInstance(),g=this.getDimension(),m=g/2-this.nbCenterLayers,_=g/2+this.nbCenterLayers;return f.sampleGrid(o,g,g,m,m,_,m,_,_,m,_,a.getX(),a.getY(),l.getX(),l.getY(),u.getX(),u.getY(),d.getX(),d.getY())}sampleLine(o,a,l){let u=0,d=this.distanceResultPoint(o,a),f=d/l,g=o.getX(),m=o.getY(),_=f*(a.getX()-o.getX())/d,E=f*(a.getY()-o.getY())/d;for(let x=0;x<l;x++)this.image.get(Ye.round(g+x*_),Ye.round(m+x*E))&&(u|=1<<l-x-1);return u}isWhiteOrBlackRectangle(o,a,l,u){o=new gn(o.getX()-3,o.getY()+3),a=new gn(a.getX()-3,a.getY()-3),l=new gn(l.getX()+3,l.getY()-3),u=new gn(u.getX()+3,u.getY()+3);let f=this.getColor(u,o);if(0===f)return!1;let g=this.getColor(o,a);return g===f&&(g=this.getColor(a,l),g===f)&&(g=this.getColor(l,u),g===f)}getColor(o,a){let l=this.distancePoint(o,a),u=(a.getX()-o.getX())/l,d=(a.getY()-o.getY())/l,f=0,g=o.getX(),m=o.getY(),_=this.image.get(o.getX(),o.getY()),E=Math.ceil(l);for(let D=0;D<E;D++)g+=u,m+=d,this.image.get(Ye.round(g),Ye.round(m))!==_&&f++;let x=f/l;return x>.1&&x<.9?0:x<=.1===_?1:-1}getFirstDifferent(o,a,l,u){let d=o.getX()+l,f=o.getY()+u;for(;this.isValid(d,f)&&this.image.get(d,f)===a;)d+=l,f+=u;for(d-=l,f-=u;this.isValid(d,f)&&this.image.get(d,f)===a;)d+=l;for(d-=l;this.isValid(d,f)&&this.image.get(d,f)===a;)f+=u;return f-=u,new gn(d,f)}expandSquare(o,a,l){let u=l/(2*a),d=o[0].getX()-o[2].getX(),f=o[0].getY()-o[2].getY(),g=(o[0].getX()+o[2].getX())/2,m=(o[0].getY()+o[2].getY())/2,_=new fe(g+u*d,m+u*f),E=new fe(g-u*d,m-u*f);return d=o[1].getX()-o[3].getX(),f=o[1].getY()-o[3].getY(),g=(o[1].getX()+o[3].getX())/2,m=(o[1].getY()+o[3].getY())/2,[_,new fe(g+u*d,m+u*f),E,new fe(g-u*d,m-u*f)]}isValid(o,a){return o>=0&&o<this.image.getWidth()&&a>0&&a<this.image.getHeight()}isValidPoint(o){let a=Ye.round(o.getX()),l=Ye.round(o.getY());return this.isValid(a,l)}distancePoint(o,a){return Ye.distance(o.getX(),o.getY(),a.getX(),a.getY())}distanceResultPoint(o,a){return Ye.distance(o.getX(),o.getY(),a.getX(),a.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Oe.truncDivision(this.nbLayers-4,8)+1)+15}}class Oa{decode(o,a=null){let l=null,u=new Bd(o.getBlackMatrix()),d=null,f=null;try{let E=u.detectMirror(!1);d=E.getPoints(),this.reportFoundResultPoints(a,d),f=(new lc).decode(E)}catch(E){l=E}if(null==f)try{let E=u.detectMirror(!0);d=E.getPoints(),this.reportFoundResultPoints(a,d),f=(new lc).decode(E)}catch(E){throw null!=l?l:E}let g=new cn(f.getText(),f.getRawBytes(),f.getNumBits(),d,ne.AZTEC,tt.currentTimeMillis()),m=f.getByteSegments();null!=m&&g.putMetadata(Ot.BYTE_SEGMENTS,m);let _=f.getECLevel();return null!=_&&g.putMetadata(Ot.ERROR_CORRECTION_LEVEL,_),g}reportFoundResultPoints(o,a){if(null!=o){let l=o.get(xt.NEED_RESULT_POINT_CALLBACK);null!=l&&a.forEach((u,d,f)=>{l.foundPossibleResultPoint(u)})}}reset(){}}class jt{decode(o,a){try{return this.doDecode(o,a)}catch(l){if(a&&!0===a.get(xt.TRY_HARDER)&&o.isRotateSupported()){const d=o.rotateCounterClockwise(),f=this.doDecode(d,a),g=f.getResultMetadata();let m=270;null!==g&&!0===g.get(Ot.ORIENTATION)&&(m+=g.get(Ot.ORIENTATION)%360),f.putMetadata(Ot.ORIENTATION,m);const _=f.getResultPoints();if(null!==_){const E=d.getHeight();for(let x=0;x<_.length;x++)_[x]=new fe(E-_[x].getY()-1,_[x].getX())}return f}throw new W}}reset(){}doDecode(o,a){const l=o.getWidth(),u=o.getHeight();let d=new it(l);const f=a&&!0===a.get(xt.TRY_HARDER),g=Math.max(1,u>>(f?8:5));let m;m=f?u:15;const _=Math.trunc(u/2);for(let E=0;E<m;E++){const x=Math.trunc((E+1)/2),T=_+g*(0==(1&E)?x:-x);if(T<0||T>=u)break;try{d=o.getBlackRow(T,d)}catch(R){continue}for(let R=0;R<2;R++){if(1===R&&(d.reverse(),a&&!0===a.get(xt.NEED_RESULT_POINT_CALLBACK))){const N=new Map;a.forEach((P,B)=>N.set(B,P)),N.delete(xt.NEED_RESULT_POINT_CALLBACK),a=N}try{const N=this.decodeRow(T,d,a);if(1===R){N.putMetadata(Ot.ORIENTATION,180);const P=N.getResultPoints();null!==P&&(P[0]=new fe(l-P[0].getX()-1,P[0].getY()),P[1]=new fe(l-P[1].getX()-1,P[1].getY()))}return N}catch(N){}}}throw new W}static recordPattern(o,a,l){const u=l.length;for(let _=0;_<u;_++)l[_]=0;const d=o.getSize();if(a>=d)throw new W;let f=!o.get(a),g=0,m=a;for(;m<d;){if(o.get(m)!==f)l[g]++;else{if(++g===u)break;l[g]=1,f=!f}m++}if(g!==u&&(g!==u-1||m!==d))throw new W}static recordPatternInReverse(o,a,l){let u=l.length,d=o.get(a);for(;a>0&&u>=0;)o.get(--a)!==d&&(u--,d=!d);if(u>=0)throw new W;jt.recordPattern(o,a+1,l)}static patternMatchVariance(o,a,l){const u=o.length;let d=0,f=0;for(let _=0;_<u;_++)d+=o[_],f+=a[_];if(d<f)return Number.POSITIVE_INFINITY;const g=d/f;l*=g;let m=0;for(let _=0;_<u;_++){const E=o[_],x=a[_]*g,D=E>x?E-x:x-E;if(D>l)return Number.POSITIVE_INFINITY;m+=D}return m/d}}class Q extends jt{static findStartPattern(o){const a=o.getSize(),l=o.getNextSet(0);let u=0,d=Int32Array.from([0,0,0,0,0,0]),f=l,g=!1;for(let _=l;_<a;_++)if(o.get(_)!==g)d[u]++;else{if(5===u){let E=Q.MAX_AVG_VARIANCE,x=-1;for(let D=Q.CODE_START_A;D<=Q.CODE_START_C;D++){const T=jt.patternMatchVariance(d,Q.CODE_PATTERNS[D],Q.MAX_INDIVIDUAL_VARIANCE);T<E&&(E=T,x=D)}if(x>=0&&o.isRange(Math.max(0,f-(_-f)/2),f,!1))return Int32Array.from([f,_,x]);f+=d[0]+d[1],d=d.slice(2,d.length-1),d[u-1]=0,d[u]=0,u--}else u++;d[u]=1,g=!g}throw new W}static decodeCode(o,a,l){jt.recordPattern(o,l,a);let u=Q.MAX_AVG_VARIANCE,d=-1;for(let f=0;f<Q.CODE_PATTERNS.length;f++){const m=this.patternMatchVariance(a,Q.CODE_PATTERNS[f],Q.MAX_INDIVIDUAL_VARIANCE);m<u&&(u=m,d=f)}if(d>=0)return d;throw new W}decodeRow(o,a,l){const u=l&&!0===l.get(xt.ASSUME_GS1),d=Q.findStartPattern(a),f=d[2];let g=0;const m=new Uint8Array(20);let _;switch(m[g++]=f,f){case Q.CODE_START_A:_=Q.CODE_CODE_A;break;case Q.CODE_START_B:_=Q.CODE_CODE_B;break;case Q.CODE_START_C:_=Q.CODE_CODE_C;break;default:throw new J}let E=!1,x=!1,D="",T=d[0],R=d[1];const N=Int32Array.from([0,0,0,0,0,0]);let P=0,B=0,X=f,te=0,H=!0,Ve=!1,Pe=!1;for(;!E;){const Ss=x;switch(x=!1,P=B,B=Q.decodeCode(a,N,R),m[g++]=B,B!==Q.CODE_STOP&&(H=!0),B!==Q.CODE_STOP&&(te++,X+=te*B),T=R,R+=N.reduce((a0,l0)=>a0+l0,0),B){case Q.CODE_START_A:case Q.CODE_START_B:case Q.CODE_START_C:throw new J}switch(_){case Q.CODE_CODE_A:if(B<64)D+=String.fromCharCode(Pe===Ve?" ".charCodeAt(0)+B:" ".charCodeAt(0)+B+128),Pe=!1;else if(B<96)D+=String.fromCharCode(Pe===Ve?B-64:B+64),Pe=!1;else switch(B!==Q.CODE_STOP&&(H=!1),B){case Q.CODE_FNC_1:u&&(D+=0===D.length?"]C1":String.fromCharCode(29));break;case Q.CODE_FNC_2:case Q.CODE_FNC_3:break;case Q.CODE_FNC_4_A:!Ve&&Pe?(Ve=!0,Pe=!1):Ve&&Pe?(Ve=!1,Pe=!1):Pe=!0;break;case Q.CODE_SHIFT:x=!0,_=Q.CODE_CODE_B;break;case Q.CODE_CODE_B:_=Q.CODE_CODE_B;break;case Q.CODE_CODE_C:_=Q.CODE_CODE_C;break;case Q.CODE_STOP:E=!0}break;case Q.CODE_CODE_B:if(B<96)D+=String.fromCharCode(Pe===Ve?" ".charCodeAt(0)+B:" ".charCodeAt(0)+B+128),Pe=!1;else switch(B!==Q.CODE_STOP&&(H=!1),B){case Q.CODE_FNC_1:u&&(D+=0===D.length?"]C1":String.fromCharCode(29));break;case Q.CODE_FNC_2:case Q.CODE_FNC_3:break;case Q.CODE_FNC_4_B:!Ve&&Pe?(Ve=!0,Pe=!1):Ve&&Pe?(Ve=!1,Pe=!1):Pe=!0;break;case Q.CODE_SHIFT:x=!0,_=Q.CODE_CODE_A;break;case Q.CODE_CODE_A:_=Q.CODE_CODE_A;break;case Q.CODE_CODE_C:_=Q.CODE_CODE_C;break;case Q.CODE_STOP:E=!0}break;case Q.CODE_CODE_C:if(B<100)B<10&&(D+="0"),D+=B;else switch(B!==Q.CODE_STOP&&(H=!1),B){case Q.CODE_FNC_1:u&&(D+=0===D.length?"]C1":String.fromCharCode(29));break;case Q.CODE_CODE_A:_=Q.CODE_CODE_A;break;case Q.CODE_CODE_B:_=Q.CODE_CODE_B;break;case Q.CODE_STOP:E=!0}}Ss&&(_=_===Q.CODE_CODE_A?Q.CODE_CODE_B:Q.CODE_CODE_A)}const Ln=R-T;if(R=a.getNextUnset(R),!a.isRange(R,Math.min(a.getSize(),R+(R-T)/2),!1))throw new W;if(X-=te*P,X%103!==P)throw new St;const vr=D.length;if(0===vr)throw new W;vr>0&&H&&(D=D.substring(0,_===Q.CODE_CODE_C?vr-2:vr-1));const Bn=(d[1]+d[0])/2,yt=T+Ln/2,fn=m.length,$n=new Uint8Array(fn);for(let Ss=0;Ss<fn;Ss++)$n[Ss]=m[Ss];const Ds=[new fe(Bn,o),new fe(yt,o)];return new cn(D,$n,0,Ds,ne.CODE_128,(new Date).getTime())}}Q.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Q.MAX_AVG_VARIANCE=.25,Q.MAX_INDIVIDUAL_VARIANCE=.7,Q.CODE_SHIFT=98,Q.CODE_CODE_C=99,Q.CODE_CODE_B=100,Q.CODE_CODE_A=101,Q.CODE_FNC_1=102,Q.CODE_FNC_2=97,Q.CODE_FNC_3=96,Q.CODE_FNC_4_A=101,Q.CODE_FNC_4_B=100,Q.CODE_START_A=103,Q.CODE_START_B=104,Q.CODE_START_C=105,Q.CODE_STOP=106;let ao=(()=>{class w extends jt{constructor(a=!1,l=!1){super(),this.usingCheckDigit=a,this.extendedMode=l,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(a,l,u){let d=this.counters;d.fill(0),this.decodeRowResult="";let _,E,f=w.findAsteriskPattern(l,d),g=l.getNextSet(f[1]),m=l.getSize();do{w.recordPattern(l,g,d);let P=w.toNarrowWidePattern(d);if(P<0)throw new W;_=w.patternToChar(P),this.decodeRowResult+=_,E=g;for(let B of d)g+=B;g=l.getNextSet(g)}while("*"!==_);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let T,x=0;for(let P of d)x+=P;if(g!==m&&2*(g-E-x)<x)throw new W;if(this.usingCheckDigit){let P=this.decodeRowResult.length-1,B=0;for(let X=0;X<P;X++)B+=w.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(X));if(this.decodeRowResult.charAt(P)!==w.ALPHABET_STRING.charAt(B%43))throw new St;this.decodeRowResult=this.decodeRowResult.substring(0,P)}if(0===this.decodeRowResult.length)throw new W;T=this.extendedMode?w.decodeExtended(this.decodeRowResult):this.decodeRowResult;let N=E+x/2;return new cn(T,null,0,[new fe((f[1]+f[0])/2,a),new fe(N,a)],ne.CODE_39,(new Date).getTime())}static findAsteriskPattern(a,l){let u=a.getSize(),d=a.getNextSet(0),f=0,g=d,m=!1,_=l.length;for(let E=d;E<u;E++)if(a.get(E)!==m)l[f]++;else{if(f===_-1){if(this.toNarrowWidePattern(l)===w.ASTERISK_ENCODING&&a.isRange(Math.max(0,g-Math.floor((E-g)/2)),g,!1))return[g,E];g+=l[0]+l[1],l.copyWithin(0,2,2+f-1),l[f-1]=0,l[f]=0,f--}else f++;l[f]=1,m=!m}throw new W}static toNarrowWidePattern(a){let d,l=a.length,u=0;do{let f=2147483647;for(let _ of a)_<f&&_>u&&(f=_);u=f,d=0;let g=0,m=0;for(let _=0;_<l;_++){let E=a[_];E>u&&(m|=1<<l-1-_,d++,g+=E)}if(3===d){for(let _=0;_<l&&d>0;_++){let E=a[_];if(E>u&&(d--,2*E>=g))return-1}return m}}while(d>3);return-1}static patternToChar(a){for(let l=0;l<w.CHARACTER_ENCODINGS.length;l++)if(w.CHARACTER_ENCODINGS[l]===a)return w.ALPHABET_STRING.charAt(l);if(a===w.ASTERISK_ENCODING)return"*";throw new W}static decodeExtended(a){let l=a.length,u="";for(let d=0;d<l;d++){let f=a.charAt(d);if("+"===f||"$"===f||"%"===f||"/"===f){let g=a.charAt(d+1),m="\0";switch(f){case"+":if(!(g>="A"&&g<="Z"))throw new J;m=String.fromCharCode(g.charCodeAt(0)+32);break;case"$":if(!(g>="A"&&g<="Z"))throw new J;m=String.fromCharCode(g.charCodeAt(0)-64);break;case"%":if(g>="A"&&g<="E")m=String.fromCharCode(g.charCodeAt(0)-38);else if(g>="F"&&g<="J")m=String.fromCharCode(g.charCodeAt(0)-11);else if(g>="K"&&g<="O")m=String.fromCharCode(g.charCodeAt(0)+16);else if(g>="P"&&g<="T")m=String.fromCharCode(g.charCodeAt(0)+43);else if("U"===g)m="\0";else if("V"===g)m="@";else if("W"===g)m="`";else{if("X"!==g&&"Y"!==g&&"Z"!==g)throw new J;m="\x7f"}break;case"/":if(g>="A"&&g<="O")m=String.fromCharCode(g.charCodeAt(0)-32);else{if("Z"!==g)throw new J;m=":"}}u+=m,d++}else u+=f}return u}}return w.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",w.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],w.ASTERISK_ENCODING=148,w})();class dt extends jt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(o,a,l){let u=this.decodeStart(a),d=this.decodeEnd(a),f=new nt;dt.decodeMiddle(a,u[1],d[0],f);let g=f.toString(),m=null;null!=l&&(m=l.get(xt.ALLOWED_LENGTHS)),null==m&&(m=dt.DEFAULT_ALLOWED_LENGTHS);let _=g.length,E=!1,x=0;for(let R of m){if(_===R){E=!0;break}R>x&&(x=R)}if(!E&&_>x&&(E=!0),!E)throw new J;const D=[new fe(u[1],o),new fe(d[0],o)];return new cn(g,null,0,D,ne.ITF,(new Date).getTime())}static decodeMiddle(o,a,l,u){let d=new Int32Array(10),f=new Int32Array(5),g=new Int32Array(5);for(d.fill(0),f.fill(0),g.fill(0);a<l;){jt.recordPattern(o,a,d);for(let _=0;_<5;_++){let E=2*_;f[_]=d[E],g[_]=d[E+1]}let m=dt.decodeDigit(f);u.append(m.toString()),m=this.decodeDigit(g),u.append(m.toString()),d.forEach(function(_){a+=_})}}decodeStart(o){let a=dt.skipWhiteSpace(o),l=dt.findGuardPattern(o,a,dt.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(o,l[0]),l}validateQuietZone(o,a){let l=10*this.narrowLineWidth;l=l<a?l:a;for(let u=a-1;l>0&&u>=0&&!o.get(u);u--)l--;if(0!==l)throw new W}static skipWhiteSpace(o){const a=o.getSize(),l=o.getNextSet(0);if(l===a)throw new W;return l}decodeEnd(o){o.reverse();try{let l,a=dt.skipWhiteSpace(o);try{l=dt.findGuardPattern(o,a,dt.END_PATTERN_REVERSED[0])}catch(d){d instanceof W&&(l=dt.findGuardPattern(o,a,dt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(o,l[0]);let u=l[0];return l[0]=o.getSize()-l[1],l[1]=o.getSize()-u,l}finally{o.reverse()}}static findGuardPattern(o,a,l){let u=l.length,d=new Int32Array(u),f=o.getSize(),g=!1,m=0,_=a;d.fill(0);for(let E=a;E<f;E++)if(o.get(E)!==g)d[m]++;else{if(m===u-1){if(jt.patternMatchVariance(d,l,dt.MAX_INDIVIDUAL_VARIANCE)<dt.MAX_AVG_VARIANCE)return[_,E];_+=d[0]+d[1],tt.arraycopy(d,2,d,0,m-1),d[m-1]=0,d[m]=0,m--}else m++;d[m]=1,g=!g}throw new W}static decodeDigit(o){let a=dt.MAX_AVG_VARIANCE,l=-1,u=dt.PATTERNS.length;for(let d=0;d<u;d++){let g=jt.patternMatchVariance(o,dt.PATTERNS[d],dt.MAX_INDIVIDUAL_VARIANCE);g<a?(a=g,l=d):g===a&&(l=-1)}if(l>=0)return l%10;throw new W}}dt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],dt.MAX_AVG_VARIANCE=.38,dt.MAX_INDIVIDUAL_VARIANCE=.5,dt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],dt.START_PATTERN=Int32Array.from([1,1,1,1]),dt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Dt extends jt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(o){let l,a=!1,u=0,d=Int32Array.from([0,0,0]);for(;!a;){d=Int32Array.from([0,0,0]),l=Dt.findGuardPattern(o,u,!1,this.START_END_PATTERN,d);let f=l[0];u=l[1];let g=f-(u-f);g>=0&&(a=o.isRange(g,f,!1))}return l}static checkChecksum(o){return Dt.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let a=o.length;if(0===a)return!1;let l=parseInt(o.charAt(a-1),10);return Dt.getStandardUPCEANChecksum(o.substring(0,a-1))===l}static getStandardUPCEANChecksum(o){let a=o.length,l=0;for(let u=a-1;u>=0;u-=2){let d=o.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(d<0||d>9)throw new J;l+=d}l*=3;for(let u=a-2;u>=0;u-=2){let d=o.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(d<0||d>9)throw new J;l+=d}return(1e3-l)%10}static decodeEnd(o,a){return Dt.findGuardPattern(o,a,!1,Dt.START_END_PATTERN,new Int32Array(Dt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(o,a,l,u){return this.findGuardPattern(o,a,l,u,new Int32Array(u.length))}static findGuardPattern(o,a,l,u,d){let f=o.getSize(),g=0,m=a=l?o.getNextUnset(a):o.getNextSet(a),_=u.length,E=l;for(let x=a;x<f;x++)if(o.get(x)!==E)d[g]++;else{if(g===_-1){if(jt.patternMatchVariance(d,u,Dt.MAX_INDIVIDUAL_VARIANCE)<Dt.MAX_AVG_VARIANCE)return Int32Array.from([m,x]);m+=d[0]+d[1];let D=d.slice(2,d.length-1);for(let T=0;T<g-1;T++)d[T]=D[T];d[g-1]=0,d[g]=0,g--}else g++;d[g]=1,E=!E}throw new W}static decodeDigit(o,a,l,u){this.recordPattern(o,l,a);let d=this.MAX_AVG_VARIANCE,f=-1,g=u.length;for(let m=0;m<g;m++){let E=jt.patternMatchVariance(a,u[m],Dt.MAX_INDIVIDUAL_VARIANCE);E<d&&(d=E,f=m)}if(f>=0)return f;throw new W}}Dt.MAX_AVG_VARIANCE=.48,Dt.MAX_INDIVIDUAL_VARIANCE=.7,Dt.START_END_PATTERN=Int32Array.from([1,1,1]),Dt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Dt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Dt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Qi{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,a,l){let u=this.decodeRowStringBuffer,d=this.decodeMiddle(a,l,u),f=u.toString(),g=Qi.parseExtensionString(f),m=[new fe((l[0]+l[1])/2,o),new fe(d,o)],_=new cn(f,null,0,m,ne.UPC_EAN_EXTENSION,(new Date).getTime());return null!=g&&_.putAllMetadata(g),_}decodeMiddle(o,a,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=o.getSize(),f=a[1],g=0;for(let _=0;_<5&&f<d;_++){let E=Dt.decodeDigit(o,u,f,Dt.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+E%10);for(let x of u)f+=x;E>=10&&(g|=1<<4-_),4!==_&&(f=o.getNextSet(f),f=o.getNextUnset(f))}if(5!==l.length)throw new W;let m=this.determineCheckDigit(g);if(Qi.extensionChecksum(l.toString())!==m)throw new W;return f}static extensionChecksum(o){let a=o.length,l=0;for(let u=a-2;u>=0;u-=2)l+=o.charAt(u).charCodeAt(0)-"0".charCodeAt(0);l*=3;for(let u=a-1;u>=0;u-=2)l+=o.charAt(u).charCodeAt(0)-"0".charCodeAt(0);return l*=3,l%10}determineCheckDigit(o){for(let a=0;a<10;a++)if(o===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new W}static parseExtensionString(o){if(5!==o.length)return null;let a=Qi.parseExtension5String(o);return null==a?null:new Map([[Ot.SUGGESTED_PRICE,a]])}static parseExtension5String(o){let a;switch(o.charAt(0)){case"0":a="\xa3";break;case"5":a="$";break;case"9":switch(o){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a=""}let l=parseInt(o.substring(1)),d=l%100;return a+(l/100).toString()+"."+(d<10?"0"+d:d.toString())}}class Pa{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,a,l){let u=this.decodeRowStringBuffer,d=this.decodeMiddle(a,l,u),f=u.toString(),g=Pa.parseExtensionString(f),m=[new fe((l[0]+l[1])/2,o),new fe(d,o)],_=new cn(f,null,0,m,ne.UPC_EAN_EXTENSION,(new Date).getTime());return null!=g&&_.putAllMetadata(g),_}decodeMiddle(o,a,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=o.getSize(),f=a[1],g=0;for(let m=0;m<2&&f<d;m++){let _=Dt.decodeDigit(o,u,f,Dt.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+_%10);for(let E of u)f+=E;_>=10&&(g|=1<<1-m),1!==m&&(f=o.getNextSet(f),f=o.getNextUnset(f))}if(2!==l.length)throw new W;if(parseInt(l.toString())%4!==g)throw new W;return f}static parseExtensionString(o){return 2!==o.length?null:new Map([[Ot.ISSUE_NUMBER,parseInt(o)]])}}class ka{static decodeRow(o,a,l){let u=Dt.findGuardPattern(a,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new Qi).decodeRow(o,a,u)}catch(d){return(new Pa).decodeRow(o,a,u)}}}ka.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class $e extends Dt{constructor(){super(),this.decodeRowStringBuffer="",$e.L_AND_G_PATTERNS=$e.L_PATTERNS.map(o=>Int32Array.from(o));for(let o=10;o<20;o++){let a=$e.L_PATTERNS[o-10],l=new Int32Array(a.length);for(let u=0;u<a.length;u++)l[u]=a[a.length-u-1];$e.L_AND_G_PATTERNS[o]=l}}decodeRow(o,a,l){let u=$e.findStartGuardPattern(a),d=null==l?null:l.get(xt.NEED_RESULT_POINT_CALLBACK);if(null!=d){const H=new fe((u[0]+u[1])/2,o);d.foundPossibleResultPoint(H)}let f=this.decodeMiddle(a,u,this.decodeRowStringBuffer),g=f.rowOffset,m=f.resultString;if(null!=d){const H=new fe(g,o);d.foundPossibleResultPoint(H)}let _=$e.decodeEnd(a,g);if(null!=d){const H=new fe((_[0]+_[1])/2,o);d.foundPossibleResultPoint(H)}let E=_[1],x=E+(E-_[0]);if(x>=a.getSize()||!a.isRange(E,x,!1))throw new W;let D=m.toString();if(D.length<8)throw new J;if(!$e.checkChecksum(D))throw new St;let T=(u[1]+u[0])/2,R=(_[1]+_[0])/2,N=this.getBarcodeFormat(),P=[new fe(T,o),new fe(R,o)],B=new cn(D,null,0,P,N,(new Date).getTime()),X=0;try{let H=ka.decodeRow(o,a,_[1]);B.putMetadata(Ot.UPC_EAN_EXTENSION,H.getText()),B.putAllMetadata(H.getResultMetadata()),B.addResultPoints(H.getResultPoints()),X=H.getText().length}catch(H){}let te=null==l?null:l.get(xt.ALLOWED_EAN_EXTENSIONS);if(null!=te){let H=!1;for(let Ve in te)if(X.toString()===Ve){H=!0;break}if(!H)throw new W}return B}static checkChecksum(o){return $e.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let a=o.length;if(0===a)return!1;let l=parseInt(o.charAt(a-1),10);return $e.getStandardUPCEANChecksum(o.substring(0,a-1))===l}static getStandardUPCEANChecksum(o){let a=o.length,l=0;for(let u=a-1;u>=0;u-=2){let d=o.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(d<0||d>9)throw new J;l+=d}l*=3;for(let u=a-2;u>=0;u-=2){let d=o.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(d<0||d>9)throw new J;l+=d}return(1e3-l)%10}static decodeEnd(o,a){return $e.findGuardPattern(o,a,!1,$e.START_END_PATTERN,new Int32Array($e.START_END_PATTERN.length).fill(0))}}let vs=(()=>{class w extends $e{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,l,u){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let f=a.getSize(),g=l[1],m=0;for(let E=0;E<6&&g<f;E++){let x=$e.decodeDigit(a,d,g,$e.L_AND_G_PATTERNS);u+=String.fromCharCode("0".charCodeAt(0)+x%10);for(let D of d)g+=D;x>=10&&(m|=1<<5-E)}u=w.determineFirstDigit(u,m),g=$e.findGuardPattern(a,g,!0,$e.MIDDLE_PATTERN,new Int32Array($e.MIDDLE_PATTERN.length).fill(0))[1];for(let E=0;E<6&&g<f;E++){let x=$e.decodeDigit(a,d,g,$e.L_PATTERNS);u+=String.fromCharCode("0".charCodeAt(0)+x);for(let D of d)g+=D}return{rowOffset:g,resultString:u}}getBarcodeFormat(){return ne.EAN_13}static determineFirstDigit(a,l){for(let u=0;u<10;u++)if(l===this.FIRST_DIGIT_ENCODINGS[u])return String.fromCharCode("0".charCodeAt(0)+u)+a;throw new W}}return w.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],w})();class Fa extends $e{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,a,l){const u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=o.getSize(),f=a[1];for(let m=0;m<4&&f<d;m++){let _=$e.decodeDigit(o,u,f,$e.L_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+_);for(let E of u)f+=E}f=$e.findGuardPattern(o,f,!0,$e.MIDDLE_PATTERN,new Int32Array($e.MIDDLE_PATTERN.length).fill(0))[1];for(let m=0;m<4&&f<d;m++){let _=$e.decodeDigit(o,u,f,$e.L_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+_);for(let E of u)f+=E}return{rowOffset:f,resultString:l}}getBarcodeFormat(){return ne.EAN_8}}class Nn extends $e{constructor(){super(...arguments),this.ean13Reader=new vs}getBarcodeFormat(){return ne.UPC_A}decode(o,a){return this.maybeReturnResult(this.ean13Reader.decode(o))}decodeRow(o,a,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(o,a,l))}decodeMiddle(o,a,l){return this.ean13Reader.decodeMiddle(o,a,l)}maybeReturnResult(o){let a=o.getText();if("0"===a.charAt(0)){let l=new cn(a.substring(1),null,null,o.getResultPoints(),ne.UPC_A);return null!=o.getResultMetadata()&&l.putAllMetadata(o.getResultMetadata()),l}throw new W}reset(){this.ean13Reader.reset()}}class Zn extends $e{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(o,a,l){const u=this.decodeMiddleCounters.map(m=>m);u[0]=0,u[1]=0,u[2]=0,u[3]=0;const d=o.getSize();let f=a[1],g=0;for(let m=0;m<6&&f<d;m++){const _=Zn.decodeDigit(o,u,f,Zn.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+_%10);for(let E of u)f+=E;_>=10&&(g|=1<<5-m)}return Zn.determineNumSysAndCheckDigit(new nt(l),g),f}decodeEnd(o,a){return Zn.findGuardPatternWithoutCounters(o,a,!0,Zn.MIDDLE_END_PATTERN)}checkChecksum(o){return $e.checkChecksum(Zn.convertUPCEtoUPCA(o))}static determineNumSysAndCheckDigit(o,a){for(let l=0;l<=1;l++)for(let u=0;u<10;u++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][u])return o.insert(0,"0"+l),void o.append("0"+u);throw W.getNotFoundInstance()}getBarcodeFormat(){return ne.UPC_E}static convertUPCEtoUPCA(o){const a=o.slice(1,7).split("").map(d=>d.charCodeAt(0)),l=new nt;l.append(o.charAt(0));let u=a[5];switch(u){case 0:case 1:case 2:l.appendChars(a,0,2),l.append(u),l.append("0000"),l.appendChars(a,2,3);break;case 3:l.appendChars(a,0,3),l.append("00000"),l.appendChars(a,3,2);break;case 4:l.appendChars(a,0,4),l.append("00000"),l.append(a[4]);break;default:l.appendChars(a,0,5),l.append("0000"),l.append(u)}return o.length>=8&&l.append(o.charAt(7)),l.toString()}}Zn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Zn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])];class La extends jt{constructor(o){super();let a=null==o?null:o.get(xt.POSSIBLE_FORMATS),l=[];null!=a&&(a.indexOf(ne.EAN_13)>-1?l.push(new vs):a.indexOf(ne.UPC_A)>-1&&l.push(new Nn),a.indexOf(ne.EAN_8)>-1&&l.push(new Fa),a.indexOf(ne.UPC_E)>-1&&l.push(new Zn)),0===l.length&&(l.push(new vs),l.push(new Fa),l.push(new Zn)),this.readers=l}decodeRow(o,a,l){for(let u of this.readers)try{const d=u.decodeRow(o,a,l),f=d.getBarcodeFormat()===ne.EAN_13&&"0"===d.getText().charAt(0),g=null==l?null:l.get(xt.POSSIBLE_FORMATS),m=null==g||g.includes(ne.UPC_A);if(f&&m){const _=d.getRawBytes(),E=new cn(d.getText().substring(1),_,_.length,d.getResultPoints(),ne.UPC_A);return E.putAllMetadata(d.getResultMetadata()),E}return d}catch(d){}throw new W}reset(){for(let o of this.readers)o.reset()}}let Si=(()=>{class w extends jt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(a,l){for(let u=0;u<l.length;u++)if(jt.patternMatchVariance(a,l[u],w.MAX_INDIVIDUAL_VARIANCE)<w.MAX_AVG_VARIANCE)return u;throw new W}static count(a){return Ye.sum(new Int32Array(a))}static increment(a,l){let u=0,d=l[0];for(let f=1;f<a.length;f++)l[f]>d&&(d=l[f],u=f);a[u]++}static decrement(a,l){let u=0,d=l[0];for(let f=1;f<a.length;f++)l[f]<d&&(d=l[f],u=f);a[u]--}static isFinderPattern(a){let l=a[0]+a[1],d=l/(l+a[2]+a[3]);if(d>=w.MIN_FINDER_PATTERN_RATIO&&d<=w.MAX_FINDER_PATTERN_RATIO){let f=Number.MAX_SAFE_INTEGER,g=Number.MIN_SAFE_INTEGER;for(let m of a)m>g&&(g=m),m<f&&(f=m);return g<10*f}return!1}}return w.MAX_AVG_VARIANCE=.2,w.MAX_INDIVIDUAL_VARIANCE=.45,w.MIN_FINDER_PATTERN_RATIO=9.5/12,w.MAX_FINDER_PATTERN_RATIO=12.5/14,w})();class Ji{constructor(o,a){this.value=o,this.checksumPortion=a}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(o){return o instanceof Ji&&this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Es{constructor(o,a,l,u,d){this.value=o,this.startEnd=a,this.value=o,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new fe(l,d)),this.resultPoints.push(new fe(u,d))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(o){return o instanceof Es&&this.value===o.value}hashCode(){return this.value}}class yr{constructor(){}static getRSSvalue(o,a,l){let u=0;for(let m of o)u+=m;let d=0,f=0,g=o.length;for(let m=0;m<g-1;m++){let _;for(_=1,f|=1<<m;_<o[m];_++,f&=~(1<<m)){let E=yr.combins(u-_-1,g-m-2);if(l&&0===f&&u-_-(g-m-1)>=g-m-1&&(E-=yr.combins(u-_-(g-m),g-m-2)),g-m-1>1){let x=0;for(let D=u-_-(g-m-2);D>a;D--)x+=yr.combins(u-_-D-1,g-m-3);E-=x*(g-1-m)}else u-_>a&&E--;d+=E}u-=_}return d}static combins(o,a){let l,u;o-a>a?(u=a,l=o-a):(u=o-a,l=a);let d=1,f=1;for(let g=o;g>l;g--)d*=g,f<=u&&(d/=f,f++);for(;f<=u;)d/=f,f++;return d}}class mn{constructor(o,a){a?this.decodedInformation=null:(this.finished=o,this.decodedInformation=a)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ba{constructor(o){this.newPosition=o}getNewPosition(){return this.newPosition}}let at=(()=>{class w extends Ba{constructor(a,l){super(a),this.value=l}getValue(){return this.value}isFNC1(){return this.value===w.FNC1}}return w.FNC1="$",w})();class Qn extends Ba{constructor(o,a,l){super(o),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=a}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}let xn=(()=>{class w extends Ba{constructor(a,l,u){if(super(a),l<0||l>10||u<0||u>10)throw new J;this.firstDigit=l,this.secondDigit=u}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return 10*this.firstDigit+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===w.FNC1}isSecondDigitFNC1(){return this.secondDigit===w.FNC1}isAnyFNC1(){return this.firstDigit===w.FNC1||this.secondDigit===w.FNC1}}return w.FNC1=10,w})();class le{constructor(){}static parseFieldsInGeneralPurpose(o){if(!o)return null;if(o.length<2)throw new W;let a=o.substring(0,2);for(let d of le.TWO_DIGIT_DATA_LENGTH)if(d[0]===a)return d[1]===le.VARIABLE_LENGTH?le.processVariableAI(2,d[2],o):le.processFixedAI(2,d[1],o);if(o.length<3)throw new W;let l=o.substring(0,3);for(let d of le.THREE_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===le.VARIABLE_LENGTH?le.processVariableAI(3,d[2],o):le.processFixedAI(3,d[1],o);for(let d of le.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===le.VARIABLE_LENGTH?le.processVariableAI(4,d[2],o):le.processFixedAI(4,d[1],o);if(o.length<4)throw new W;let u=o.substring(0,4);for(let d of le.FOUR_DIGIT_DATA_LENGTH)if(d[0]===u)return d[1]===le.VARIABLE_LENGTH?le.processVariableAI(4,d[2],o):le.processFixedAI(4,d[1],o);throw new W}static processFixedAI(o,a,l){if(l.length<o)throw new W;let u=l.substring(0,o);if(l.length<o+a)throw new W;let d=l.substring(o,o+a),f=l.substring(o+a),g="("+u+")"+d,m=le.parseFieldsInGeneralPurpose(f);return null==m?g:g+m}static processVariableAI(o,a,l){let d,u=l.substring(0,o);d=l.length<o+a?l.length:o+a;let f=l.substring(o,d),g=l.substring(d),m="("+u+")"+f,_=le.parseFieldsInGeneralPurpose(g);return null==_?m:m+_}}le.VARIABLE_LENGTH=[],le.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",le.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",le.VARIABLE_LENGTH,20],["22",le.VARIABLE_LENGTH,29],["30",le.VARIABLE_LENGTH,8],["37",le.VARIABLE_LENGTH,8],["90",le.VARIABLE_LENGTH,30],["91",le.VARIABLE_LENGTH,30],["92",le.VARIABLE_LENGTH,30],["93",le.VARIABLE_LENGTH,30],["94",le.VARIABLE_LENGTH,30],["95",le.VARIABLE_LENGTH,30],["96",le.VARIABLE_LENGTH,30],["97",le.VARIABLE_LENGTH,3],["98",le.VARIABLE_LENGTH,30],["99",le.VARIABLE_LENGTH,30]],le.THREE_DIGIT_DATA_LENGTH=[["240",le.VARIABLE_LENGTH,30],["241",le.VARIABLE_LENGTH,30],["242",le.VARIABLE_LENGTH,6],["250",le.VARIABLE_LENGTH,30],["251",le.VARIABLE_LENGTH,30],["253",le.VARIABLE_LENGTH,17],["254",le.VARIABLE_LENGTH,20],["400",le.VARIABLE_LENGTH,30],["401",le.VARIABLE_LENGTH,30],["402",17],["403",le.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",le.VARIABLE_LENGTH,20],["421",le.VARIABLE_LENGTH,15],["422",3],["423",le.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],le.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",le.VARIABLE_LENGTH,15],["391",le.VARIABLE_LENGTH,18],["392",le.VARIABLE_LENGTH,15],["393",le.VARIABLE_LENGTH,18],["703",le.VARIABLE_LENGTH,30]],le.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",le.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",le.VARIABLE_LENGTH,20],["8003",le.VARIABLE_LENGTH,30],["8004",le.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",le.VARIABLE_LENGTH,30],["8008",le.VARIABLE_LENGTH,12],["8018",18],["8020",le.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",le.VARIABLE_LENGTH,70],["8200",le.VARIABLE_LENGTH,70]];class es{constructor(o){this.buffer=new nt,this.information=o}decodeAllCodes(o,a){let l=a,u=null;for(;;){let d=this.decodeGeneralPurposeField(l,u),f=le.parseFieldsInGeneralPurpose(d.getNewString());if(null!=f&&o.append(f),u=d.isRemaining()?""+d.getRemainingValue():null,l===d.getNewPosition())break;l=d.getNewPosition()}return o.toString()}isStillNumeric(o){if(o+7>this.information.getSize())return o+4<=this.information.getSize();for(let a=o;a<o+3;++a)if(this.information.get(a))return!0;return this.information.get(o+3)}decodeNumeric(o){if(o+7>this.information.getSize()){let d=this.extractNumericValueFromBitArray(o,4);return new xn(this.information.getSize(),0===d?xn.FNC1:d-1,xn.FNC1)}let a=this.extractNumericValueFromBitArray(o,7);return new xn(o+7,(a-8)/11,(a-8)%11)}extractNumericValueFromBitArray(o,a){return es.extractNumericValueFromBitArray(this.information,o,a)}static extractNumericValueFromBitArray(o,a,l){let u=0;for(let d=0;d<l;++d)o.get(a+d)&&(u|=1<<l-d-1);return u}decodeGeneralPurposeField(o,a){this.buffer.setLengthToZero(),null!=a&&this.buffer.append(a),this.current.setPosition(o);let l=this.parseBlocks();return null!=l&&l.isRemaining()?new Qn(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new Qn(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let o,a;do{let l=this.current.getPosition();if(this.current.isAlpha()?(a=this.parseAlphaBlock(),o=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),o=a.isFinished()):(a=this.parseNumericBlock(),o=a.isFinished()),l===this.current.getPosition()&&!o)break}while(!o);return a.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let o=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFirstDigitFNC1()){let a;return a=o.isSecondDigitFNC1()?new Qn(this.current.getPosition(),this.buffer.toString()):new Qn(this.current.getPosition(),this.buffer.toString(),o.getSecondDigit()),new mn(!0,a)}if(this.buffer.append(o.getFirstDigit()),o.isSecondDigitFNC1()){let a=new Qn(this.current.getPosition(),this.buffer.toString());return new mn(!0,a)}this.buffer.append(o.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new mn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let o=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let a=new Qn(this.current.getPosition(),this.buffer.toString());return new mn(!0,a)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new mn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let o=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let a=new Qn(this.current.getPosition(),this.buffer.toString());return new mn(!0,a)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new mn(!1)}isStillIsoIec646(o){if(o+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(o,5);if(a>=5&&a<16)return!0;if(o+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(o,7);if(l>=64&&l<116)return!0;if(o+8>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(o,8);return u>=232&&u<253}decodeIsoIec646(o){let a=this.extractNumericValueFromBitArray(o,5);if(15===a)return new at(o+5,at.FNC1);if(a>=5&&a<15)return new at(o+5,"0"+(a-5));let d,l=this.extractNumericValueFromBitArray(o,7);if(l>=64&&l<90)return new at(o+7,""+(l+1));if(l>=90&&l<116)return new at(o+7,""+(l+7));switch(this.extractNumericValueFromBitArray(o,8)){case 232:d="!";break;case 233:d='"';break;case 234:d="%";break;case 235:d="&";break;case 236:d="'";break;case 237:d="(";break;case 238:d=")";break;case 239:d="*";break;case 240:d="+";break;case 241:d=",";break;case 242:d="-";break;case 243:d=".";break;case 244:d="/";break;case 245:d=":";break;case 246:d=";";break;case 247:d="<";break;case 248:d="=";break;case 249:d=">";break;case 250:d="?";break;case 251:d="_";break;case 252:d=" ";break;default:throw new J}return new at(o+8,d)}isStillAlpha(o){if(o+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(o,5);if(a>=5&&a<16)return!0;if(o+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(o,6);return l>=16&&l<63}decodeAlphanumeric(o){let a=this.extractNumericValueFromBitArray(o,5);if(15===a)return new at(o+5,at.FNC1);if(a>=5&&a<15)return new at(o+5,"0"+(a-5));let u,l=this.extractNumericValueFromBitArray(o,6);if(l>=32&&l<58)return new at(o+6,""+(l+33));switch(l){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new Fr("Decoding invalid alphanumeric value: "+l)}return new at(o+6,u)}isAlphaTo646ToAlphaLatch(o){if(o+1>this.information.getSize())return!1;for(let a=0;a<5&&a+o<this.information.getSize();++a)if(2===a){if(!this.information.get(o+2))return!1}else if(this.information.get(o+a))return!1;return!0}isAlphaOr646ToNumericLatch(o){if(o+3>this.information.getSize())return!1;for(let a=o;a<o+3;++a)if(this.information.get(a))return!1;return!0}isNumericToAlphaNumericLatch(o){if(o+1>this.information.getSize())return!1;for(let a=0;a<4&&a+o<this.information.getSize();++a)if(this.information.get(o+a))return!1;return!0}}class Ua{constructor(o){this.information=o,this.generalDecoder=new es(o)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}let On=(()=>{class w extends Ua{constructor(a){super(a)}encodeCompressedGtin(a,l){a.append("(01)");let u=a.length();a.append("9"),this.encodeCompressedGtinWithoutAI(a,l,u)}encodeCompressedGtinWithoutAI(a,l,u){for(let d=0;d<4;++d){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(l+10*d,10);f/100==0&&a.append("0"),f/10==0&&a.append("0"),a.append(f)}w.appendCheckDigit(a,u)}static appendCheckDigit(a,l){let u=0;for(let d=0;d<13;d++){let f=a.charAt(d+l).charCodeAt(0)-"0".charCodeAt(0);u+=0==(1&d)?3*f:f}u=10-u%10,10===u&&(u=0),a.append(u)}}return w.GTIN_SIZE=40,w})(),uc=(()=>{class w extends On{constructor(a){super(a)}parseInformation(){let a=new nt;a.append("(01)");let l=a.length(),u=this.getGeneralDecoder().extractNumericValueFromBitArray(w.HEADER_SIZE,4);return a.append(u),this.encodeCompressedGtinWithoutAI(a,w.HEADER_SIZE+4,l),this.getGeneralDecoder().decodeAllCodes(a,w.HEADER_SIZE+44)}}return w.HEADER_SIZE=4,w})(),Cs=(()=>{class w extends Ua{constructor(a){super(a)}parseInformation(){let a=new nt;return this.getGeneralDecoder().decodeAllCodes(a,w.HEADER_SIZE)}}return w.HEADER_SIZE=5,w})();class lo extends On{constructor(o){super(o)}encodeCompressedWeight(o,a,l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(a,l);this.addWeightCode(o,u);let d=this.checkWeight(u),f=1e5;for(let g=0;g<5;++g)d/f==0&&o.append("0"),f/=10;o.append(d)}}let ja=(()=>{class w extends lo{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()!=w.HEADER_SIZE+lo.GTIN_SIZE+w.WEIGHT_SIZE)throw new W;let a=new nt;return this.encodeCompressedGtin(a,w.HEADER_SIZE),this.encodeCompressedWeight(a,w.HEADER_SIZE+lo.GTIN_SIZE,w.WEIGHT_SIZE),a.toString()}}return w.HEADER_SIZE=5,w.WEIGHT_SIZE=15,w})();class dc extends ja{constructor(o){super(o)}addWeightCode(o,a){o.append("(3103)")}checkWeight(o){return o}}class jd extends ja{constructor(o){super(o)}addWeightCode(o,a){o.append(a<1e4?"(3202)":"(3203)")}checkWeight(o){return o<1e4?o:o-1e4}}let Vd=(()=>{class w extends On{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<w.HEADER_SIZE+On.GTIN_SIZE)throw new W;let a=new nt;this.encodeCompressedGtin(a,w.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(w.HEADER_SIZE+On.GTIN_SIZE,w.LAST_DIGIT_SIZE);a.append("(392"),a.append(l),a.append(")");let u=this.getGeneralDecoder().decodeGeneralPurposeField(w.HEADER_SIZE+On.GTIN_SIZE+w.LAST_DIGIT_SIZE,null);return a.append(u.getNewString()),a.toString()}}return w.HEADER_SIZE=8,w.LAST_DIGIT_SIZE=2,w})(),Hd=(()=>{class w extends On{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<w.HEADER_SIZE+On.GTIN_SIZE)throw new W;let a=new nt;this.encodeCompressedGtin(a,w.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(w.HEADER_SIZE+On.GTIN_SIZE,w.LAST_DIGIT_SIZE);a.append("(393"),a.append(l),a.append(")");let u=this.getGeneralDecoder().extractNumericValueFromBitArray(w.HEADER_SIZE+On.GTIN_SIZE+w.LAST_DIGIT_SIZE,w.FIRST_THREE_DIGITS_SIZE);u/100==0&&a.append("0"),u/10==0&&a.append("0"),a.append(u);let d=this.getGeneralDecoder().decodeGeneralPurposeField(w.HEADER_SIZE+On.GTIN_SIZE+w.LAST_DIGIT_SIZE+w.FIRST_THREE_DIGITS_SIZE,null);return a.append(d.getNewString()),a.toString()}}return w.HEADER_SIZE=8,w.LAST_DIGIT_SIZE=2,w.FIRST_THREE_DIGITS_SIZE=10,w})(),ei=(()=>{class w extends lo{constructor(a,l,u){super(a),this.dateCode=u,this.firstAIdigits=l}parseInformation(){if(this.getInformation().getSize()!=w.HEADER_SIZE+w.GTIN_SIZE+w.WEIGHT_SIZE+w.DATE_SIZE)throw new W;let a=new nt;return this.encodeCompressedGtin(a,w.HEADER_SIZE),this.encodeCompressedWeight(a,w.HEADER_SIZE+w.GTIN_SIZE,w.WEIGHT_SIZE),this.encodeCompressedDate(a,w.HEADER_SIZE+w.GTIN_SIZE+w.WEIGHT_SIZE),a.toString()}encodeCompressedDate(a,l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(l,w.DATE_SIZE);if(38400==u)return;a.append("("),a.append(this.dateCode),a.append(")");let d=u%32;u/=32;let f=u%12+1;u/=12;let g=u;g/10==0&&a.append("0"),a.append(g),f/10==0&&a.append("0"),a.append(f),d/10==0&&a.append("0"),a.append(d)}addWeightCode(a,l){a.append("("),a.append(this.firstAIdigits),a.append(l/1e5),a.append(")")}checkWeight(a){return a%1e5}}return w.HEADER_SIZE=8,w.WEIGHT_SIZE=20,w.DATE_SIZE=16,w})();class ti{constructor(o,a,l,u){this.leftchar=o,this.rightchar=a,this.finderpattern=l,this.maybeLast=u}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return null==this.rightchar}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"}static equals(o,a){return o instanceof ti&&ti.equalsOrNull(o.leftchar,a.leftchar)&&ti.equalsOrNull(o.rightchar,a.rightchar)&&ti.equalsOrNull(o.finderpattern,a.finderpattern)}static equalsOrNull(o,a){return null===o?null===a:ti.equals(o,a)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Va{constructor(o,a,l){this.pairs=o,this.rowNumber=a,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(o){return this.checkEqualitity(this,o)}toString(){return"{ "+this.pairs+" }"}equals(o,a){return o instanceof Va&&this.checkEqualitity(o,a)&&o.wasReversed===a.wasReversed}checkEqualitity(o,a){if(!o||!a)return;let l;return o.forEach((u,d)=>{a.forEach(f=>{u.getLeftChar().getValue()===f.getLeftChar().getValue()&&u.getRightChar().getValue()===f.getRightChar().getValue()&&u.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(l=!0)})}),l}}class V extends Si{constructor(o){super(...arguments),this.pairs=new Array(V.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=!0===o}decodeRow(o,a,l){this.pairs.length=0,this.startFromEven=!1;try{return V.constructResult(this.decodeRow2pairs(o,a))}catch(u){this.verbose&&console.log(u)}return this.pairs.length=0,this.startFromEven=!0,V.constructResult(this.decodeRow2pairs(o,a))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(o,a){let u,l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,o))}catch(d){if(d instanceof W){if(!this.pairs.length)throw new W;l=!0}}if(this.checkChecksum())return this.pairs;if(u=!!this.rows.length,this.storeRow(o,!1),u){let d=this.checkRowsBoolean(!1);if(null!=d||(d=this.checkRowsBoolean(!0),null!=d))return d}throw new W}checkRowsBoolean(o){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,o&&(this.rows=this.rows.reverse());let a=null;try{a=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return o&&(this.rows=this.rows.reverse()),a}checkRows(o,a){for(let l=a;l<this.rows.length;l++){let u=this.rows[l];this.pairs.length=0;for(let f of o)this.pairs.push(f.getPairs());if(this.pairs.push(u.getPairs()),!V.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let d=new Array(o);d.push(u);try{return this.checkRows(d,l+1)}catch(f){this.verbose&&console.log(f)}}throw new W}static isValidSequence(o){for(let a of V.FINDER_PATTERN_SEQUENCES){if(o.length>a.length)continue;let l=!0;for(let u=0;u<o.length;u++)if(o[u].getFinderPattern().getValue()!=a[u]){l=!1;break}if(l)return!0}return!1}storeRow(o,a){let l=0,u=!1,d=!1;for(;l<this.rows.length;){let f=this.rows[l];if(f.getRowNumber()>o){d=f.isEquivalent(this.pairs);break}u=f.isEquivalent(this.pairs),l++}d||u||V.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new Va(this.pairs,o,a)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(o,a){for(let l of a)if(l.getPairs().length!==o.length)for(let u of l.getPairs())for(let d of o)if(ti.equals(u,d))break}static isPartialRow(o,a){for(let l of a){let u=!0;for(let d of o){let f=!1;for(let g of l.getPairs())if(d.equals(g)){f=!0;break}if(!f){u=!1;break}}if(u)return!0}return!1}getRows(){return this.rows}static constructResult(o){let u=function hc(w){try{if(w.get(1))return new uc(w);if(!w.get(2))return new Cs(w);switch(es.extractNumericValueFromBitArray(w,1,4)){case 4:return new dc(w);case 5:return new jd(w)}switch(es.extractNumericValueFromBitArray(w,1,5)){case 12:return new Vd(w);case 13:return new Hd(w)}switch(es.extractNumericValueFromBitArray(w,1,7)){case 56:return new ei(w,"310","11");case 57:return new ei(w,"320","11");case 58:return new ei(w,"310","13");case 59:return new ei(w,"320","13");case 60:return new ei(w,"310","15");case 61:return new ei(w,"320","15");case 62:return new ei(w,"310","17");case 63:return new ei(w,"320","17")}}catch(o){throw console.log(o),new Fr("unknown decoder: "+w)}}(class Ud{static buildBitArray(o){let a=2*o.length-1;null==o[o.length-1].getRightChar()&&(a-=1);let u=new it(12*a),d=0,g=o[0].getRightChar().getValue();for(let m=11;m>=0;--m)0!=(g&1<<m)&&u.set(d),d++;for(let m=1;m<o.length;++m){let _=o[m],E=_.getLeftChar().getValue();for(let x=11;x>=0;--x)0!=(E&1<<x)&&u.set(d),d++;if(null!=_.getRightChar()){let x=_.getRightChar().getValue();for(let D=11;D>=0;--D)0!=(x&1<<D)&&u.set(d),d++}}return u}}.buildBitArray(o)).parseInformation(),d=o[0].getFinderPattern().getResultPoints(),f=o[o.length-1].getFinderPattern().getResultPoints();return new cn(u,null,null,[d[0],d[1],f[0],f[1]],ne.RSS_EXPANDED,null)}checkChecksum(){let o=this.pairs.get(0),a=o.getLeftChar(),l=o.getRightChar();if(null==l)return!1;let u=l.getChecksumPortion(),d=2;for(let g=1;g<this.pairs.size();++g){let m=this.pairs.get(g);u+=m.getLeftChar().getChecksumPortion(),d++;let _=m.getRightChar();null!=_&&(u+=_.getChecksumPortion(),d++)}return u%=211,211*(d-4)+u==a.getValue()}static getNextSecondBar(o,a){let l;return o.get(a)?(l=o.getNextUnset(a),l=o.getNextSet(l)):(l=o.getNextSet(a),l=o.getNextUnset(l)),l}retrieveNextPair(o,a,l){let u=a.length%2==0;this.startFromEven&&(u=!u);let d,f=!0,g=-1;do{this.findNextPair(o,a,g),d=this.parseFoundFinderPattern(o,l,u),null==d?g=V.getNextSecondBar(o,this.startEnd[0]):f=!1}while(f);let _,m=this.decodeDataCharacter(o,d,u,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new W;try{_=this.decodeDataCharacter(o,d,u,!1)}catch(E){_=null,this.verbose&&console.log(E)}return new ti(m,_,d,!0)}isEmptyPair(o){return 0===o.length}findNextPair(o,a,l){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let f,d=o.getSize();f=l>=0?l:this.isEmptyPair(a)?0:a[a.length-1].getFinderPattern().getStartEnd()[1];let g=a.length%2!=0;this.startFromEven&&(g=!g);let m=!1;for(;f<d&&(m=!o.get(f),m);)f++;let _=0,E=f;for(let x=f;x<d;x++)if(o.get(x)!=m)u[_]++;else{if(3==_){if(g&&V.reverseCounters(u),V.isFinderPattern(u))return this.startEnd[0]=E,void(this.startEnd[1]=x);g&&V.reverseCounters(u),E+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,_--}else _++;u[_]=1,m=!m}throw new W}static reverseCounters(o){let a=o.length;for(let l=0;l<a/2;++l){let u=o[l];o[l]=o[a-l-1],o[a-l-1]=u}}parseFoundFinderPattern(o,a,l){let u,d,f;if(l){let _=this.startEnd[0]-1;for(;_>=0&&!o.get(_);)_--;_++,u=this.startEnd[0]-_,d=_,f=this.startEnd[1]}else d=this.startEnd[0],f=o.getNextUnset(this.startEnd[1]+1),u=f-this.startEnd[1];let m,g=this.getDecodeFinderCounters();tt.arraycopy(g,0,g,1,g.length-1),g[0]=u;try{m=this.parseFinderValue(g,V.FINDER_PATTERNS)}catch(_){return null}return new Es(m,[d,f],d,f,a)}decodeDataCharacter(o,a,l,u){let d=this.getDataCharacterCounters();for(let yt=0;yt<d.length;yt++)d[yt]=0;if(u)V.recordPatternInReverse(o,a.getStartEnd()[0],d);else{V.recordPattern(o,a.getStartEnd()[1],d);for(let yt=0,fn=d.length-1;yt<fn;yt++,fn--){let $n=d[yt];d[yt]=d[fn],d[fn]=$n}}let g=Ye.sum(new Int32Array(d))/17,m=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(g-m)/m>.3)throw new W;let _=this.getOddCounts(),E=this.getEvenCounts(),x=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors();for(let yt=0;yt<d.length;yt++){let fn=1*d[yt]/g,$n=fn+.5;if($n<1){if(fn<.3)throw new W;$n=1}else if($n>8){if(fn>8.7)throw new W;$n=8}let Ds=yt/2;0==(1&yt)?(_[Ds]=$n,x[Ds]=fn-$n):(E[Ds]=$n,D[Ds]=fn-$n)}this.adjustOddEvenCounts(17);let T=4*a.getValue()+(l?0:2)+(u?0:1)-1,R=0,N=0;for(let yt=_.length-1;yt>=0;yt--)V.isNotA1left(a,l,u)&&(N+=_[yt]*V.WEIGHTS[T][2*yt]),R+=_[yt];let P=0;for(let yt=E.length-1;yt>=0;yt--)V.isNotA1left(a,l,u)&&(P+=E[yt]*V.WEIGHTS[T][2*yt+1]);let B=N+P;if(0!=(1&R)||R>13||R<4)throw new W;let X=(13-R)/2,te=V.SYMBOL_WIDEST[X],H=9-te,Ve=yr.getRSSvalue(_,te,!0),Pe=yr.getRSSvalue(E,H,!1);return new Ji(Ve*V.EVEN_TOTAL_SUBSET[X]+Pe+V.GSUM[X],B)}static isNotA1left(o,a,l){return!(0==o.getValue()&&a&&l)}adjustOddEvenCounts(o){let a=Ye.sum(new Int32Array(this.getOddCounts())),l=Ye.sum(new Int32Array(this.getEvenCounts())),u=!1,d=!1;a>13?d=!0:a<4&&(u=!0);let f=!1,g=!1;l>13?g=!0:l<4&&(f=!0);let m=a+l-o,_=1==(1&a),E=0==(1&l);if(1==m)if(_){if(E)throw new W;d=!0}else{if(!E)throw new W;g=!0}else if(-1==m)if(_){if(E)throw new W;u=!0}else{if(!E)throw new W;f=!0}else{if(0!=m)throw new W;if(_){if(!E)throw new W;a<l?(u=!0,g=!0):(d=!0,f=!0)}else if(E)throw new W}if(u){if(d)throw new W;V.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&V.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(g)throw new W;V.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&V.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}V.SYMBOL_WIDEST=[7,5,4,3,1],V.EVEN_TOTAL_SUBSET=[4,20,52,104,204],V.GSUM=[0,348,1388,2948,3988],V.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],V.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],V.FINDER_PAT_A=0,V.FINDER_PAT_B=1,V.FINDER_PAT_C=2,V.FINDER_PAT_D=3,V.FINDER_PAT_E=4,V.FINDER_PAT_F=5,V.FINDER_PATTERN_SEQUENCES=[[V.FINDER_PAT_A,V.FINDER_PAT_A],[V.FINDER_PAT_A,V.FINDER_PAT_B,V.FINDER_PAT_B],[V.FINDER_PAT_A,V.FINDER_PAT_C,V.FINDER_PAT_B,V.FINDER_PAT_D],[V.FINDER_PAT_A,V.FINDER_PAT_E,V.FINDER_PAT_B,V.FINDER_PAT_D,V.FINDER_PAT_C],[V.FINDER_PAT_A,V.FINDER_PAT_E,V.FINDER_PAT_B,V.FINDER_PAT_D,V.FINDER_PAT_D,V.FINDER_PAT_F],[V.FINDER_PAT_A,V.FINDER_PAT_E,V.FINDER_PAT_B,V.FINDER_PAT_D,V.FINDER_PAT_E,V.FINDER_PAT_F,V.FINDER_PAT_F],[V.FINDER_PAT_A,V.FINDER_PAT_A,V.FINDER_PAT_B,V.FINDER_PAT_B,V.FINDER_PAT_C,V.FINDER_PAT_C,V.FINDER_PAT_D,V.FINDER_PAT_D],[V.FINDER_PAT_A,V.FINDER_PAT_A,V.FINDER_PAT_B,V.FINDER_PAT_B,V.FINDER_PAT_C,V.FINDER_PAT_C,V.FINDER_PAT_D,V.FINDER_PAT_E,V.FINDER_PAT_E],[V.FINDER_PAT_A,V.FINDER_PAT_A,V.FINDER_PAT_B,V.FINDER_PAT_B,V.FINDER_PAT_C,V.FINDER_PAT_C,V.FINDER_PAT_D,V.FINDER_PAT_E,V.FINDER_PAT_F,V.FINDER_PAT_F],[V.FINDER_PAT_A,V.FINDER_PAT_A,V.FINDER_PAT_B,V.FINDER_PAT_B,V.FINDER_PAT_C,V.FINDER_PAT_D,V.FINDER_PAT_D,V.FINDER_PAT_E,V.FINDER_PAT_E,V.FINDER_PAT_F,V.FINDER_PAT_F]],V.MAX_PAIRS=11;class fc extends Ji{constructor(o,a,l){super(o,a),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class lt extends Si{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(o,a,l){const u=this.decodePair(a,!1,o,l);lt.addOrTally(this.possibleLeftPairs,u),a.reverse();let d=this.decodePair(a,!0,o,l);lt.addOrTally(this.possibleRightPairs,d),a.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1)for(let g of this.possibleRightPairs)if(g.getCount()>1&&lt.checkChecksum(f,g))return lt.constructResult(f,g);throw new W}static addOrTally(o,a){if(null==a)return;let l=!1;for(let u of o)if(u.getValue()===a.getValue()){u.incrementCount(),l=!0;break}l||o.push(a)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(o,a){let l=4537077*o.getValue()+a.getValue(),u=new String(l).toString(),d=new nt;for(let _=13-u.length;_>0;_--)d.append("0");d.append(u);let f=0;for(let _=0;_<13;_++){let E=d.charAt(_).charCodeAt(0)-"0".charCodeAt(0);f+=0==(1&_)?3*E:E}f=10-f%10,10===f&&(f=0),d.append(f.toString());let g=o.getFinderPattern().getResultPoints(),m=a.getFinderPattern().getResultPoints();return new cn(d.toString(),null,0,[g[0],g[1],m[0],m[1]],ne.RSS_14,(new Date).getTime())}static checkChecksum(o,a){let l=(o.getChecksumPortion()+16*a.getChecksumPortion())%79,u=9*o.getFinderPattern().getValue()+a.getFinderPattern().getValue();return u>72&&u--,u>8&&u--,l===u}decodePair(o,a,l,u){try{let d=this.findFinderPattern(o,a),f=this.parseFoundFinderPattern(o,l,a,d),g=null==u?null:u.get(xt.NEED_RESULT_POINT_CALLBACK);if(null!=g){let E=(d[0]+d[1])/2;a&&(E=o.getSize()-1-E),g.foundPossibleResultPoint(new fe(E,l))}let m=this.decodeDataCharacter(o,f,!0),_=this.decodeDataCharacter(o,f,!1);return new fc(1597*m.getValue()+_.getValue(),m.getChecksumPortion()+4*_.getChecksumPortion(),f)}catch(d){return null}}decodeDataCharacter(o,a,l){let u=this.getDataCharacterCounters();for(let P=0;P<u.length;P++)u[P]=0;if(l)jt.recordPatternInReverse(o,a.getStartEnd()[0],u);else{jt.recordPattern(o,a.getStartEnd()[1]+1,u);for(let P=0,B=u.length-1;P<B;P++,B--){let X=u[P];u[P]=u[B],u[B]=X}}let d=l?16:15,f=Ye.sum(new Int32Array(u))/d,g=this.getOddCounts(),m=this.getEvenCounts(),_=this.getOddRoundingErrors(),E=this.getEvenRoundingErrors();for(let P=0;P<u.length;P++){let B=u[P]/f,X=Math.floor(B+.5);X<1?X=1:X>8&&(X=8);let te=Math.floor(P/2);0==(1&P)?(g[te]=X,_[te]=B-X):(m[te]=X,E[te]=B-X)}this.adjustOddEvenCounts(l,d);let x=0,D=0;for(let P=g.length-1;P>=0;P--)D*=9,D+=g[P],x+=g[P];let T=0,R=0;for(let P=m.length-1;P>=0;P--)T*=9,T+=m[P],R+=m[P];let N=D+3*T;if(l){if(0!=(1&x)||x>12||x<4)throw new W;let P=(12-x)/2,B=lt.OUTSIDE_ODD_WIDEST[P],X=9-B,te=yr.getRSSvalue(g,B,!1),H=yr.getRSSvalue(m,X,!0);return new Ji(te*lt.OUTSIDE_EVEN_TOTAL_SUBSET[P]+H+lt.OUTSIDE_GSUM[P],N)}{if(0!=(1&R)||R>10||R<4)throw new W;let P=(10-R)/2,B=lt.INSIDE_ODD_WIDEST[P],X=9-B,te=yr.getRSSvalue(g,B,!0),H=yr.getRSSvalue(m,X,!1);return new Ji(H*lt.INSIDE_ODD_TOTAL_SUBSET[P]+te+lt.INSIDE_GSUM[P],N)}}findFinderPattern(o,a){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=o.getSize(),d=!1,f=0;for(;f<u&&(d=!o.get(f),a!==d);)f++;let g=0,m=f;for(let _=f;_<u;_++)if(o.get(_)!==d)l[g]++;else{if(3===g){if(Si.isFinderPattern(l))return[m,_];m+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,g--}else g++;l[g]=1,d=!d}throw new W}parseFoundFinderPattern(o,a,l,u){let d=o.get(u[0]),f=u[0]-1;for(;f>=0&&d!==o.get(f);)f--;f++;const g=u[0]-f,m=this.getDecodeFinderCounters(),_=new Int32Array(m.length);tt.arraycopy(m,0,_,1,m.length-1),_[0]=g;const E=this.parseFinderValue(_,lt.FINDER_PATTERNS);let x=f,D=u[1];return l&&(x=o.getSize()-1-x,D=o.getSize()-1-D),new Es(E,[f,u[1]],x,D,a)}adjustOddEvenCounts(o,a){let l=Ye.sum(new Int32Array(this.getOddCounts())),u=Ye.sum(new Int32Array(this.getEvenCounts())),d=!1,f=!1,g=!1,m=!1;o?(l>12?f=!0:l<4&&(d=!0),u>12?m=!0:u<4&&(g=!0)):(l>11?f=!0:l<5&&(d=!0),u>10?m=!0:u<4&&(g=!0));let _=l+u-a,E=(1&l)==(o?1:0),x=1==(1&u);if(1===_)if(E){if(x)throw new W;f=!0}else{if(!x)throw new W;m=!0}else if(-1===_)if(E){if(x)throw new W;d=!0}else{if(!x)throw new W;g=!0}else{if(0!==_)throw new W;if(E){if(!x)throw new W;l<u?(d=!0,m=!0):(f=!0,g=!0)}else if(x)throw new W}if(d){if(f)throw new W;Si.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&Si.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(m)throw new W;Si.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&Si.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}lt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],lt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],lt.OUTSIDE_GSUM=[0,161,961,2015,2715],lt.INSIDE_GSUM=[0,336,1036,1516],lt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],lt.INSIDE_ODD_WIDEST=[2,4,6,8],lt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ii extends jt{constructor(o,a){super(),this.readers=[],this.verbose=!0===a;const l=o?o.get(xt.POSSIBLE_FORMATS):null,u=o&&void 0!==o.get(xt.ASSUME_CODE_39_CHECK_DIGIT);l&&((l.includes(ne.EAN_13)||l.includes(ne.UPC_A)||l.includes(ne.EAN_8)||l.includes(ne.UPC_E))&&this.readers.push(new La(o)),l.includes(ne.CODE_39)&&this.readers.push(new ao(u)),l.includes(ne.CODE_128)&&this.readers.push(new Q),l.includes(ne.ITF)&&this.readers.push(new dt),l.includes(ne.RSS_14)&&this.readers.push(new lt),l.includes(ne.RSS_EXPANDED)&&this.readers.push(new V(this.verbose))),0===this.readers.length&&(this.readers.push(new La(o)),this.readers.push(new ao),this.readers.push(new La(o)),this.readers.push(new Q),this.readers.push(new dt),this.readers.push(new lt),this.readers.push(new V(this.verbose)))}decodeRow(o,a,l){for(let u=0;u<this.readers.length;u++)try{return this.readers[u].decodeRow(o,a,l)}catch(d){}throw new W}reset(){this.readers.forEach(o=>o.reset())}}class me{constructor(o,a,l){this.ecCodewords=o,this.ecBlocks=[a],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ke{constructor(o,a){this.count=o,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ie{constructor(o,a,l,u,d,f){this.versionNumber=o,this.symbolSizeRows=a,this.symbolSizeColumns=l,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=d,this.ecBlocks=f;let g=0;const m=f.getECCodewords(),_=f.getECBlocks();for(let E of _)g+=E.getCount()*(E.getDataCodewords()+m);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(o,a){if(0!=(1&o)||0!=(1&a))throw new J;for(let l of ie.VERSIONS)if(l.symbolSizeRows===o&&l.symbolSizeColumns===a)return l;throw new J}toString(){return""+this.versionNumber}static buildVersions(){return[new ie(1,10,10,8,8,new me(5,new Ke(1,3))),new ie(2,12,12,10,10,new me(7,new Ke(1,5))),new ie(3,14,14,12,12,new me(10,new Ke(1,8))),new ie(4,16,16,14,14,new me(12,new Ke(1,12))),new ie(5,18,18,16,16,new me(14,new Ke(1,18))),new ie(6,20,20,18,18,new me(18,new Ke(1,22))),new ie(7,22,22,20,20,new me(20,new Ke(1,30))),new ie(8,24,24,22,22,new me(24,new Ke(1,36))),new ie(9,26,26,24,24,new me(28,new Ke(1,44))),new ie(10,32,32,14,14,new me(36,new Ke(1,62))),new ie(11,36,36,16,16,new me(42,new Ke(1,86))),new ie(12,40,40,18,18,new me(48,new Ke(1,114))),new ie(13,44,44,20,20,new me(56,new Ke(1,144))),new ie(14,48,48,22,22,new me(68,new Ke(1,174))),new ie(15,52,52,24,24,new me(42,new Ke(2,102))),new ie(16,64,64,14,14,new me(56,new Ke(2,140))),new ie(17,72,72,16,16,new me(36,new Ke(4,92))),new ie(18,80,80,18,18,new me(48,new Ke(4,114))),new ie(19,88,88,20,20,new me(56,new Ke(4,144))),new ie(20,96,96,22,22,new me(68,new Ke(4,174))),new ie(21,104,104,24,24,new me(56,new Ke(6,136))),new ie(22,120,120,18,18,new me(68,new Ke(6,175))),new ie(23,132,132,20,20,new me(62,new Ke(8,163))),new ie(24,144,144,22,22,new me(62,new Ke(8,156),new Ke(2,155))),new ie(25,8,18,6,16,new me(7,new Ke(1,5))),new ie(26,8,32,6,14,new me(11,new Ke(1,10))),new ie(27,12,26,10,24,new me(14,new Ke(1,16))),new ie(28,12,36,10,16,new me(18,new Ke(1,22))),new ie(29,16,36,14,16,new me(24,new Ke(1,32))),new ie(30,16,48,14,22,new me(28,new Ke(1,49)))]}}ie.VERSIONS=ie.buildVersions();class xs{constructor(o){const a=o.getHeight();if(a<8||a>144||0!=(1&a))throw new J;this.version=xs.readVersion(o),this.mappingBitMatrix=this.extractDataRegion(o),this.readMappingMatrix=new wt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(o){const a=o.getHeight(),l=o.getWidth();return ie.getVersionForDimensions(a,l)}readCodewords(){const o=new Int8Array(this.version.getTotalCodewords());let a=0,l=4,u=0;const d=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let g=!1,m=!1,_=!1,E=!1;do{if(l!==d||0!==u||g)if(l!==d-2||0!==u||0==(3&f)||m)if(l!==d+4||2!==u||0!=(7&f)||_)if(l!==d-2||0!==u||4!=(7&f)||E){do{l<d&&u>=0&&!this.readMappingMatrix.get(u,l)&&(o[a++]=255&this.readUtah(l,u,d,f)),l-=2,u+=2}while(l>=0&&u<f);l+=1,u+=3;do{l>=0&&u<f&&!this.readMappingMatrix.get(u,l)&&(o[a++]=255&this.readUtah(l,u,d,f)),l+=2,u-=2}while(l<d&&u>=0);l+=3,u+=1}else o[a++]=255&this.readCorner4(d,f),l-=2,u+=2,E=!0;else o[a++]=255&this.readCorner3(d,f),l-=2,u+=2,_=!0;else o[a++]=255&this.readCorner2(d,f),l-=2,u+=2,m=!0;else o[a++]=255&this.readCorner1(d,f),l-=2,u+=2,g=!0}while(l<d||u<f);if(a!==this.version.getTotalCodewords())throw new J;return o}readModule(o,a,l,u){return o<0&&(o+=l,a+=4-(l+4&7)),a<0&&(a+=u,o+=4-(u+4&7)),this.readMappingMatrix.set(a,o),this.mappingBitMatrix.get(a,o)}readUtah(o,a,l,u){let d=0;return this.readModule(o-2,a-2,l,u)&&(d|=1),d<<=1,this.readModule(o-2,a-1,l,u)&&(d|=1),d<<=1,this.readModule(o-1,a-2,l,u)&&(d|=1),d<<=1,this.readModule(o-1,a-1,l,u)&&(d|=1),d<<=1,this.readModule(o-1,a,l,u)&&(d|=1),d<<=1,this.readModule(o,a-2,l,u)&&(d|=1),d<<=1,this.readModule(o,a-1,l,u)&&(d|=1),d<<=1,this.readModule(o,a,l,u)&&(d|=1),d}readCorner1(o,a){let l=0;return this.readModule(o-1,0,o,a)&&(l|=1),l<<=1,this.readModule(o-1,1,o,a)&&(l|=1),l<<=1,this.readModule(o-1,2,o,a)&&(l|=1),l<<=1,this.readModule(0,a-2,o,a)&&(l|=1),l<<=1,this.readModule(0,a-1,o,a)&&(l|=1),l<<=1,this.readModule(1,a-1,o,a)&&(l|=1),l<<=1,this.readModule(2,a-1,o,a)&&(l|=1),l<<=1,this.readModule(3,a-1,o,a)&&(l|=1),l}readCorner2(o,a){let l=0;return this.readModule(o-3,0,o,a)&&(l|=1),l<<=1,this.readModule(o-2,0,o,a)&&(l|=1),l<<=1,this.readModule(o-1,0,o,a)&&(l|=1),l<<=1,this.readModule(0,a-4,o,a)&&(l|=1),l<<=1,this.readModule(0,a-3,o,a)&&(l|=1),l<<=1,this.readModule(0,a-2,o,a)&&(l|=1),l<<=1,this.readModule(0,a-1,o,a)&&(l|=1),l<<=1,this.readModule(1,a-1,o,a)&&(l|=1),l}readCorner3(o,a){let l=0;return this.readModule(o-1,0,o,a)&&(l|=1),l<<=1,this.readModule(o-1,a-1,o,a)&&(l|=1),l<<=1,this.readModule(0,a-3,o,a)&&(l|=1),l<<=1,this.readModule(0,a-2,o,a)&&(l|=1),l<<=1,this.readModule(0,a-1,o,a)&&(l|=1),l<<=1,this.readModule(1,a-3,o,a)&&(l|=1),l<<=1,this.readModule(1,a-2,o,a)&&(l|=1),l<<=1,this.readModule(1,a-1,o,a)&&(l|=1),l}readCorner4(o,a){let l=0;return this.readModule(o-3,0,o,a)&&(l|=1),l<<=1,this.readModule(o-2,0,o,a)&&(l|=1),l<<=1,this.readModule(o-1,0,o,a)&&(l|=1),l<<=1,this.readModule(0,a-2,o,a)&&(l|=1),l<<=1,this.readModule(0,a-1,o,a)&&(l|=1),l<<=1,this.readModule(1,a-1,o,a)&&(l|=1),l<<=1,this.readModule(2,a-1,o,a)&&(l|=1),l<<=1,this.readModule(3,a-1,o,a)&&(l|=1),l}extractDataRegion(o){const a=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(o.getHeight()!==a)throw new he("Dimension of bitMatrix must match the version size");const u=this.version.getDataRegionSizeRows(),d=this.version.getDataRegionSizeColumns(),f=a/u|0,g=l/d|0,E=new wt(g*d,f*u);for(let x=0;x<f;++x){const D=x*u;for(let T=0;T<g;++T){const R=T*d;for(let N=0;N<u;++N){const P=x*(u+2)+1+N,B=D+N;for(let X=0;X<d;++X)o.get(T*(d+2)+1+X,P)&&E.set(R+X,B)}}}return E}}class za{constructor(o,a){this.numDataCodewords=o,this.codewords=a}static getDataBlocks(o,a){const l=a.getECBlocks();let u=0;const d=l.getECBlocks();for(let N of d)u+=N.getCount();const f=new Array(u);let g=0;for(let N of d)for(let P=0;P<N.getCount();P++){const B=N.getDataCodewords(),X=l.getECCodewords()+B;f[g++]=new za(B,new Uint8Array(X))}const _=f[0].codewords.length-l.getECCodewords(),E=_-1;let x=0;for(let N=0;N<E;N++)for(let P=0;P<g;P++)f[P].codewords[N]=o[x++];const D=24===a.getVersionNumber(),T=D?8:g;for(let N=0;N<T;N++)f[N].codewords[_-1]=o[x++];const R=f[0].codewords.length;for(let N=_;N<R;N++)for(let P=0;P<g;P++){const B=D?(P+8)%g:P;f[B].codewords[D&&B>7?N-1:N]=o[x++]}if(x!==o.length)throw new he;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class bs{constructor(o){this.bytes=o,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(o){if(o<1||o>32||o>this.available())throw new he(""+o);let a=0,l=this.bitOffset,u=this.byteOffset;const d=this.bytes;if(l>0){const f=8-l,g=o<f?o:f,m=f-g;a=(d[u]&255>>8-g<<m)>>m,o-=g,l+=g,8===l&&(l=0,u++)}if(o>0){for(;o>=8;)a=a<<8|255&d[u],u++,o-=8;if(o>0){const f=8-o;a=a<<o|(d[u]&255>>f<<f)>>f,l+=o}}return this.bitOffset=l,this.byteOffset=u,a}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var pe=(()=>{return(w=pe||(pe={}))[w.PAD_ENCODE=0]="PAD_ENCODE",w[w.ASCII_ENCODE=1]="ASCII_ENCODE",w[w.C40_ENCODE=2]="C40_ENCODE",w[w.TEXT_ENCODE=3]="TEXT_ENCODE",w[w.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",w[w.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",w[w.BASE256_ENCODE=6]="BASE256_ENCODE",pe;var w})();class Lr{static decode(o){const a=new bs(o),l=new nt,u=new nt,d=new Array;let f=pe.ASCII_ENCODE;do{if(f===pe.ASCII_ENCODE)f=this.decodeAsciiSegment(a,l,u);else{switch(f){case pe.C40_ENCODE:this.decodeC40Segment(a,l);break;case pe.TEXT_ENCODE:this.decodeTextSegment(a,l);break;case pe.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,l);break;case pe.EDIFACT_ENCODE:this.decodeEdifactSegment(a,l);break;case pe.BASE256_ENCODE:this.decodeBase256Segment(a,l,d);break;default:throw new J}f=pe.ASCII_ENCODE}}while(f!==pe.PAD_ENCODE&&a.available()>0);return u.length()>0&&l.append(u.toString()),new ro(o,l.toString(),0===d.length?null:d,null)}static decodeAsciiSegment(o,a,l){let u=!1;do{let d=o.readBits(8);if(0===d)throw new J;if(d<=128)return u&&(d+=128),a.append(String.fromCharCode(d-1)),pe.ASCII_ENCODE;if(129===d)return pe.PAD_ENCODE;if(d<=229){const f=d-130;f<10&&a.append("0"),a.append(""+f)}else switch(d){case 230:return pe.C40_ENCODE;case 231:return pe.BASE256_ENCODE;case 232:a.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:u=!0;break;case 236:a.append("[)>\x1e05\x1d"),l.insert(0,"\x1e\x04");break;case 237:a.append("[)>\x1e06\x1d"),l.insert(0,"\x1e\x04");break;case 238:return pe.ANSIX12_ENCODE;case 239:return pe.TEXT_ENCODE;case 240:return pe.EDIFACT_ENCODE;default:if(254!==d||0!==o.available())throw new J}}while(o.available()>0);return pe.ASCII_ENCODE}static decodeC40Segment(o,a){let l=!1;const u=[];let d=0;do{if(8===o.available())return;const f=o.readBits(8);if(254===f)return;this.parseTwoBytes(f,o.readBits(8),u);for(let g=0;g<3;g++){const m=u[g];switch(d){case 0:if(m<3)d=m+1;else{if(!(m<this.C40_BASIC_SET_CHARS.length))throw new J;{const _=this.C40_BASIC_SET_CHARS[m];l?(a.append(String.fromCharCode(_.charCodeAt(0)+128)),l=!1):a.append(_)}}break;case 1:l?(a.append(String.fromCharCode(m+128)),l=!1):a.append(String.fromCharCode(m)),d=0;break;case 2:if(m<this.C40_SHIFT2_SET_CHARS.length){const _=this.C40_SHIFT2_SET_CHARS[m];l?(a.append(String.fromCharCode(_.charCodeAt(0)+128)),l=!1):a.append(_)}else switch(m){case 27:a.append(String.fromCharCode(29));break;case 30:l=!0;break;default:throw new J}d=0;break;case 3:l?(a.append(String.fromCharCode(m+224)),l=!1):a.append(String.fromCharCode(m+96)),d=0;break;default:throw new J}}}while(o.available()>0)}static decodeTextSegment(o,a){let l=!1,u=[],d=0;do{if(8===o.available())return;const f=o.readBits(8);if(254===f)return;this.parseTwoBytes(f,o.readBits(8),u);for(let g=0;g<3;g++){const m=u[g];switch(d){case 0:if(m<3)d=m+1;else{if(!(m<this.TEXT_BASIC_SET_CHARS.length))throw new J;{const _=this.TEXT_BASIC_SET_CHARS[m];l?(a.append(String.fromCharCode(_.charCodeAt(0)+128)),l=!1):a.append(_)}}break;case 1:l?(a.append(String.fromCharCode(m+128)),l=!1):a.append(String.fromCharCode(m)),d=0;break;case 2:if(m<this.TEXT_SHIFT2_SET_CHARS.length){const _=this.TEXT_SHIFT2_SET_CHARS[m];l?(a.append(String.fromCharCode(_.charCodeAt(0)+128)),l=!1):a.append(_)}else switch(m){case 27:a.append(String.fromCharCode(29));break;case 30:l=!0;break;default:throw new J}d=0;break;case 3:if(!(m<this.TEXT_SHIFT3_SET_CHARS.length))throw new J;{const _=this.TEXT_SHIFT3_SET_CHARS[m];l?(a.append(String.fromCharCode(_.charCodeAt(0)+128)),l=!1):a.append(_),d=0}break;default:throw new J}}}while(o.available()>0)}static decodeAnsiX12Segment(o,a){const l=[];do{if(8===o.available())return;const u=o.readBits(8);if(254===u)return;this.parseTwoBytes(u,o.readBits(8),l);for(let d=0;d<3;d++){const f=l[d];switch(f){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(f<14)a.append(String.fromCharCode(f+44));else{if(!(f<40))throw new J;a.append(String.fromCharCode(f+51))}}}}while(o.available()>0)}static parseTwoBytes(o,a,l){let u=(o<<8)+a-1,d=Math.floor(u/1600);l[0]=d,u-=1600*d,d=Math.floor(u/40),l[1]=d,l[2]=u-40*d}static decodeEdifactSegment(o,a){do{if(o.available()<=16)return;for(let l=0;l<4;l++){let u=o.readBits(6);if(31===u){const d=8-o.getBitOffset();return void(8!==d&&o.readBits(d))}0==(32&u)&&(u|=64),a.append(String.fromCharCode(u))}}while(o.available()>0)}static decodeBase256Segment(o,a,l){let u=1+o.getByteOffset();const d=this.unrandomize255State(o.readBits(8),u++);let f;if(f=0===d?o.available()/8|0:d<250?d:250*(d-249)+this.unrandomize255State(o.readBits(8),u++),f<0)throw new J;const g=new Uint8Array(f);for(let m=0;m<f;m++){if(o.available()<8)throw new J;g[m]=this.unrandomize255State(o.readBits(8),u++)}l.push(g);try{a.append(ln.decode(g,Se.ISO88591))}catch(m){throw new Fr("Platform does not support required encoding: "+m.message)}}static unrandomize255State(o,a){const u=o-(149*a%255+1);return u>=0?u:u+256}}Lr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Lr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Lr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Lr.TEXT_SHIFT2_SET_CHARS=Lr.C40_SHIFT2_SET_CHARS,Lr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class n0{constructor(){this.rsDecoder=new so(st.DATA_MATRIX_FIELD_256)}decode(o){const a=new xs(o),l=a.getVersion(),u=a.readCodewords(),d=za.getDataBlocks(u,l);let f=0;for(let _ of d)f+=_.getNumDataCodewords();const g=new Uint8Array(f),m=d.length;for(let _=0;_<m;_++){const E=d[_],x=E.getCodewords(),D=E.getNumDataCodewords();this.correctErrors(x,D);for(let T=0;T<D;T++)g[T*m+_]=x[T]}return Lr.decode(g)}correctErrors(o,a){const l=new Int32Array(o);try{this.rsDecoder.decode(l,o.length-a)}catch(u){throw new St}for(let u=0;u<a;u++)o[u]=l[u]}}class Ze{constructor(o){this.image=o,this.rectangleDetector=new gr(this.image)}detect(){const o=this.rectangleDetector.detect();let a=this.detectSolid1(o);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new W;a=this.shiftToModuleCenter(a);const l=a[0],u=a[1],d=a[2],f=a[3];let g=this.transitionsBetween(l,f)+1,m=this.transitionsBetween(d,f)+1;1==(1&g)&&(g+=1),1==(1&m)&&(m+=1),4*g<7*m&&4*m<7*g&&(g=m=Math.max(g,m));let _=Ze.sampleGrid(this.image,l,u,d,f,g,m);return new Ra(_,[l,u,d,f])}static shiftPoint(o,a,l){let u=(a.getX()-o.getX())/(l+1),d=(a.getY()-o.getY())/(l+1);return new fe(o.getX()+u,o.getY()+d)}static moveAway(o,a,l){let u=o.getX(),d=o.getY();return u<a?u-=1:u+=1,d<l?d-=1:d+=1,new fe(u,d)}detectSolid1(o){let a=o[0],l=o[1],u=o[3],d=o[2],f=this.transitionsBetween(a,l),g=this.transitionsBetween(l,u),m=this.transitionsBetween(u,d),_=this.transitionsBetween(d,a),E=f,x=[d,a,l,u];return E>g&&(E=g,x[0]=a,x[1]=l,x[2]=u,x[3]=d),E>m&&(E=m,x[0]=l,x[1]=u,x[2]=d,x[3]=a),E>_&&(x[0]=u,x[1]=d,x[2]=a,x[3]=l),x}detectSolid2(o){let a=o[0],l=o[1],u=o[2],d=o[3],f=this.transitionsBetween(a,d),g=Ze.shiftPoint(l,u,4*(f+1)),m=Ze.shiftPoint(u,l,4*(f+1));return this.transitionsBetween(g,a)<this.transitionsBetween(m,d)?(o[0]=a,o[1]=l,o[2]=u,o[3]=d):(o[0]=l,o[1]=u,o[2]=d,o[3]=a),o}correctTopRight(o){let a=o[0],l=o[1],u=o[2],d=o[3],f=this.transitionsBetween(a,d),g=this.transitionsBetween(l,d),m=Ze.shiftPoint(a,l,4*(g+1)),_=Ze.shiftPoint(u,l,4*(f+1));f=this.transitionsBetween(m,d),g=this.transitionsBetween(_,d);let E=new fe(d.getX()+(u.getX()-l.getX())/(f+1),d.getY()+(u.getY()-l.getY())/(f+1)),x=new fe(d.getX()+(a.getX()-l.getX())/(g+1),d.getY()+(a.getY()-l.getY())/(g+1));return this.isValid(E)?this.isValid(x)?this.transitionsBetween(m,E)+this.transitionsBetween(_,E)>this.transitionsBetween(m,x)+this.transitionsBetween(_,x)?E:x:E:this.isValid(x)?x:null}shiftToModuleCenter(o){let a=o[0],l=o[1],u=o[2],d=o[3],f=this.transitionsBetween(a,d)+1,g=this.transitionsBetween(u,d)+1,m=Ze.shiftPoint(a,l,4*g),_=Ze.shiftPoint(u,l,4*f);f=this.transitionsBetween(m,d)+1,g=this.transitionsBetween(_,d)+1,1==(1&f)&&(f+=1),1==(1&g)&&(g+=1);let D,T,E=(a.getX()+l.getX()+u.getX()+d.getX())/4,x=(a.getY()+l.getY()+u.getY()+d.getY())/4;return a=Ze.moveAway(a,E,x),l=Ze.moveAway(l,E,x),u=Ze.moveAway(u,E,x),d=Ze.moveAway(d,E,x),m=Ze.shiftPoint(a,l,4*g),m=Ze.shiftPoint(m,d,4*f),D=Ze.shiftPoint(l,a,4*g),D=Ze.shiftPoint(D,u,4*f),_=Ze.shiftPoint(u,d,4*g),_=Ze.shiftPoint(_,l,4*f),T=Ze.shiftPoint(d,u,4*g),T=Ze.shiftPoint(T,a,4*f),[m,D,_,T]}isValid(o){return o.getX()>=0&&o.getX()<this.image.getWidth()&&o.getY()>0&&o.getY()<this.image.getHeight()}static sampleGrid(o,a,l,u,d,f,g){return Di.getInstance().sampleGrid(o,f,g,.5,.5,f-.5,.5,f-.5,g-.5,.5,g-.5,a.getX(),a.getY(),d.getX(),d.getY(),u.getX(),u.getY(),l.getX(),l.getY())}transitionsBetween(o,a){let l=Math.trunc(o.getX()),u=Math.trunc(o.getY()),d=Math.trunc(a.getX()),f=Math.trunc(a.getY()),g=Math.abs(f-u)>Math.abs(d-l);if(g){let N=l;l=u,u=N,N=d,d=f,f=N}let m=Math.abs(d-l),_=Math.abs(f-u),E=-m/2,x=u<f?1:-1,D=l<d?1:-1,T=0,R=this.image.get(g?u:l,g?l:u);for(let N=l,P=u;N!==d;N+=D){let B=this.image.get(g?P:N,g?N:P);if(B!==R&&(T++,R=B),E+=_,E>0){if(P===f)break;P+=x,E-=m}}return T}}let ts=(()=>{class w{constructor(){this.decoder=new n0}decode(a,l=null){let u,d;if(null!=l&&l.has(xt.PURE_BARCODE)){const E=w.extractPureBits(a.getBlackMatrix());u=this.decoder.decode(E),d=w.NO_POINTS}else{const E=new Ze(a.getBlackMatrix()).detect();u=this.decoder.decode(E.getBits()),d=E.getPoints()}const f=u.getRawBytes(),g=new cn(u.getText(),f,8*f.length,d,ne.DATA_MATRIX,tt.currentTimeMillis()),m=u.getByteSegments();null!=m&&g.putMetadata(Ot.BYTE_SEGMENTS,m);const _=u.getECLevel();return null!=_&&g.putMetadata(Ot.ERROR_CORRECTION_LEVEL,_),g}reset(){}static extractPureBits(a){const l=a.getTopLeftOnBit(),u=a.getBottomRightOnBit();if(null==l||null==u)throw new W;const d=this.moduleSize(l,a);let f=l[1],m=l[0];const E=(u[0]-m+1)/d,x=(u[1]-f+1)/d;if(E<=0||x<=0)throw new W;const D=d/2;f+=D,m+=D;const T=new wt(E,x);for(let R=0;R<x;R++){const N=f+R*d;for(let P=0;P<E;P++)a.get(m+P*d,N)&&T.set(P,R)}return T}static moduleSize(a,l){const u=l.getWidth();let d=a[0];const f=a[1];for(;d<u&&l.get(d,f);)d++;if(d===u)throw new W;const g=d-a[0];if(0===g)throw new W;return g}}return w.NO_POINTS=[],w})();var It=(()=>{return(w=It||(It={}))[w.L=0]="L",w[w.M=1]="M",w[w.Q=2]="Q",w[w.H=3]="H",It;var w})();class pt{constructor(o,a,l){this.value=o,this.stringValue=a,this.bits=l,pt.FOR_BITS.set(l,this),pt.FOR_VALUE.set(o,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(o){switch(o){case"L":return pt.L;case"M":return pt.M;case"Q":return pt.Q;case"H":return pt.H;default:throw new Mn(o+"not available")}}toString(){return this.stringValue}equals(o){return o instanceof pt&&this.value===o.value}static forBits(o){if(o<0||o>=pt.FOR_BITS.size)throw new he;return pt.FOR_BITS.get(o)}}pt.FOR_BITS=new Map,pt.FOR_VALUE=new Map,pt.L=new pt(It.L,"L",1),pt.M=new pt(It.M,"M",0),pt.Q=new pt(It.Q,"Q",3),pt.H=new pt(It.H,"H",2);class yn{constructor(o){this.errorCorrectionLevel=pt.forBits(o>>3&3),this.dataMask=7&o}static numBitsDiffering(o,a){return Oe.bitCount(o^a)}static decodeFormatInformation(o,a){const l=yn.doDecodeFormatInformation(o,a);return null!==l?l:yn.doDecodeFormatInformation(o^yn.FORMAT_INFO_MASK_QR,a^yn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(o,a){let l=Number.MAX_SAFE_INTEGER,u=0;for(const d of yn.FORMAT_INFO_DECODE_LOOKUP){const f=d[0];if(f===o||f===a)return new yn(d[1]);let g=yn.numBitsDiffering(o,f);g<l&&(u=d[1],l=g),o!==a&&(g=yn.numBitsDiffering(a,f),g<l&&(u=d[1],l=g))}return l<=3?new yn(u):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(o){return o instanceof yn&&this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}yn.FORMAT_INFO_MASK_QR=21522,yn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class F{constructor(o,...a){this.ecCodewordsPerBlock=o,this.ecBlocks=a}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let o=0;const a=this.ecBlocks;for(const l of a)o+=l.getCount();return o}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class I{constructor(o,a){this.count=o,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class se{constructor(o,a,...l){this.versionNumber=o,this.alignmentPatternCenters=a,this.ecBlocks=l;let u=0;const d=l[0].getECCodewordsPerBlock(),f=l[0].getECBlocks();for(const g of f)u+=g.getCount()*(g.getDataCodewords()+d);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(o){return this.ecBlocks[o.getValue()]}static getProvisionalVersionForDimension(o){if(o%4!=1)throw new J;try{return this.getVersionForNumber((o-17)/4)}catch(a){throw new J}}static getVersionForNumber(o){if(o<1||o>40)throw new he;return se.VERSIONS[o-1]}static decodeVersionInformation(o){let a=Number.MAX_SAFE_INTEGER,l=0;for(let u=0;u<se.VERSION_DECODE_INFO.length;u++){const d=se.VERSION_DECODE_INFO[u];if(d===o)return se.getVersionForNumber(u+7);const f=yn.numBitsDiffering(o,d);f<a&&(l=u+7,a=f)}return a<=3?se.getVersionForNumber(l):null}buildFunctionPattern(){const o=this.getDimensionForVersion(),a=new wt(o);a.setRegion(0,0,9,9),a.setRegion(o-8,0,8,9),a.setRegion(0,o-8,9,8);const l=this.alignmentPatternCenters.length;for(let u=0;u<l;u++){const d=this.alignmentPatternCenters[u]-2;for(let f=0;f<l;f++)0===u&&(0===f||f===l-1)||u===l-1&&0===f||a.setRegion(this.alignmentPatternCenters[f]-2,d,5,5)}return a.setRegion(6,9,1,o-17),a.setRegion(9,6,o-17,1),this.versionNumber>6&&(a.setRegion(o-11,0,3,6),a.setRegion(0,o-11,6,3)),a}toString(){return""+this.versionNumber}}se.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),se.VERSIONS=[new se(1,new Int32Array(0),new F(7,new I(1,19)),new F(10,new I(1,16)),new F(13,new I(1,13)),new F(17,new I(1,9))),new se(2,Int32Array.from([6,18]),new F(10,new I(1,34)),new F(16,new I(1,28)),new F(22,new I(1,22)),new F(28,new I(1,16))),new se(3,Int32Array.from([6,22]),new F(15,new I(1,55)),new F(26,new I(1,44)),new F(18,new I(2,17)),new F(22,new I(2,13))),new se(4,Int32Array.from([6,26]),new F(20,new I(1,80)),new F(18,new I(2,32)),new F(26,new I(2,24)),new F(16,new I(4,9))),new se(5,Int32Array.from([6,30]),new F(26,new I(1,108)),new F(24,new I(2,43)),new F(18,new I(2,15),new I(2,16)),new F(22,new I(2,11),new I(2,12))),new se(6,Int32Array.from([6,34]),new F(18,new I(2,68)),new F(16,new I(4,27)),new F(24,new I(4,19)),new F(28,new I(4,15))),new se(7,Int32Array.from([6,22,38]),new F(20,new I(2,78)),new F(18,new I(4,31)),new F(18,new I(2,14),new I(4,15)),new F(26,new I(4,13),new I(1,14))),new se(8,Int32Array.from([6,24,42]),new F(24,new I(2,97)),new F(22,new I(2,38),new I(2,39)),new F(22,new I(4,18),new I(2,19)),new F(26,new I(4,14),new I(2,15))),new se(9,Int32Array.from([6,26,46]),new F(30,new I(2,116)),new F(22,new I(3,36),new I(2,37)),new F(20,new I(4,16),new I(4,17)),new F(24,new I(4,12),new I(4,13))),new se(10,Int32Array.from([6,28,50]),new F(18,new I(2,68),new I(2,69)),new F(26,new I(4,43),new I(1,44)),new F(24,new I(6,19),new I(2,20)),new F(28,new I(6,15),new I(2,16))),new se(11,Int32Array.from([6,30,54]),new F(20,new I(4,81)),new F(30,new I(1,50),new I(4,51)),new F(28,new I(4,22),new I(4,23)),new F(24,new I(3,12),new I(8,13))),new se(12,Int32Array.from([6,32,58]),new F(24,new I(2,92),new I(2,93)),new F(22,new I(6,36),new I(2,37)),new F(26,new I(4,20),new I(6,21)),new F(28,new I(7,14),new I(4,15))),new se(13,Int32Array.from([6,34,62]),new F(26,new I(4,107)),new F(22,new I(8,37),new I(1,38)),new F(24,new I(8,20),new I(4,21)),new F(22,new I(12,11),new I(4,12))),new se(14,Int32Array.from([6,26,46,66]),new F(30,new I(3,115),new I(1,116)),new F(24,new I(4,40),new I(5,41)),new F(20,new I(11,16),new I(5,17)),new F(24,new I(11,12),new I(5,13))),new se(15,Int32Array.from([6,26,48,70]),new F(22,new I(5,87),new I(1,88)),new F(24,new I(5,41),new I(5,42)),new F(30,new I(5,24),new I(7,25)),new F(24,new I(11,12),new I(7,13))),new se(16,Int32Array.from([6,26,50,74]),new F(24,new I(5,98),new I(1,99)),new F(28,new I(7,45),new I(3,46)),new F(24,new I(15,19),new I(2,20)),new F(30,new I(3,15),new I(13,16))),new se(17,Int32Array.from([6,30,54,78]),new F(28,new I(1,107),new I(5,108)),new F(28,new I(10,46),new I(1,47)),new F(28,new I(1,22),new I(15,23)),new F(28,new I(2,14),new I(17,15))),new se(18,Int32Array.from([6,30,56,82]),new F(30,new I(5,120),new I(1,121)),new F(26,new I(9,43),new I(4,44)),new F(28,new I(17,22),new I(1,23)),new F(28,new I(2,14),new I(19,15))),new se(19,Int32Array.from([6,30,58,86]),new F(28,new I(3,113),new I(4,114)),new F(26,new I(3,44),new I(11,45)),new F(26,new I(17,21),new I(4,22)),new F(26,new I(9,13),new I(16,14))),new se(20,Int32Array.from([6,34,62,90]),new F(28,new I(3,107),new I(5,108)),new F(26,new I(3,41),new I(13,42)),new F(30,new I(15,24),new I(5,25)),new F(28,new I(15,15),new I(10,16))),new se(21,Int32Array.from([6,28,50,72,94]),new F(28,new I(4,116),new I(4,117)),new F(26,new I(17,42)),new F(28,new I(17,22),new I(6,23)),new F(30,new I(19,16),new I(6,17))),new se(22,Int32Array.from([6,26,50,74,98]),new F(28,new I(2,111),new I(7,112)),new F(28,new I(17,46)),new F(30,new I(7,24),new I(16,25)),new F(24,new I(34,13))),new se(23,Int32Array.from([6,30,54,78,102]),new F(30,new I(4,121),new I(5,122)),new F(28,new I(4,47),new I(14,48)),new F(30,new I(11,24),new I(14,25)),new F(30,new I(16,15),new I(14,16))),new se(24,Int32Array.from([6,28,54,80,106]),new F(30,new I(6,117),new I(4,118)),new F(28,new I(6,45),new I(14,46)),new F(30,new I(11,24),new I(16,25)),new F(30,new I(30,16),new I(2,17))),new se(25,Int32Array.from([6,32,58,84,110]),new F(26,new I(8,106),new I(4,107)),new F(28,new I(8,47),new I(13,48)),new F(30,new I(7,24),new I(22,25)),new F(30,new I(22,15),new I(13,16))),new se(26,Int32Array.from([6,30,58,86,114]),new F(28,new I(10,114),new I(2,115)),new F(28,new I(19,46),new I(4,47)),new F(28,new I(28,22),new I(6,23)),new F(30,new I(33,16),new I(4,17))),new se(27,Int32Array.from([6,34,62,90,118]),new F(30,new I(8,122),new I(4,123)),new F(28,new I(22,45),new I(3,46)),new F(30,new I(8,23),new I(26,24)),new F(30,new I(12,15),new I(28,16))),new se(28,Int32Array.from([6,26,50,74,98,122]),new F(30,new I(3,117),new I(10,118)),new F(28,new I(3,45),new I(23,46)),new F(30,new I(4,24),new I(31,25)),new F(30,new I(11,15),new I(31,16))),new se(29,Int32Array.from([6,30,54,78,102,126]),new F(30,new I(7,116),new I(7,117)),new F(28,new I(21,45),new I(7,46)),new F(30,new I(1,23),new I(37,24)),new F(30,new I(19,15),new I(26,16))),new se(30,Int32Array.from([6,26,52,78,104,130]),new F(30,new I(5,115),new I(10,116)),new F(28,new I(19,47),new I(10,48)),new F(30,new I(15,24),new I(25,25)),new F(30,new I(23,15),new I(25,16))),new se(31,Int32Array.from([6,30,56,82,108,134]),new F(30,new I(13,115),new I(3,116)),new F(28,new I(2,46),new I(29,47)),new F(30,new I(42,24),new I(1,25)),new F(30,new I(23,15),new I(28,16))),new se(32,Int32Array.from([6,34,60,86,112,138]),new F(30,new I(17,115)),new F(28,new I(10,46),new I(23,47)),new F(30,new I(10,24),new I(35,25)),new F(30,new I(19,15),new I(35,16))),new se(33,Int32Array.from([6,30,58,86,114,142]),new F(30,new I(17,115),new I(1,116)),new F(28,new I(14,46),new I(21,47)),new F(30,new I(29,24),new I(19,25)),new F(30,new I(11,15),new I(46,16))),new se(34,Int32Array.from([6,34,62,90,118,146]),new F(30,new I(13,115),new I(6,116)),new F(28,new I(14,46),new I(23,47)),new F(30,new I(44,24),new I(7,25)),new F(30,new I(59,16),new I(1,17))),new se(35,Int32Array.from([6,30,54,78,102,126,150]),new F(30,new I(12,121),new I(7,122)),new F(28,new I(12,47),new I(26,48)),new F(30,new I(39,24),new I(14,25)),new F(30,new I(22,15),new I(41,16))),new se(36,Int32Array.from([6,24,50,76,102,128,154]),new F(30,new I(6,121),new I(14,122)),new F(28,new I(6,47),new I(34,48)),new F(30,new I(46,24),new I(10,25)),new F(30,new I(2,15),new I(64,16))),new se(37,Int32Array.from([6,28,54,80,106,132,158]),new F(30,new I(17,122),new I(4,123)),new F(28,new I(29,46),new I(14,47)),new F(30,new I(49,24),new I(10,25)),new F(30,new I(24,15),new I(46,16))),new se(38,Int32Array.from([6,32,58,84,110,136,162]),new F(30,new I(4,122),new I(18,123)),new F(28,new I(13,46),new I(32,47)),new F(30,new I(48,24),new I(14,25)),new F(30,new I(42,15),new I(32,16))),new se(39,Int32Array.from([6,26,54,82,110,138,166]),new F(30,new I(20,117),new I(4,118)),new F(28,new I(40,47),new I(7,48)),new F(30,new I(43,24),new I(22,25)),new F(30,new I(10,15),new I(67,16))),new se(40,Int32Array.from([6,30,58,86,114,142,170]),new F(30,new I(19,118),new I(6,119)),new F(28,new I(18,47),new I(31,48)),new F(30,new I(34,24),new I(34,25)),new F(30,new I(20,15),new I(61,16)))];var Wt=(()=>{return(w=Wt||(Wt={}))[w.DATA_MASK_000=0]="DATA_MASK_000",w[w.DATA_MASK_001=1]="DATA_MASK_001",w[w.DATA_MASK_010=2]="DATA_MASK_010",w[w.DATA_MASK_011=3]="DATA_MASK_011",w[w.DATA_MASK_100=4]="DATA_MASK_100",w[w.DATA_MASK_101=5]="DATA_MASK_101",w[w.DATA_MASK_110=6]="DATA_MASK_110",w[w.DATA_MASK_111=7]="DATA_MASK_111",Wt;var w})();class Yn{constructor(o,a){this.value=o,this.isMasked=a}unmaskBitMatrix(o,a){for(let l=0;l<a;l++)for(let u=0;u<a;u++)this.isMasked(l,u)&&o.flip(u,l)}}Yn.values=new Map([[Wt.DATA_MASK_000,new Yn(Wt.DATA_MASK_000,(w,o)=>0==(w+o&1))],[Wt.DATA_MASK_001,new Yn(Wt.DATA_MASK_001,(w,o)=>0==(1&w))],[Wt.DATA_MASK_010,new Yn(Wt.DATA_MASK_010,(w,o)=>o%3==0)],[Wt.DATA_MASK_011,new Yn(Wt.DATA_MASK_011,(w,o)=>(w+o)%3==0)],[Wt.DATA_MASK_100,new Yn(Wt.DATA_MASK_100,(w,o)=>0==(Math.floor(w/2)+Math.floor(o/3)&1))],[Wt.DATA_MASK_101,new Yn(Wt.DATA_MASK_101,(w,o)=>w*o%6==0)],[Wt.DATA_MASK_110,new Yn(Wt.DATA_MASK_110,(w,o)=>w*o%6<3)],[Wt.DATA_MASK_111,new Yn(Wt.DATA_MASK_111,(w,o)=>0==(w+o+w*o%3&1))]]);class r0{constructor(o){const a=o.getHeight();if(a<21||1!=(3&a))throw new J;this.bitMatrix=o}readFormatInformation(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;let o=0;for(let d=0;d<6;d++)o=this.copyBit(d,8,o);o=this.copyBit(7,8,o),o=this.copyBit(8,8,o),o=this.copyBit(8,7,o);for(let d=5;d>=0;d--)o=this.copyBit(8,d,o);const a=this.bitMatrix.getHeight();let l=0;const u=a-7;for(let d=a-1;d>=u;d--)l=this.copyBit(8,d,l);for(let d=a-8;d<a;d++)l=this.copyBit(d,8,l);if(this.parsedFormatInfo=yn.decodeFormatInformation(o,l),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new J}readVersion(){if(null!=this.parsedVersion)return this.parsedVersion;const o=this.bitMatrix.getHeight(),a=Math.floor((o-17)/4);if(a<=6)return se.getVersionForNumber(a);let l=0;const u=o-11;for(let f=5;f>=0;f--)for(let g=o-9;g>=u;g--)l=this.copyBit(g,f,l);let d=se.decodeVersionInformation(l);if(null!==d&&d.getDimensionForVersion()===o)return this.parsedVersion=d,d;l=0;for(let f=5;f>=0;f--)for(let g=o-9;g>=u;g--)l=this.copyBit(f,g,l);if(d=se.decodeVersionInformation(l),null!==d&&d.getDimensionForVersion()===o)return this.parsedVersion=d,d;throw new J}copyBit(o,a,l){return(this.isMirror?this.bitMatrix.get(a,o):this.bitMatrix.get(o,a))?l<<1|1:l<<1}readCodewords(){const o=this.readFormatInformation(),a=this.readVersion(),l=Yn.values.get(o.getDataMask()),u=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,u);const d=a.buildFunctionPattern();let f=!0;const g=new Uint8Array(a.getTotalCodewords());let m=0,_=0,E=0;for(let x=u-1;x>0;x-=2){6===x&&x--;for(let D=0;D<u;D++){const T=f?u-1-D:D;for(let R=0;R<2;R++)d.get(x-R,T)||(E++,_<<=1,this.bitMatrix.get(x-R,T)&&(_|=1),8===E&&(g[m++]=_,E=0,_=0))}f=!f}if(m!==a.getTotalCodewords())throw new J;return g}remask(){if(null===this.parsedFormatInfo)return;const o=Yn.values[this.parsedFormatInfo.getDataMask()],a=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,a)}setMirror(o){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=o}mirror(){const o=this.bitMatrix;for(let a=0,l=o.getWidth();a<l;a++)for(let u=a+1,d=o.getHeight();u<d;u++)o.get(a,u)!==o.get(u,a)&&(o.flip(u,a),o.flip(a,u))}}class Jn{constructor(o,a){this.numDataCodewords=o,this.codewords=a}static getDataBlocks(o,a,l){if(o.length!==a.getTotalCodewords())throw new he;const u=a.getECBlocksForLevel(l);let d=0;const f=u.getECBlocks();for(const R of f)d+=R.getCount();const g=new Array(d);let m=0;for(const R of f)for(let N=0;N<R.getCount();N++){const P=R.getDataCodewords(),B=u.getECCodewordsPerBlock()+P;g[m++]=new Jn(P,new Uint8Array(B))}const _=g[0].codewords.length;let E=g.length-1;for(;E>=0&&g[E].codewords.length!==_;)E--;E++;const x=_-u.getECCodewordsPerBlock();let D=0;for(let R=0;R<x;R++)for(let N=0;N<m;N++)g[N].codewords[R]=o[D++];for(let R=E;R<m;R++)g[R].codewords[x]=o[D++];const T=g[0].codewords.length;for(let R=x;R<T;R++)for(let N=0;N<m;N++)g[N].codewords[N<E?R:R+1]=o[D++];return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Xn=(()=>{return(w=Xn||(Xn={}))[w.TERMINATOR=0]="TERMINATOR",w[w.NUMERIC=1]="NUMERIC",w[w.ALPHANUMERIC=2]="ALPHANUMERIC",w[w.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",w[w.BYTE=4]="BYTE",w[w.ECI=5]="ECI",w[w.KANJI=6]="KANJI",w[w.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",w[w.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",w[w.HANZI=9]="HANZI",Xn;var w})();class ye{constructor(o,a,l,u){this.value=o,this.stringValue=a,this.characterCountBitsForVersions=l,this.bits=u,ye.FOR_BITS.set(u,this),ye.FOR_VALUE.set(o,this)}static forBits(o){const a=ye.FOR_BITS.get(o);if(void 0===a)throw new he;return a}getCharacterCountBits(o){const a=o.getVersionNumber();let l;return l=a<=9?0:a<=26?1:2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(o){return o instanceof ye&&this.value===o.value}toString(){return this.stringValue}}ye.FOR_BITS=new Map,ye.FOR_VALUE=new Map,ye.TERMINATOR=new ye(Xn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ye.NUMERIC=new ye(Xn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ye.ALPHANUMERIC=new ye(Xn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ye.STRUCTURED_APPEND=new ye(Xn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ye.BYTE=new ye(Xn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ye.ECI=new ye(Xn.ECI,"ECI",Int32Array.from([0,0,0]),7),ye.KANJI=new ye(Xn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ye.FNC1_FIRST_POSITION=new ye(Xn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ye.FNC1_SECOND_POSITION=new ye(Xn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ye.HANZI=new ye(Xn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);let zd=(()=>{class w{static decode(a,l,u,d){const f=new bs(a);let g=new nt;const m=new Array;let _=-1,E=-1;try{let T,x=null,D=!1;do{if(f.available()<4)T=ye.TERMINATOR;else{const R=f.readBits(4);T=ye.forBits(R)}switch(T){case ye.TERMINATOR:break;case ye.FNC1_FIRST_POSITION:case ye.FNC1_SECOND_POSITION:D=!0;break;case ye.STRUCTURED_APPEND:if(f.available()<16)throw new J;_=f.readBits(8),E=f.readBits(8);break;case ye.ECI:const R=w.parseECIValue(f);if(x=q.getCharacterSetECIByValue(R),null===x)throw new J;break;case ye.HANZI:const N=f.readBits(4),P=f.readBits(T.getCharacterCountBits(l));N===w.GB2312_SUBSET&&w.decodeHanziSegment(f,g,P);break;default:const B=f.readBits(T.getCharacterCountBits(l));switch(T){case ye.NUMERIC:w.decodeNumericSegment(f,g,B);break;case ye.ALPHANUMERIC:w.decodeAlphanumericSegment(f,g,B,D);break;case ye.BYTE:w.decodeByteSegment(f,g,B,x,m,d);break;case ye.KANJI:w.decodeKanjiSegment(f,g,B);break;default:throw new J}}}while(T!==ye.TERMINATOR)}catch(x){throw new J}return new ro(a,g.toString(),0===m.length?null:m,null===u?null:u.toString(),_,E)}static decodeHanziSegment(a,l,u){if(13*u>a.available())throw new J;const d=new Uint8Array(2*u);let f=0;for(;u>0;){const g=a.readBits(13);let m=g/96<<8&4294967295|g%96;m+=m<959?41377:42657,d[f]=m>>8&255,d[f+1]=255&m,f+=2,u--}try{l.append(ln.decode(d,Se.GB2312))}catch(g){throw new J(g)}}static decodeKanjiSegment(a,l,u){if(13*u>a.available())throw new J;const d=new Uint8Array(2*u);let f=0;for(;u>0;){const g=a.readBits(13);let m=g/192<<8&4294967295|g%192;m+=m<7936?33088:49472,d[f]=m>>8,d[f+1]=m,f+=2,u--}try{l.append(ln.decode(d,Se.SHIFT_JIS))}catch(g){throw new J(g)}}static decodeByteSegment(a,l,u,d,f,g){if(8*u>a.available())throw new J;const m=new Uint8Array(u);for(let E=0;E<u;E++)m[E]=a.readBits(8);let _;_=null===d?Se.guessEncoding(m,g):d.getName();try{l.append(ln.decode(m,_))}catch(E){throw new J(E)}f.push(m)}static toAlphaNumericChar(a){if(a>=w.ALPHANUMERIC_CHARS.length)throw new J;return w.ALPHANUMERIC_CHARS[a]}static decodeAlphanumericSegment(a,l,u,d){const f=l.length();for(;u>1;){if(a.available()<11)throw new J;const g=a.readBits(11);l.append(w.toAlphaNumericChar(Math.floor(g/45))),l.append(w.toAlphaNumericChar(g%45)),u-=2}if(1===u){if(a.available()<6)throw new J;l.append(w.toAlphaNumericChar(a.readBits(6)))}if(d)for(let g=f;g<l.length();g++)"%"===l.charAt(g)&&(g<l.length()-1&&"%"===l.charAt(g+1)?l.deleteCharAt(g+1):l.setCharAt(g,String.fromCharCode(29)))}static decodeNumericSegment(a,l,u){for(;u>=3;){if(a.available()<10)throw new J;const d=a.readBits(10);if(d>=1e3)throw new J;l.append(w.toAlphaNumericChar(Math.floor(d/100))),l.append(w.toAlphaNumericChar(Math.floor(d/10)%10)),l.append(w.toAlphaNumericChar(d%10)),u-=3}if(2===u){if(a.available()<7)throw new J;const d=a.readBits(7);if(d>=100)throw new J;l.append(w.toAlphaNumericChar(Math.floor(d/10))),l.append(w.toAlphaNumericChar(d%10))}else if(1===u){if(a.available()<4)throw new J;const d=a.readBits(4);if(d>=10)throw new J;l.append(w.toAlphaNumericChar(d))}}static parseECIValue(a){const l=a.readBits(8);if(0==(128&l))return 127&l;if(128==(192&l))return(63&l)<<8&4294967295|a.readBits(8);if(192==(224&l))return(31&l)<<16&4294967295|a.readBits(16);throw new J}}return w.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",w.GB2312_SUBSET=1,w})();class Wd{constructor(o){this.mirrored=o}isMirrored(){return this.mirrored}applyMirroredCorrection(o){if(!this.mirrored||null===o||o.length<3)return;const a=o[0];o[0]=o[2],o[2]=a}}class Gd{constructor(){this.rsDecoder=new so(st.QR_CODE_FIELD_256)}decodeBooleanArray(o,a){return this.decodeBitMatrix(wt.parseFromBooleanArray(o),a)}decodeBitMatrix(o,a){const l=new r0(o);let u=null;try{return this.decodeBitMatrixParser(l,a)}catch(d){u=d}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const d=this.decodeBitMatrixParser(l,a);return d.setOther(new Wd(!0)),d}catch(d){throw null!==u?u:d}}decodeBitMatrixParser(o,a){const l=o.readVersion(),u=o.readFormatInformation().getErrorCorrectionLevel(),d=o.readCodewords(),f=Jn.getDataBlocks(d,l,u);let g=0;for(const E of f)g+=E.getNumDataCodewords();const m=new Uint8Array(g);let _=0;for(const E of f){const x=E.getCodewords(),D=E.getNumDataCodewords();this.correctErrors(x,D);for(let T=0;T<D;T++)m[_++]=x[T]}return zd.decode(m,l,u,a)}correctErrors(o,a){const l=new Int32Array(o);try{this.rsDecoder.decode(l,o.length-a)}catch(u){throw new St}for(let u=0;u<a;u++)o[u]=l[u]}}class pc extends fe{constructor(o,a,l){super(o,a),this.estimatedModuleSize=l}aboutEquals(o,a,l){if(Math.abs(a-this.getY())<=o&&Math.abs(l-this.getX())<=o){const u=Math.abs(o-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(o,a,l){const u=(this.getX()+a)/2,d=(this.getY()+o)/2;return new pc(u,d,(this.estimatedModuleSize+l)/2)}}class co{constructor(o,a,l,u,d,f,g){this.image=o,this.startX=a,this.startY=l,this.width=u,this.height=d,this.moduleSize=f,this.resultPointCallback=g,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const o=this.startX,a=this.height,u=o+this.width,d=this.startY+a/2,f=new Int32Array(3),g=this.image;for(let m=0;m<a;m++){const _=d+(0==(1&m)?Math.floor((m+1)/2):-Math.floor((m+1)/2));f[0]=0,f[1]=0,f[2]=0;let E=o;for(;E<u&&!g.get(E,_);)E++;let x=0;for(;E<u;){if(g.get(E,_))if(1===x)f[1]++;else if(2===x){if(this.foundPatternCross(f)){const D=this.handlePossibleCenter(f,_,E);if(null!==D)return D}f[0]=f[2],f[1]=1,f[2]=0,x=1}else f[++x]++;else 1===x&&x++,f[x]++;E++}if(this.foundPatternCross(f)){const D=this.handlePossibleCenter(f,_,u);if(null!==D)return D}}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new W}static centerFromEnd(o,a){return a-o[2]-o[1]/2}foundPatternCross(o){const a=this.moduleSize,l=a/2;for(let u=0;u<3;u++)if(Math.abs(a-o[u])>=l)return!1;return!0}crossCheckVertical(o,a,l,u){const d=this.image,f=d.getHeight(),g=this.crossCheckStateCount;g[0]=0,g[1]=0,g[2]=0;let m=o;for(;m>=0&&d.get(a,m)&&g[1]<=l;)g[1]++,m--;if(m<0||g[1]>l)return NaN;for(;m>=0&&!d.get(a,m)&&g[0]<=l;)g[0]++,m--;if(g[0]>l)return NaN;for(m=o+1;m<f&&d.get(a,m)&&g[1]<=l;)g[1]++,m++;if(m===f||g[1]>l)return NaN;for(;m<f&&!d.get(a,m)&&g[2]<=l;)g[2]++,m++;return g[2]>l||5*Math.abs(g[0]+g[1]+g[2]-u)>=2*u?NaN:this.foundPatternCross(g)?co.centerFromEnd(g,m):NaN}handlePossibleCenter(o,a,l){const u=o[0]+o[1]+o[2],d=co.centerFromEnd(o,l),f=this.crossCheckVertical(a,d,2*o[1],u);if(!isNaN(f)){const g=(o[0]+o[1]+o[2])/3;for(const _ of this.possibleCenters)if(_.aboutEquals(g,f,d))return _.combineEstimate(f,d,g);const m=new pc(d,f,g);this.possibleCenters.push(m),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(m)}return null}}class gc extends fe{constructor(o,a,l,u){super(o,a),this.estimatedModuleSize=l,this.count=u,void 0===u&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(o,a,l){if(Math.abs(a-this.getY())<=o&&Math.abs(l-this.getX())<=o){const u=Math.abs(o-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(o,a,l){const u=this.count+1,d=(this.count*this.getX()+a)/u,f=(this.count*this.getY()+o)/u;return new gc(d,f,(this.count*this.estimatedModuleSize+l)/u,u)}}class Pn{constructor(o){this.bottomLeft=o[0],this.topLeft=o[1],this.topRight=o[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}let vt=(()=>{class w{constructor(a,l){this.image=a,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=l}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(a){const l=null!=a&&void 0!==a.get(xt.TRY_HARDER),u=null!=a&&void 0!==a.get(xt.PURE_BARCODE),d=this.image,f=d.getHeight(),g=d.getWidth();let m=Math.floor(3*f/(4*w.MAX_MODULES));(m<w.MIN_SKIP||l)&&(m=w.MIN_SKIP);let _=!1;const E=new Int32Array(5);for(let D=m-1;D<f&&!_;D+=m){E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0;let T=0;for(let R=0;R<g;R++)if(d.get(R,D))1==(1&T)&&T++,E[T]++;else if(0==(1&T))if(4===T)if(w.foundPatternCross(E)){if(!0!==this.handlePossibleCenter(E,D,R,u)){E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,T=3;continue}if(m=2,!0===this.hasSkipped)_=this.haveMultiplyConfirmedCenters();else{const P=this.findRowSkip();P>E[2]&&(D+=P-E[2]-m,R=g-1)}T=0,E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0}else E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,T=3;else E[++T]++;else E[T]++;w.foundPatternCross(E)&&!0===this.handlePossibleCenter(E,D,g,u)&&(m=E[0],this.hasSkipped&&(_=this.haveMultiplyConfirmedCenters()))}const x=this.selectBestPatterns();return fe.orderBestPatterns(x),new Pn(x)}static centerFromEnd(a,l){return l-a[4]-a[3]-a[2]/2}static foundPatternCross(a){let l=0;for(let f=0;f<5;f++){const g=a[f];if(0===g)return!1;l+=g}if(l<7)return!1;const u=l/7,d=u/2;return Math.abs(u-a[0])<d&&Math.abs(u-a[1])<d&&Math.abs(3*u-a[2])<3*d&&Math.abs(u-a[3])<d&&Math.abs(u-a[4])<d}getCrossCheckStateCount(){const a=this.crossCheckStateCount;return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a}crossCheckDiagonal(a,l,u,d){const f=this.getCrossCheckStateCount();let g=0;const m=this.image;for(;a>=g&&l>=g&&m.get(l-g,a-g);)f[2]++,g++;if(a<g||l<g)return!1;for(;a>=g&&l>=g&&!m.get(l-g,a-g)&&f[1]<=u;)f[1]++,g++;if(a<g||l<g||f[1]>u)return!1;for(;a>=g&&l>=g&&m.get(l-g,a-g)&&f[0]<=u;)f[0]++,g++;if(f[0]>u)return!1;const _=m.getHeight(),E=m.getWidth();for(g=1;a+g<_&&l+g<E&&m.get(l+g,a+g);)f[2]++,g++;if(a+g>=_||l+g>=E)return!1;for(;a+g<_&&l+g<E&&!m.get(l+g,a+g)&&f[3]<u;)f[3]++,g++;if(a+g>=_||l+g>=E||f[3]>=u)return!1;for(;a+g<_&&l+g<E&&m.get(l+g,a+g)&&f[4]<u;)f[4]++,g++;return!(f[4]>=u)&&Math.abs(f[0]+f[1]+f[2]+f[3]+f[4]-d)<2*d&&w.foundPatternCross(f)}crossCheckVertical(a,l,u,d){const f=this.image,g=f.getHeight(),m=this.getCrossCheckStateCount();let _=a;for(;_>=0&&f.get(l,_);)m[2]++,_--;if(_<0)return NaN;for(;_>=0&&!f.get(l,_)&&m[1]<=u;)m[1]++,_--;if(_<0||m[1]>u)return NaN;for(;_>=0&&f.get(l,_)&&m[0]<=u;)m[0]++,_--;if(m[0]>u)return NaN;for(_=a+1;_<g&&f.get(l,_);)m[2]++,_++;if(_===g)return NaN;for(;_<g&&!f.get(l,_)&&m[3]<u;)m[3]++,_++;if(_===g||m[3]>=u)return NaN;for(;_<g&&f.get(l,_)&&m[4]<u;)m[4]++,_++;return m[4]>=u||5*Math.abs(m[0]+m[1]+m[2]+m[3]+m[4]-d)>=2*d?NaN:w.foundPatternCross(m)?w.centerFromEnd(m,_):NaN}crossCheckHorizontal(a,l,u,d){const f=this.image,g=f.getWidth(),m=this.getCrossCheckStateCount();let _=a;for(;_>=0&&f.get(_,l);)m[2]++,_--;if(_<0)return NaN;for(;_>=0&&!f.get(_,l)&&m[1]<=u;)m[1]++,_--;if(_<0||m[1]>u)return NaN;for(;_>=0&&f.get(_,l)&&m[0]<=u;)m[0]++,_--;if(m[0]>u)return NaN;for(_=a+1;_<g&&f.get(_,l);)m[2]++,_++;if(_===g)return NaN;for(;_<g&&!f.get(_,l)&&m[3]<u;)m[3]++,_++;if(_===g||m[3]>=u)return NaN;for(;_<g&&f.get(_,l)&&m[4]<u;)m[4]++,_++;return m[4]>=u||5*Math.abs(m[0]+m[1]+m[2]+m[3]+m[4]-d)>=d?NaN:w.foundPatternCross(m)?w.centerFromEnd(m,_):NaN}handlePossibleCenter(a,l,u,d){const f=a[0]+a[1]+a[2]+a[3]+a[4];let g=w.centerFromEnd(a,u),m=this.crossCheckVertical(l,Math.floor(g),a[2],f);if(!isNaN(m)&&(g=this.crossCheckHorizontal(Math.floor(g),Math.floor(m),a[2],f),!isNaN(g)&&(!d||this.crossCheckDiagonal(Math.floor(m),Math.floor(g),a[2],f)))){const _=f/7;let E=!1;const x=this.possibleCenters;for(let D=0,T=x.length;D<T;D++){const R=x[D];if(R.aboutEquals(_,m,g)){x[D]=R.combineEstimate(m,g,_),E=!0;break}}if(!E){const D=new gc(g,m,_);x.push(D),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(D)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let l=null;for(const u of this.possibleCenters)if(u.getCount()>=w.CENTER_QUORUM){if(null!=l)return this.hasSkipped=!0,Math.floor((Math.abs(l.getX()-u.getX())-Math.abs(l.getY()-u.getY()))/2);l=u}return 0}haveMultiplyConfirmedCenters(){let a=0,l=0;const u=this.possibleCenters.length;for(const g of this.possibleCenters)g.getCount()>=w.CENTER_QUORUM&&(a++,l+=g.getEstimatedModuleSize());if(a<3)return!1;const d=l/u;let f=0;for(const g of this.possibleCenters)f+=Math.abs(g.getEstimatedModuleSize()-d);return f<=.05*l}selectBestPatterns(){const a=this.possibleCenters.length;if(a<3)throw new W;const l=this.possibleCenters;let u;if(a>3){let d=0,f=0;for(const _ of this.possibleCenters){const E=_.getEstimatedModuleSize();d+=E,f+=E*E}u=d/a;let g=Math.sqrt(f/a-u*u);l.sort((_,E)=>{const x=Math.abs(E.getEstimatedModuleSize()-u),D=Math.abs(_.getEstimatedModuleSize()-u);return x<D?-1:x>D?1:0});const m=Math.max(.2*u,g);for(let _=0;_<l.length&&l.length>3;_++)Math.abs(l[_].getEstimatedModuleSize()-u)>m&&(l.splice(_,1),_--)}if(l.length>3){let d=0;for(const f of l)d+=f.getEstimatedModuleSize();u=d/l.length,l.sort((f,g)=>{if(g.getCount()===f.getCount()){const m=Math.abs(g.getEstimatedModuleSize()-u),_=Math.abs(f.getEstimatedModuleSize()-u);return m<_?1:m>_?-1:0}return g.getCount()-f.getCount()}),l.splice(3)}return[l[0],l[1],l[2]]}}return w.CENTER_QUORUM=2,w.MIN_SKIP=3,w.MAX_MODULES=57,w})();class uo{constructor(o){this.image=o}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(o){this.resultPointCallback=null==o?null:o.get(xt.NEED_RESULT_POINT_CALLBACK);const l=new vt(this.image,this.resultPointCallback).find(o);return this.processFinderPatternInfo(l)}processFinderPatternInfo(o){const a=o.getTopLeft(),l=o.getTopRight(),u=o.getBottomLeft(),d=this.calculateModuleSize(a,l,u);if(d<1)throw new W("No pattern found in proccess finder.");const f=uo.computeDimension(a,l,u,d),g=se.getProvisionalVersionForDimension(f),m=g.getDimensionForVersion()-7;let _=null;if(g.getAlignmentPatternCenters().length>0){const T=l.getX()-a.getX()+u.getX(),R=l.getY()-a.getY()+u.getY(),N=1-3/m,P=Math.floor(a.getX()+N*(T-a.getX())),B=Math.floor(a.getY()+N*(R-a.getY()));for(let X=4;X<=16;X<<=1)try{_=this.findAlignmentInRegion(d,P,B,X);break}catch(te){if(!(te instanceof W))throw te}}const E=uo.createTransform(a,l,u,_,f),x=uo.sampleGrid(this.image,E,f);let D;return D=null===_?[u,a,l]:[u,a,l,_],new Ra(x,D)}static createTransform(o,a,l,u,d){const f=d-3.5;let g,m,_,E;return null!==u?(g=u.getX(),m=u.getY(),_=f-3,E=_):(g=a.getX()-o.getX()+l.getX(),m=a.getY()-o.getY()+l.getY(),_=f,E=f),mr.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,_,E,3.5,f,o.getX(),o.getY(),a.getX(),a.getY(),g,m,l.getX(),l.getY())}static sampleGrid(o,a,l){return Di.getInstance().sampleGridWithTransform(o,l,l,a)}static computeDimension(o,a,l,u){const d=Ye.round(fe.distance(o,a)/u),f=Ye.round(fe.distance(o,l)/u);let g=Math.floor((d+f)/2)+7;switch(3&g){case 0:g++;break;case 2:g--;break;case 3:throw new W("Dimensions could be not found.")}return g}calculateModuleSize(o,a,l){return(this.calculateModuleSizeOneWay(o,a)+this.calculateModuleSizeOneWay(o,l))/2}calculateModuleSizeOneWay(o,a){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(a.getX()),Math.floor(a.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(o.getX()),Math.floor(o.getY()));return isNaN(l)?u/7:isNaN(u)?l/7:(l+u)/14}sizeOfBlackWhiteBlackRunBothWays(o,a,l,u){let d=this.sizeOfBlackWhiteBlackRun(o,a,l,u),f=1,g=o-(l-o);g<0?(f=o/(o-g),g=0):g>=this.image.getWidth()&&(f=(this.image.getWidth()-1-o)/(g-o),g=this.image.getWidth()-1);let m=Math.floor(a-(u-a)*f);return f=1,m<0?(f=a/(a-m),m=0):m>=this.image.getHeight()&&(f=(this.image.getHeight()-1-a)/(m-a),m=this.image.getHeight()-1),g=Math.floor(o+(g-o)*f),d+=this.sizeOfBlackWhiteBlackRun(o,a,g,m),d-1}sizeOfBlackWhiteBlackRun(o,a,l,u){const d=Math.abs(u-a)>Math.abs(l-o);if(d){let T=o;o=a,a=T,T=l,l=u,u=T}const f=Math.abs(l-o),g=Math.abs(u-a);let m=-f/2;const _=o<l?1:-1,E=a<u?1:-1;let x=0;const D=l+_;for(let T=o,R=a;T!==D;T+=_){if(1===x===this.image.get(d?R:T,d?T:R)){if(2===x)return Ye.distance(T,R,o,a);x++}if(m+=g,m>0){if(R===u)break;R+=E,m-=f}}return 2===x?Ye.distance(l+_,u,o,a):NaN}findAlignmentInRegion(o,a,l,u){const d=Math.floor(u*o),f=Math.max(0,a-d),g=Math.min(this.image.getWidth()-1,a+d);if(g-f<3*o)throw new W("Alignment top exceeds estimated module size.");const m=Math.max(0,l-d),_=Math.min(this.image.getHeight()-1,l+d);if(_-m<3*o)throw new W("Alignment bottom exceeds estimated module size.");return new co(this.image,f,m,g-f,_-m,o,this.resultPointCallback).find()}}class Ti{constructor(){this.decoder=new Gd}getDecoder(){return this.decoder}decode(o,a){let l,u;if(null!=a&&void 0!==a.get(xt.PURE_BARCODE)){const m=Ti.extractPureBits(o.getBlackMatrix());l=this.decoder.decodeBitMatrix(m,a),u=Ti.NO_POINTS}else{const m=new uo(o.getBlackMatrix()).detect(a);l=this.decoder.decodeBitMatrix(m.getBits(),a),u=m.getPoints()}l.getOther()instanceof Wd&&l.getOther().applyMirroredCorrection(u);const d=new cn(l.getText(),l.getRawBytes(),void 0,u,ne.QR_CODE,void 0),f=l.getByteSegments();null!==f&&d.putMetadata(Ot.BYTE_SEGMENTS,f);const g=l.getECLevel();return null!==g&&d.putMetadata(Ot.ERROR_CORRECTION_LEVEL,g),l.hasStructuredAppend()&&(d.putMetadata(Ot.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),d.putMetadata(Ot.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),d}reset(){}static extractPureBits(o){const a=o.getTopLeftOnBit(),l=o.getBottomRightOnBit();if(null===a||null===l)throw new W;const u=this.moduleSize(a,o);let d=a[1],f=l[1],g=a[0],m=l[0];if(g>=m||d>=f)throw new W;if(f-d!=m-g&&(m=g+(f-d),m>=o.getWidth()))throw new W;const _=Math.round((m-g+1)/u),E=Math.round((f-d+1)/u);if(_<=0||E<=0)throw new W;if(E!==_)throw new W;const x=Math.floor(u/2);d+=x,g+=x;const D=g+Math.floor((_-1)*u)-m;if(D>0){if(D>x)throw new W;g-=D}const T=d+Math.floor((E-1)*u)-f;if(T>0){if(T>x)throw new W;d-=T}const R=new wt(_,E);for(let N=0;N<E;N++){const P=d+Math.floor(N*u);for(let B=0;B<_;B++)o.get(g+Math.floor(B*u),P)&&R.set(B,N)}return R}static moduleSize(o,a){const l=a.getHeight(),u=a.getWidth();let d=o[0],f=o[1],g=!0,m=0;for(;d<u&&f<l;){if(g!==a.get(d,f)){if(5==++m)break;g=!g}d++,f++}if(d===u||f===l)throw new W;return(d-o[0])/7}}Ti.NO_POINTS=new Array;class Ce{PDF417Common(){}static getBitCountSum(o){return Ye.sum(o)}static toIntArray(o){if(null==o||!o.length)return Ce.EMPTY_INT_ARRAY;const a=new Int32Array(o.length);let l=0;for(const u of o)a[l++]=u;return a}static getCodeword(o){const a=zt.binarySearch(Ce.SYMBOL_TABLE,262143&o);return a<0?-1:(Ce.CODEWORD_TABLE[a]-1)%Ce.NUMBER_OF_CODEWORDS}}Ce.NUMBER_OF_CODEWORDS=929,Ce.MAX_CODEWORDS_IN_BARCODE=Ce.NUMBER_OF_CODEWORDS-1,Ce.MIN_ROWS_IN_BARCODE=3,Ce.MAX_ROWS_IN_BARCODE=90,Ce.MODULES_IN_CODEWORD=17,Ce.MODULES_IN_STOP_PATTERN=18,Ce.BARS_IN_MODULE=8,Ce.EMPTY_INT_ARRAY=new Int32Array([]),Ce.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ce.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class ge{constructor(o,a){this.bits=o,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class Le{static detectMultiple(o,a,l){let u=o.getBlackMatrix(),d=Le.detect(l,u);return d.length||(u=u.clone(),u.rotate180(),d=Le.detect(l,u)),new ge(u,d)}static detect(o,a){const l=new Array;let u=0,d=0,f=!1;for(;u<a.getHeight();){const g=Le.findVertices(a,u,d);if(null!=g[0]||null!=g[3]){if(f=!0,l.push(g),!o)break;null!=g[2]?(d=Math.trunc(g[2].getX()),u=Math.trunc(g[2].getY())):(d=Math.trunc(g[4].getX()),u=Math.trunc(g[4].getY()))}else{if(!f)break;f=!1,d=0;for(const m of l)null!=m[1]&&(u=Math.trunc(Math.max(u,m[1].getY()))),null!=m[3]&&(u=Math.max(u,Math.trunc(m[3].getY())));u+=Le.ROW_STEP}}return l}static findVertices(o,a,l){const u=o.getHeight(),d=o.getWidth(),f=new Array(8);return Le.copyToResult(f,Le.findRowsWithPattern(o,u,d,a,l,Le.START_PATTERN),Le.INDEXES_START_PATTERN),null!=f[4]&&(l=Math.trunc(f[4].getX()),a=Math.trunc(f[4].getY())),Le.copyToResult(f,Le.findRowsWithPattern(o,u,d,a,l,Le.STOP_PATTERN),Le.INDEXES_STOP_PATTERN),f}static copyToResult(o,a,l){for(let u=0;u<l.length;u++)o[l[u]]=a[u]}static findRowsWithPattern(o,a,l,u,d,f){const g=new Array(4);let m=!1;const _=new Int32Array(f.length);for(;u<a;u+=Le.ROW_STEP){let x=Le.findGuardPattern(o,d,u,l,!1,f,_);if(null!=x){for(;u>0;){const D=Le.findGuardPattern(o,d,--u,l,!1,f,_);if(null==D){u++;break}x=D}g[0]=new fe(x[0],u),g[1]=new fe(x[1],u),m=!0;break}}let E=u+1;if(m){let x=0,D=Int32Array.from([Math.trunc(g[0].getX()),Math.trunc(g[1].getX())]);for(;E<a;E++){const T=Le.findGuardPattern(o,D[0],E,l,!1,f,_);if(null!=T&&Math.abs(D[0]-T[0])<Le.MAX_PATTERN_DRIFT&&Math.abs(D[1]-T[1])<Le.MAX_PATTERN_DRIFT)D=T,x=0;else{if(x>Le.SKIPPED_ROW_COUNT_MAX)break;x++}}E-=x+1,g[2]=new fe(D[0],E),g[3]=new fe(D[1],E)}return E-u<Le.BARCODE_MIN_HEIGHT&&zt.fill(g,null),g}static findGuardPattern(o,a,l,u,d,f,g){zt.fillWithin(g,0,g.length,0);let m=a,_=0;for(;o.get(m,l)&&m>0&&_++<Le.MAX_PIXEL_DRIFT;)m--;let E=m,x=0,D=f.length;for(let T=d;E<u;E++)if(o.get(E,l)!==T)g[x]++;else{if(x===D-1){if(Le.patternMatchVariance(g,f,Le.MAX_INDIVIDUAL_VARIANCE)<Le.MAX_AVG_VARIANCE)return new Int32Array([m,E]);m+=g[0]+g[1],tt.arraycopy(g,2,g,0,x-1),g[x-1]=0,g[x]=0,x--}else x++;g[x]=1,T=!T}return x===D-1&&Le.patternMatchVariance(g,f,Le.MAX_INDIVIDUAL_VARIANCE)<Le.MAX_AVG_VARIANCE?new Int32Array([m,E-1]):null}static patternMatchVariance(o,a,l){let u=o.length,d=0,f=0;for(let _=0;_<u;_++)d+=o[_],f+=a[_];if(d<f)return 1/0;let g=d/f;l*=g;let m=0;for(let _=0;_<u;_++){let E=o[_],x=a[_]*g,D=E>x?E-x:x-E;if(D>l)return 1/0;m+=D}return m/d}}Le.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Le.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Le.MAX_AVG_VARIANCE=.42,Le.MAX_INDIVIDUAL_VARIANCE=.8,Le.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Le.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Le.MAX_PIXEL_DRIFT=3,Le.MAX_PATTERN_DRIFT=5,Le.SKIPPED_ROW_COUNT_MAX=25,Le.ROW_STEP=5,Le.BARCODE_MIN_HEIGHT=10;class je{constructor(o,a){if(0===a.length)throw new he;this.field=o;let l=a.length;if(l>1&&0===a[0]){let u=1;for(;u<l&&0===a[u];)u++;u===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-u),tt.arraycopy(a,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(0===o)return this.getCoefficient(0);if(1===o){let u=0;for(let d of this.coefficients)u=this.field.add(u,d);return u}let a=this.coefficients[0],l=this.coefficients.length;for(let u=1;u<l;u++)a=this.field.add(this.field.multiply(o,a),this.coefficients[u]);return a}add(o){if(!this.field.equals(o.field))throw new he("ModulusPolys do not have same ModulusGF field");if(this.isZero())return o;if(o.isZero())return this;let a=this.coefficients,l=o.coefficients;if(a.length>l.length){let f=a;a=l,l=f}let u=new Int32Array(l.length),d=l.length-a.length;tt.arraycopy(l,0,u,0,d);for(let f=d;f<l.length;f++)u[f]=this.field.add(a[f-d],l[f]);return new je(this.field,u)}subtract(o){if(!this.field.equals(o.field))throw new he("ModulusPolys do not have same ModulusGF field");return o.isZero()?this:this.add(o.negative())}multiply(o){return o instanceof je?this.multiplyOther(o):this.multiplyScalar(o)}multiplyOther(o){if(!this.field.equals(o.field))throw new he("ModulusPolys do not have same ModulusGF field");if(this.isZero()||o.isZero())return new je(this.field,new Int32Array([0]));let a=this.coefficients,l=a.length,u=o.coefficients,d=u.length,f=new Int32Array(l+d-1);for(let g=0;g<l;g++){let m=a[g];for(let _=0;_<d;_++)f[g+_]=this.field.add(f[g+_],this.field.multiply(m,u[_]))}return new je(this.field,f)}negative(){let o=this.coefficients.length,a=new Int32Array(o);for(let l=0;l<o;l++)a[l]=this.field.subtract(0,this.coefficients[l]);return new je(this.field,a)}multiplyScalar(o){if(0===o)return new je(this.field,new Int32Array([0]));if(1===o)return this;let a=this.coefficients.length,l=new Int32Array(a);for(let u=0;u<a;u++)l[u]=this.field.multiply(this.coefficients[u],o);return new je(this.field,l)}multiplyByMonomial(o,a){if(o<0)throw new he;if(0===a)return new je(this.field,new Int32Array([0]));let l=this.coefficients.length,u=new Int32Array(l+o);for(let d=0;d<l;d++)u[d]=this.field.multiply(this.coefficients[d],a);return new je(this.field,u)}toString(){let o=new nt;for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);0!==l&&(l<0?(o.append(" - "),l=-l):o.length()>0&&o.append(" + "),(0===a||1!==l)&&o.append(l),0!==a&&(1===a?o.append("x"):(o.append("x^"),o.append(a))))}return o.toString()}}class ho extends class Wa{add(o,a){return(o+a)%this.modulus}subtract(o,a){return(this.modulus+o-a)%this.modulus}exp(o){return this.expTable[o]}log(o){if(0===o)throw new he;return this.logTable[o]}inverse(o){if(0===o)throw new ac;return this.expTable[this.modulus-this.logTable[o]-1]}multiply(o,a){return 0===o||0===a?0:this.expTable[(this.logTable[o]+this.logTable[a])%(this.modulus-1)]}getSize(){return this.modulus}equals(o){return o===this}}{constructor(o,a){super(),this.modulus=o,this.expTable=new Int32Array(o),this.logTable=new Int32Array(o);let l=1;for(let u=0;u<o;u++)this.expTable[u]=l,l=l*a%o;for(let u=0;u<o-1;u++)this.logTable[this.expTable[u]]=u;this.zero=new je(this,new Int32Array([0])),this.one=new je(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,a){if(o<0)throw new he;if(0===a)return this.zero;let l=new Int32Array(o+1);return l[0]=a,new je(this,l)}}ho.PDF417_GF=new ho(Ce.NUMBER_OF_CODEWORDS,3);class mc{constructor(){this.field=ho.PDF417_GF}decode(o,a,l){let u=new je(this.field,o),d=new Int32Array(a),f=!1;for(let R=a;R>0;R--){let N=u.evaluateAt(this.field.exp(R));d[a-R]=N,0!==N&&(f=!0)}if(!f)return 0;let g=this.field.getOne();if(null!=l)for(const R of l){let N=this.field.exp(o.length-1-R),P=new je(this.field,new Int32Array([this.field.subtract(0,N),1]));g=g.multiply(P)}let m=new je(this.field,d),_=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),m,a),E=_[0],x=_[1],D=this.findErrorLocations(E),T=this.findErrorMagnitudes(x,E,D);for(let R=0;R<D.length;R++){let N=o.length-1-this.field.log(D[R]);if(N<0)throw St.getChecksumInstance();o[N]=this.field.subtract(o[N],T[R])}return D.length}runEuclideanAlgorithm(o,a,l){if(o.getDegree()<a.getDegree()){let D=o;o=a,a=D}let u=o,d=a,f=this.field.getZero(),g=this.field.getOne();for(;d.getDegree()>=Math.round(l/2);){let D=u,T=f;if(u=d,f=g,u.isZero())throw St.getChecksumInstance();d=D;let R=this.field.getZero(),N=u.getCoefficient(u.getDegree()),P=this.field.inverse(N);for(;d.getDegree()>=u.getDegree()&&!d.isZero();){let B=d.getDegree()-u.getDegree(),X=this.field.multiply(d.getCoefficient(d.getDegree()),P);R=R.add(this.field.buildMonomial(B,X)),d=d.subtract(u.multiplyByMonomial(B,X))}g=R.multiply(f).subtract(T).negative()}let m=g.getCoefficient(0);if(0===m)throw St.getChecksumInstance();let _=this.field.inverse(m);return[g.multiply(_),d.multiply(_)]}findErrorLocations(o){let a=o.getDegree(),l=new Int32Array(a),u=0;for(let d=1;d<this.field.getSize()&&u<a;d++)0===o.evaluateAt(d)&&(l[u]=this.field.inverse(d),u++);if(u!==a)throw St.getChecksumInstance();return l}findErrorMagnitudes(o,a,l){let u=a.getDegree(),d=new Int32Array(u);for(let _=1;_<=u;_++)d[u-_]=this.field.multiply(_,a.getCoefficient(_));let f=new je(this.field,d),g=l.length,m=new Int32Array(g);for(let _=0;_<g;_++){let E=this.field.inverse(l[_]),x=this.field.subtract(0,o.evaluateAt(E)),D=this.field.inverse(f.evaluateAt(E));m[_]=this.field.multiply(x,D)}return m}}class Mi{constructor(o,a,l,u,d){o instanceof Mi?this.constructor_2(o):this.constructor_1(o,a,l,u,d)}constructor_1(o,a,l,u,d){const f=null==a||null==l,g=null==u||null==d;if(f&&g)throw new W;f?(a=new fe(0,u.getY()),l=new fe(0,d.getY())):g&&(u=new fe(o.getWidth()-1,a.getY()),d=new fe(o.getWidth()-1,l.getY())),this.image=o,this.topLeft=a,this.bottomLeft=l,this.topRight=u,this.bottomRight=d,this.minX=Math.trunc(Math.min(a.getX(),l.getX())),this.maxX=Math.trunc(Math.max(u.getX(),d.getX())),this.minY=Math.trunc(Math.min(a.getY(),u.getY())),this.maxY=Math.trunc(Math.max(l.getY(),d.getY()))}constructor_2(o){this.image=o.image,this.topLeft=o.getTopLeft(),this.bottomLeft=o.getBottomLeft(),this.topRight=o.getTopRight(),this.bottomRight=o.getBottomRight(),this.minX=o.getMinX(),this.maxX=o.getMaxX(),this.minY=o.getMinY(),this.maxY=o.getMaxY()}static merge(o,a){return null==o?a:null==a?o:new Mi(o.image,o.topLeft,o.bottomLeft,a.topRight,a.bottomRight)}addMissingRows(o,a,l){let u=this.topLeft,d=this.bottomLeft,f=this.topRight,g=this.bottomRight;if(o>0){let m=l?this.topLeft:this.topRight,_=Math.trunc(m.getY()-o);_<0&&(_=0);let E=new fe(m.getX(),_);l?u=E:f=E}if(a>0){let m=l?this.bottomLeft:this.bottomRight,_=Math.trunc(m.getY()+a);_>=this.image.getHeight()&&(_=this.image.getHeight()-1);let E=new fe(m.getX(),_);l?d=E:g=E}return new Mi(this.image,u,d,f,g)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class yc{constructor(o,a,l,u){this.columnCount=o,this.errorCorrectionLevel=u,this.rowCountUpperPart=a,this.rowCountLowerPart=l,this.rowCount=a+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ni{constructor(){this.buffer=""}static form(o,a){let l=-1;return o.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function u(f,g,m,_,E,x){if("%%"===f)return"%";if(void 0===a[++l])return;f=_?parseInt(_.substr(1)):void 0;let T,D=E?parseInt(E.substr(1)):void 0;switch(x){case"s":T=a[l];break;case"c":T=a[l][0];break;case"f":T=parseFloat(a[l]).toFixed(f);break;case"p":T=parseFloat(a[l]).toPrecision(f);break;case"e":T=parseFloat(a[l]).toExponential(f);break;case"x":T=parseInt(a[l]).toString(D||16);break;case"d":T=parseFloat(parseInt(a[l],D||10).toPrecision(f)).toFixed(0)}T="object"==typeof T?JSON.stringify(T):(+T).toString(D);let R=parseInt(m),N=m&&m[0]+""=="0"?"0":" ";for(;T.length<R;)T=void 0!==g?T+N:N+T;return T})}format(o,...a){this.buffer+=ni.form(o,a)}toString(){return this.buffer}}let fo=(()=>{class w{constructor(a){this.boundingBox=new Mi(a),this.codewords=new Array(a.getMaxY()-a.getMinY()+1)}getCodewordNearby(a){let l=this.getCodeword(a);if(null!=l)return l;for(let u=1;u<w.MAX_NEARBY_DISTANCE;u++){let d=this.imageRowToCodewordIndex(a)-u;if(d>=0&&(l=this.codewords[d],null!=l)||(d=this.imageRowToCodewordIndex(a)+u,d<this.codewords.length&&(l=this.codewords[d],null!=l)))return l}return null}imageRowToCodewordIndex(a){return a-this.boundingBox.getMinY()}setCodeword(a,l){this.codewords[this.imageRowToCodewordIndex(a)]=l}getCodeword(a){return this.codewords[this.imageRowToCodewordIndex(a)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const a=new ni;let l=0;for(const u of this.codewords)null!=u?a.format("%3d: %3d|%3d%n",l++,u.getRowNumber(),u.getValue()):a.format("%3d:    |   %n",l++);return a.toString()}}return w.MAX_NEARBY_DISTANCE=5,w})();class ns{constructor(){this.values=new Map}setValue(o){o=Math.trunc(o);let a=this.values.get(o);null==a&&(a=0),a++,this.values.set(o,a)}getValue(){let o=-1,a=new Array;for(const[l,u]of this.values.entries()){const d={getKey:()=>l,getValue:()=>u};d.getValue()>o?(o=d.getValue(),a=[],a.push(d.getKey())):d.getValue()===o&&a.push(d.getKey())}return Ce.toIntArray(a)}getConfidence(o){return this.values.get(o)}}class _c extends fo{constructor(o,a){super(o),this._isLeft=a}setRowNumbers(){for(let o of this.getCodewords())null!=o&&o.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(o){let a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,o);let l=this.getBoundingBox(),u=this._isLeft?l.getTopLeft():l.getTopRight(),d=this._isLeft?l.getBottomLeft():l.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),g=this.imageRowToCodewordIndex(Math.trunc(d.getY())),m=-1,_=1,E=0;for(let x=f;x<g;x++){if(null==a[x])continue;let D=a[x],T=D.getRowNumber()-m;if(0===T)E++;else if(1===T)_=Math.max(_,E),E=1,m=D.getRowNumber();else if(T<0||D.getRowNumber()>=o.getRowCount()||T>x)a[x]=null;else{let R;R=_>2?(_-2)*T:T;let N=R>=x;for(let P=1;P<=R&&!N;P++)N=null!=a[x-P];N?a[x]=null:(m=D.getRowNumber(),E=1)}}}getRowHeights(){let o=this.getBarcodeMetadata();if(null==o)return null;this.adjustIncompleteIndicatorColumnRowNumbers(o);let a=new Int32Array(o.getRowCount());for(let l of this.getCodewords())if(null!=l){let u=l.getRowNumber();if(u>=a.length)continue;a[u]++}return a}adjustIncompleteIndicatorColumnRowNumbers(o){let a=this.getBoundingBox(),l=this._isLeft?a.getTopLeft():a.getTopRight(),u=this._isLeft?a.getBottomLeft():a.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),g=this.getCodewords(),m=-1;for(let _=d;_<f;_++){if(null==g[_])continue;let E=g[_];E.setRowNumberAsRowIndicatorColumn();let x=E.getRowNumber()-m;0===x||(1===x?m=E.getRowNumber():E.getRowNumber()>=o.getRowCount()?g[_]=null:m=E.getRowNumber())}}getBarcodeMetadata(){let o=this.getCodewords(),a=new ns,l=new ns,u=new ns,d=new ns;for(let g of o){if(null==g)continue;g.setRowNumberAsRowIndicatorColumn();let m=g.getValue()%30,_=g.getRowNumber();switch(this._isLeft||(_+=2),_%3){case 0:l.setValue(3*m+1);break;case 1:d.setValue(m/3),u.setValue(m%3);break;case 2:a.setValue(m+1)}}if(0===a.getValue().length||0===l.getValue().length||0===u.getValue().length||0===d.getValue().length||a.getValue()[0]<1||l.getValue()[0]+u.getValue()[0]<Ce.MIN_ROWS_IN_BARCODE||l.getValue()[0]+u.getValue()[0]>Ce.MAX_ROWS_IN_BARCODE)return null;let f=new yc(a.getValue()[0],l.getValue()[0],u.getValue()[0],d.getValue()[0]);return this.removeIncorrectCodewords(o,f),f}removeIncorrectCodewords(o,a){for(let l=0;l<o.length;l++){let u=o[l];if(null==o[l])continue;let d=u.getValue()%30,f=u.getRowNumber();if(f>a.getRowCount())o[l]=null;else switch(this._isLeft||(f+=2),f%3){case 0:3*d+1!==a.getRowCountUpperPart()&&(o[l]=null);break;case 1:(Math.trunc(d/3)!==a.getErrorCorrectionLevel()||d%3!==a.getRowCountLowerPart())&&(o[l]=null);break;case 2:d+1!==a.getColumnCount()&&(o[l]=null)}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+"\n"+super.toString()}}class be{constructor(o,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=o,this.barcodeColumnCount=o.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let a,o=Ce.MAX_CODEWORDS_IN_BARCODE;do{a=o,o=this.adjustRowNumbersAndGetCount()}while(o>0&&o<a);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(o){null!=o&&o.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let o=this.adjustRowNumbersByRow();if(0===o)return 0;for(let a=1;a<this.barcodeColumnCount+1;a++){let l=this.detectionResultColumns[a].getCodewords();for(let u=0;u<l.length;u++)null!=l[u]&&(l[u].hasValidRowNumber()||this.adjustRowNumbers(a,u,l))}return o}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(null==this.detectionResultColumns[0]||null==this.detectionResultColumns[this.barcodeColumnCount+1])return;let o=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<o.length;l++)if(null!=o[l]&&null!=a[l]&&o[l].getRowNumber()===a[l].getRowNumber())for(let u=1;u<=this.barcodeColumnCount;u++){let d=this.detectionResultColumns[u].getCodewords()[l];null!=d&&(d.setRowNumber(o[l].getRowNumber()),d.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;let o=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<a.length;l++){if(null==a[l])continue;let u=a[l].getRowNumber(),d=0;for(let f=this.barcodeColumnCount+1;f>0&&d<this.ADJUST_ROW_NUMBER_SKIP;f--){let g=this.detectionResultColumns[f].getCodewords()[l];null!=g&&(d=be.adjustRowNumberIfValid(u,d,g),g.hasValidRowNumber()||o++)}}return o}adjustRowNumbersFromLRI(){if(null==this.detectionResultColumns[0])return 0;let o=0,a=this.detectionResultColumns[0].getCodewords();for(let l=0;l<a.length;l++){if(null==a[l])continue;let u=a[l].getRowNumber(),d=0;for(let f=1;f<this.barcodeColumnCount+1&&d<this.ADJUST_ROW_NUMBER_SKIP;f++){let g=this.detectionResultColumns[f].getCodewords()[l];null!=g&&(d=be.adjustRowNumberIfValid(u,d,g),g.hasValidRowNumber()||o++)}}return o}static adjustRowNumberIfValid(o,a,l){return null==l||l.hasValidRowNumber()||(l.isValidRowNumber(o)?(l.setRowNumber(o),a=0):++a),a}adjustRowNumbers(o,a,l){let u=l[a],d=this.detectionResultColumns[o-1].getCodewords(),f=d;null!=this.detectionResultColumns[o+1]&&(f=this.detectionResultColumns[o+1].getCodewords());let g=new Array(14);g[2]=d[a],g[3]=f[a],a>0&&(g[0]=l[a-1],g[4]=d[a-1],g[5]=f[a-1]),a>1&&(g[8]=l[a-2],g[10]=d[a-2],g[11]=f[a-2]),a<l.length-1&&(g[1]=l[a+1],g[6]=d[a+1],g[7]=f[a+1]),a<l.length-2&&(g[9]=l[a+2],g[12]=d[a+2],g[13]=f[a+2]);for(let m of g)if(be.adjustRowNumber(u,m))return}static adjustRowNumber(o,a){return!(null==a||!a.hasValidRowNumber()||a.getBucket()!==o.getBucket()||(o.setRowNumber(a.getRowNumber()),0))}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(o){this.boundingBox=o}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(o,a){this.detectionResultColumns[o]=a}getDetectionResultColumn(o){return this.detectionResultColumns[o]}toString(){let o=this.detectionResultColumns[0];null==o&&(o=this.detectionResultColumns[this.barcodeColumnCount+1]);let a=new ni;for(let l=0;l<o.getCodewords().length;l++){a.format("CW %3d:",l);for(let u=0;u<this.barcodeColumnCount+2;u++){if(null==this.detectionResultColumns[u]){a.format("    |   ");continue}let d=this.detectionResultColumns[u].getCodewords()[l];null!=d?a.format(" %3d|%3d",d.getRowNumber(),d.getValue()):a.format("    |   ")}a.format("%n")}return a.toString()}}let Ga=(()=>{class w{constructor(a,l,u,d){this.rowNumber=w.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(a),this.endX=Math.trunc(l),this.bucket=Math.trunc(u),this.value=Math.trunc(d)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(a){return a!==w.BARCODE_ROW_UNKNOWN&&this.bucket===a%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(a){this.rowNumber=a}toString(){return this.rowNumber+"|"+this.value}}return w.BARCODE_ROW_UNKNOWN=-1,w})();class bn{static initialize(){for(let o=0;o<Ce.SYMBOL_TABLE.length;o++){let a=Ce.SYMBOL_TABLE[o],l=1&a;for(let u=0;u<Ce.BARS_IN_MODULE;u++){let d=0;for(;(1&a)===l;)d+=1,a>>=1;l=1&a,bn.RATIOS_TABLE[o]||(bn.RATIOS_TABLE[o]=new Array(Ce.BARS_IN_MODULE)),bn.RATIOS_TABLE[o][Ce.BARS_IN_MODULE-u-1]=Math.fround(d/Ce.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(o){let a=bn.getDecodedCodewordValue(bn.sampleBitCounts(o));return-1!==a?a:bn.getClosestDecodedValue(o)}static sampleBitCounts(o){let a=Ye.sum(o),l=new Int32Array(Ce.BARS_IN_MODULE),u=0,d=0;for(let f=0;f<Ce.MODULES_IN_CODEWORD;f++)d+o[u]<=a/(2*Ce.MODULES_IN_CODEWORD)+f*a/Ce.MODULES_IN_CODEWORD&&(d+=o[u],u++),l[u]++;return l}static getDecodedCodewordValue(o){let a=bn.getBitValue(o);return-1===Ce.getCodeword(a)?-1:a}static getBitValue(o){let a=0;for(let l=0;l<o.length;l++)for(let u=0;u<o[l];u++)a=a<<1|(l%2==0?1:0);return Math.trunc(a)}static getClosestDecodedValue(o){let a=Ye.sum(o),l=new Array(Ce.BARS_IN_MODULE);if(a>1)for(let f=0;f<l.length;f++)l[f]=Math.fround(o[f]/a);let u=oo.MAX_VALUE,d=-1;this.bSymbolTableReady||bn.initialize();for(let f=0;f<bn.RATIOS_TABLE.length;f++){let g=0,m=bn.RATIOS_TABLE[f];for(let _=0;_<Ce.BARS_IN_MODULE;_++){let E=Math.fround(m[_]-l[_]);if(g+=Math.fround(E*E),g>=u)break}g<u&&(u=g,d=Ce.SYMBOL_TABLE[f])}return d}}bn.bSymbolTableReady=!1,bn.RATIOS_TABLE=new Array(Ce.SYMBOL_TABLE.length).map(w=>new Array(Ce.BARS_IN_MODULE));class Br{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(o){this.segmentIndex=o}getFileId(){return this.fileId}setFileId(o){this.fileId=o}getOptionalData(){return this.optionalData}setOptionalData(o){this.optionalData=o}isLastSegment(){return this.lastSegment}setLastSegment(o){this.lastSegment=o}getSegmentCount(){return this.segmentCount}setSegmentCount(o){this.segmentCount=o}getSender(){return this.sender||null}setSender(o){this.sender=o}getAddressee(){return this.addressee||null}setAddressee(o){this.addressee=o}getFileName(){return this.fileName}setFileName(o){this.fileName=o}getFileSize(){return this.fileSize}setFileSize(o){this.fileSize=o}getChecksum(){return this.checksum}setChecksum(o){this.checksum=o}getTimestamp(){return this.timestamp}setTimestamp(o){this.timestamp=o}}class Ya{static parseLong(o,a){return parseInt(o,a)}}let s0=(()=>{class w extends an{}return w.kind="NullPointerException",w})();class er extends an{}class o0 extends class ri{writeBytes(o){this.writeBytesOffset(o,0,o.length)}writeBytesOffset(o,a,l){if(null==o)throw new s0;if(a<0||a>o.length||l<0||a+l>o.length||a+l<0)throw new Ma;if(0!==l)for(let u=0;u<l;u++)this.write(o[a+u])}flush(){}close(){}}{constructor(o=32){if(super(),this.count=0,o<0)throw new he("Negative initial size: "+o);this.buf=new Uint8Array(o)}ensureCapacity(o){o-this.buf.length>0&&this.grow(o)}grow(o){let l=this.buf.length<<1;if(l-o<0&&(l=o),l<0){if(o<0)throw new er;l=Oe.MAX_VALUE}this.buf=zt.copyOfUint8Array(this.buf,l)}write(o){this.ensureCapacity(this.count+1),this.buf[this.count]=o,this.count+=1}writeBytesOffset(o,a,l){if(a<0||a>o.length||l<0||a+l-o.length>0)throw new Ma;this.ensureCapacity(this.count+l),tt.arraycopy(o,a,this.buf,this.count,l),this.count+=l}writeTo(o){o.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return zt.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(o){return o?"string"==typeof o?this.toString_string(o):this.toString_number(o):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(o){return new String(this.buf).toString()}toString_number(o){return new String(this.buf).toString()}close(){}}var ht=(()=>{return(w=ht||(ht={}))[w.ALPHA=0]="ALPHA",w[w.LOWER=1]="LOWER",w[w.MIXED=2]="MIXED",w[w.PUNCT=3]="PUNCT",w[w.ALPHA_SHIFT=4]="ALPHA_SHIFT",w[w.PUNCT_SHIFT=5]="PUNCT_SHIFT",ht;var w})();function qn(){if("undefined"!=typeof window)return window.BigInt||null;if("undefined"!=typeof global)return global.BigInt||null;if("undefined"!=typeof self)return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let po;function ii(w){if(void 0===po&&(po=qn()),null===po)throw new Error("BigInt is not supported!");return po(w)}class U{static decode(o,a){let l=new nt(""),u=q.ISO8859_1;l.enableDecoding(u);let d=1,f=o[d++],g=new Br;for(;d<o[0];){switch(f){case U.TEXT_COMPACTION_MODE_LATCH:d=U.textCompaction(o,d,l);break;case U.BYTE_COMPACTION_MODE_LATCH:case U.BYTE_COMPACTION_MODE_LATCH_6:d=U.byteCompaction(f,o,u,d,l);break;case U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(o[d++]);break;case U.NUMERIC_COMPACTION_MODE_LATCH:d=U.numericCompaction(o,d,l);break;case U.ECI_CHARSET:q.getCharacterSetECIByValue(o[d++]);break;case U.ECI_GENERAL_PURPOSE:d+=2;break;case U.ECI_USER_DEFINED:d++;break;case U.BEGIN_MACRO_PDF417_CONTROL_BLOCK:d=U.decodeMacroBlock(o,d,g);break;case U.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case U.MACRO_PDF417_TERMINATOR:throw new J;default:d--,d=U.textCompaction(o,d,l)}if(!(d<o.length))throw J.getFormatInstance();f=o[d++]}if(0===l.length())throw J.getFormatInstance();let m=new ro(null,l.toString(),null,a);return m.setOther(g),m}static decodeMacroBlock(o,a,l){if(a+U.NUMBER_OF_SEQUENCE_CODEWORDS>o[0])throw J.getFormatInstance();let u=new Int32Array(U.NUMBER_OF_SEQUENCE_CODEWORDS);for(let g=0;g<U.NUMBER_OF_SEQUENCE_CODEWORDS;g++,a++)u[g]=o[a];l.setSegmentIndex(Oe.parseInt(U.decodeBase900toBase10(u,U.NUMBER_OF_SEQUENCE_CODEWORDS)));let d=new nt;a=U.textCompaction(o,a,d),l.setFileId(d.toString());let f=-1;for(o[a]===U.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=a+1);a<o[0];)switch(o[a]){case U.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o[++a]){case U.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let g=new nt;a=U.textCompaction(o,a+1,g),l.setFileName(g.toString());break;case U.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let m=new nt;a=U.textCompaction(o,a+1,m),l.setSender(m.toString());break;case U.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let _=new nt;a=U.textCompaction(o,a+1,_),l.setAddressee(_.toString());break;case U.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let E=new nt;a=U.numericCompaction(o,a+1,E),l.setSegmentCount(Oe.parseInt(E.toString()));break;case U.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let x=new nt;a=U.numericCompaction(o,a+1,x),l.setTimestamp(Ya.parseLong(x.toString()));break;case U.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let D=new nt;a=U.numericCompaction(o,a+1,D),l.setChecksum(Oe.parseInt(D.toString()));break;case U.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let T=new nt;a=U.numericCompaction(o,a+1,T),l.setFileSize(Ya.parseLong(T.toString()));break;default:throw J.getFormatInstance()}break;case U.MACRO_PDF417_TERMINATOR:a++,l.setLastSegment(!0);break;default:throw J.getFormatInstance()}if(-1!==f){let g=a-f;l.isLastSegment()&&g--,l.setOptionalData(zt.copyOfRange(o,f,f+g))}return a}static textCompaction(o,a,l){let u=new Int32Array(2*(o[0]-a)),d=new Int32Array(2*(o[0]-a)),f=0,g=!1;for(;a<o[0]&&!g;){let m=o[a++];if(m<U.TEXT_COMPACTION_MODE_LATCH)u[f]=m/30,u[f+1]=m%30,f+=2;else switch(m){case U.TEXT_COMPACTION_MODE_LATCH:u[f++]=U.TEXT_COMPACTION_MODE_LATCH;break;case U.BYTE_COMPACTION_MODE_LATCH:case U.BYTE_COMPACTION_MODE_LATCH_6:case U.NUMERIC_COMPACTION_MODE_LATCH:case U.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case U.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case U.MACRO_PDF417_TERMINATOR:a--,g=!0;break;case U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[f]=U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,m=o[a++],d[f]=m,f++}}return U.decodeTextCompaction(u,d,f,l),a}static decodeTextCompaction(o,a,l,u){let d=ht.ALPHA,f=ht.ALPHA,g=0;for(;g<l;){let m=o[g],_="";switch(d){case ht.ALPHA:if(m<26)_=String.fromCharCode(65+m);else switch(m){case 26:_=" ";break;case U.LL:d=ht.LOWER;break;case U.ML:d=ht.MIXED;break;case U.PS:f=d,d=ht.PUNCT_SHIFT;break;case U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[g]);break;case U.TEXT_COMPACTION_MODE_LATCH:d=ht.ALPHA}break;case ht.LOWER:if(m<26)_=String.fromCharCode(97+m);else switch(m){case 26:_=" ";break;case U.AS:f=d,d=ht.ALPHA_SHIFT;break;case U.ML:d=ht.MIXED;break;case U.PS:f=d,d=ht.PUNCT_SHIFT;break;case U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[g]);break;case U.TEXT_COMPACTION_MODE_LATCH:d=ht.ALPHA}break;case ht.MIXED:if(m<U.PL)_=U.MIXED_CHARS[m];else switch(m){case U.PL:d=ht.PUNCT;break;case 26:_=" ";break;case U.LL:d=ht.LOWER;break;case U.AL:d=ht.ALPHA;break;case U.PS:f=d,d=ht.PUNCT_SHIFT;break;case U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[g]);break;case U.TEXT_COMPACTION_MODE_LATCH:d=ht.ALPHA}break;case ht.PUNCT:if(m<U.PAL)_=U.PUNCT_CHARS[m];else switch(m){case U.PAL:d=ht.ALPHA;break;case U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[g]);break;case U.TEXT_COMPACTION_MODE_LATCH:d=ht.ALPHA}break;case ht.ALPHA_SHIFT:if(d=f,m<26)_=String.fromCharCode(65+m);else switch(m){case 26:_=" ";break;case U.TEXT_COMPACTION_MODE_LATCH:d=ht.ALPHA}break;case ht.PUNCT_SHIFT:if(d=f,m<U.PAL)_=U.PUNCT_CHARS[m];else switch(m){case U.PAL:d=ht.ALPHA;break;case U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[g]);break;case U.TEXT_COMPACTION_MODE_LATCH:d=ht.ALPHA}}""!==_&&u.append(_),g++}}static byteCompaction(o,a,l,u,d){let f=new o0,g=0,m=0,_=!1;switch(o){case U.BYTE_COMPACTION_MODE_LATCH:let E=new Int32Array(6),x=a[u++];for(;u<a[0]&&!_;)switch(E[g++]=x,m=900*m+x,x=a[u++],x){case U.TEXT_COMPACTION_MODE_LATCH:case U.BYTE_COMPACTION_MODE_LATCH:case U.NUMERIC_COMPACTION_MODE_LATCH:case U.BYTE_COMPACTION_MODE_LATCH_6:case U.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case U.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case U.MACRO_PDF417_TERMINATOR:u--,_=!0;break;default:if(g%5==0&&g>0){for(let D=0;D<6;++D)f.write(Number(ii(m)>>ii(8*(5-D))));m=0,g=0}}u===a[0]&&x<U.TEXT_COMPACTION_MODE_LATCH&&(E[g++]=x);for(let D=0;D<g;D++)f.write(E[D]);break;case U.BYTE_COMPACTION_MODE_LATCH_6:for(;u<a[0]&&!_;){let D=a[u++];if(D<U.TEXT_COMPACTION_MODE_LATCH)g++,m=900*m+D;else switch(D){case U.TEXT_COMPACTION_MODE_LATCH:case U.BYTE_COMPACTION_MODE_LATCH:case U.NUMERIC_COMPACTION_MODE_LATCH:case U.BYTE_COMPACTION_MODE_LATCH_6:case U.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case U.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case U.MACRO_PDF417_TERMINATOR:u--,_=!0}if(g%5==0&&g>0){for(let T=0;T<6;++T)f.write(Number(ii(m)>>ii(8*(5-T))));m=0,g=0}}}return d.append(ln.decode(f.toByteArray(),l)),u}static numericCompaction(o,a,l){let u=0,d=!1,f=new Int32Array(U.MAX_NUMERIC_CODEWORDS);for(;a<o[0]&&!d;){let g=o[a++];if(a===o[0]&&(d=!0),g<U.TEXT_COMPACTION_MODE_LATCH)f[u]=g,u++;else switch(g){case U.TEXT_COMPACTION_MODE_LATCH:case U.BYTE_COMPACTION_MODE_LATCH:case U.BYTE_COMPACTION_MODE_LATCH_6:case U.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case U.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case U.MACRO_PDF417_TERMINATOR:a--,d=!0}(u%U.MAX_NUMERIC_CODEWORDS==0||g===U.NUMERIC_COMPACTION_MODE_LATCH||d)&&u>0&&(l.append(U.decodeBase900toBase10(f,u)),u=0)}return a}static decodeBase900toBase10(o,a){let l=ii(0);for(let d=0;d<a;d++)l+=U.EXP900[a-d-1]*ii(o[d]);let u=l.toString();if("1"!==u.charAt(0))throw new J;return u.substring(1)}}U.TEXT_COMPACTION_MODE_LATCH=900,U.BYTE_COMPACTION_MODE_LATCH=901,U.NUMERIC_COMPACTION_MODE_LATCH=902,U.BYTE_COMPACTION_MODE_LATCH_6=924,U.ECI_USER_DEFINED=925,U.ECI_GENERAL_PURPOSE=926,U.ECI_CHARSET=927,U.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,U.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,U.MACRO_PDF417_TERMINATOR=922,U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,U.MAX_NUMERIC_CODEWORDS=15,U.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,U.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,U.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,U.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,U.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,U.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,U.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,U.PL=25,U.LL=27,U.AS=27,U.ML=28,U.AL=28,U.PS=29,U.PAL=29,U.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",U.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",U.EXP900=qn()?function Yd(){let w=[];w[0]=ii(1);let o=ii(900);w[1]=o;for(let a=2;a<16;a++)w[a]=w[a-1]*o;return w}():[],U.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ce{constructor(){}static decode(o,a,l,u,d,f,g){let x,m=new Mi(o,a,l,u,d),_=null,E=null;for(let R=!0;;R=!1){if(null!=a&&(_=ce.getRowIndicatorColumn(o,m,a,!0,f,g)),null!=u&&(E=ce.getRowIndicatorColumn(o,m,u,!1,f,g)),x=ce.merge(_,E),null==x)throw W.getNotFoundInstance();let N=x.getBoundingBox();if(!R||null==N||!(N.getMinY()<m.getMinY()||N.getMaxY()>m.getMaxY()))break;m=N}x.setBoundingBox(m);let D=x.getBarcodeColumnCount()+1;x.setDetectionResultColumn(0,_),x.setDetectionResultColumn(D,E);let T=null!=_;for(let R=1;R<=D;R++){let P,N=T?R:D-R;if(void 0!==x.getDetectionResultColumn(N))continue;P=0===N||N===D?new _c(m,0===N):new fo(m),x.setDetectionResultColumn(N,P);let B=-1,X=B;for(let te=m.getMinY();te<=m.getMaxY();te++){if(B=ce.getStartColumn(x,N,te,T),B<0||B>m.getMaxX()){if(-1===X)continue;B=X}let H=ce.detectCodeword(o,m.getMinX(),m.getMaxX(),T,B,te,f,g);null!=H&&(P.setCodeword(te,H),X=B,f=Math.min(f,H.getWidth()),g=Math.max(g,H.getWidth()))}}return ce.createDecoderResult(x)}static merge(o,a){if(null==o&&null==a)return null;let l=ce.getBarcodeMetadata(o,a);if(null==l)return null;let u=Mi.merge(ce.adjustBoundingBox(o),ce.adjustBoundingBox(a));return new be(l,u)}static adjustBoundingBox(o){if(null==o)return null;let a=o.getRowHeights();if(null==a)return null;let l=ce.getMax(a),u=0;for(let g of a)if(u+=l-g,g>0)break;let d=o.getCodewords();for(let g=0;u>0&&null==d[g];g++)u--;let f=0;for(let g=a.length-1;g>=0&&(f+=l-a[g],!(a[g]>0));g--);for(let g=d.length-1;f>0&&null==d[g];g--)f--;return o.getBoundingBox().addMissingRows(u,f,o.isLeft())}static getMax(o){let a=-1;for(let l of o)a=Math.max(a,l);return a}static getBarcodeMetadata(o,a){let l,u;return null==o||null==(l=o.getBarcodeMetadata())?null==a?null:a.getBarcodeMetadata():null==a||null==(u=a.getBarcodeMetadata())?l:l.getColumnCount()!==u.getColumnCount()&&l.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&l.getRowCount()!==u.getRowCount()?null:l}static getRowIndicatorColumn(o,a,l,u,d,f){let g=new _c(a,u);for(let m=0;m<2;m++){let _=0===m?1:-1,E=Math.trunc(Math.trunc(l.getX()));for(let x=Math.trunc(Math.trunc(l.getY()));x<=a.getMaxY()&&x>=a.getMinY();x+=_){let D=ce.detectCodeword(o,0,o.getWidth(),u,E,x,d,f);null!=D&&(g.setCodeword(x,D),E=u?D.getStartX():D.getEndX())}}return g}static adjustCodewordCount(o,a){let l=a[0][1],u=l.getValue(),d=o.getBarcodeColumnCount()*o.getBarcodeRowCount()-ce.getNumberOfECCodeWords(o.getBarcodeECLevel());if(0===u.length){if(d<1||d>Ce.MAX_CODEWORDS_IN_BARCODE)throw W.getNotFoundInstance();l.setValue(d)}else u[0]!==d&&l.setValue(d)}static createDecoderResult(o){let a=ce.createBarcodeMatrix(o);ce.adjustCodewordCount(o,a);let l=new Array,u=new Int32Array(o.getBarcodeRowCount()*o.getBarcodeColumnCount()),d=[],f=new Array;for(let m=0;m<o.getBarcodeRowCount();m++)for(let _=0;_<o.getBarcodeColumnCount();_++){let E=a[m][_+1].getValue(),x=m*o.getBarcodeColumnCount()+_;0===E.length?l.push(x):1===E.length?u[x]=E[0]:(f.push(x),d.push(E))}let g=new Array(d.length);for(let m=0;m<g.length;m++)g[m]=d[m];return ce.createDecoderResultFromAmbiguousValues(o.getBarcodeECLevel(),u,Ce.toIntArray(l),Ce.toIntArray(f),g)}static createDecoderResultFromAmbiguousValues(o,a,l,u,d){let f=new Int32Array(u.length),g=100;for(;g-- >0;){for(let m=0;m<f.length;m++)a[u[m]]=d[m][f[m]];try{return ce.decodeCodewords(a,o,l)}catch(m){if(!(m instanceof St))throw m}if(0===f.length)throw St.getChecksumInstance();for(let m=0;m<f.length;m++){if(f[m]<d[m].length-1){f[m]++;break}if(f[m]=0,m===f.length-1)throw St.getChecksumInstance()}}throw St.getChecksumInstance()}static createBarcodeMatrix(o){let a=Array.from({length:o.getBarcodeRowCount()},()=>new Array(o.getBarcodeColumnCount()+2));for(let u=0;u<a.length;u++)for(let d=0;d<a[u].length;d++)a[u][d]=new ns;let l=0;for(let u of o.getDetectionResultColumns()){if(null!=u)for(let d of u.getCodewords())if(null!=d){let f=d.getRowNumber();if(f>=0){if(f>=a.length)continue;a[f][l].setValue(d.getValue())}}l++}return a}static isValidBarcodeColumn(o,a){return a>=0&&a<=o.getBarcodeColumnCount()+1}static getStartColumn(o,a,l,u){let d=u?1:-1,f=null;if(ce.isValidBarcodeColumn(o,a-d)&&(f=o.getDetectionResultColumn(a-d).getCodeword(l)),null!=f)return u?f.getEndX():f.getStartX();if(f=o.getDetectionResultColumn(a).getCodewordNearby(l),null!=f)return u?f.getStartX():f.getEndX();if(ce.isValidBarcodeColumn(o,a-d)&&(f=o.getDetectionResultColumn(a-d).getCodewordNearby(l)),null!=f)return u?f.getEndX():f.getStartX();let g=0;for(;ce.isValidBarcodeColumn(o,a-d);){a-=d;for(let m of o.getDetectionResultColumn(a).getCodewords())if(null!=m)return(u?m.getEndX():m.getStartX())+d*g*(m.getEndX()-m.getStartX());g++}return u?o.getBoundingBox().getMinX():o.getBoundingBox().getMaxX()}static detectCodeword(o,a,l,u,d,f,g,m){d=ce.adjustCodewordStartColumn(o,a,l,u,d,f);let _=ce.getModuleBitCount(o,a,l,u,d,f);if(null==_)return null;let E,x=Ye.sum(_);if(u)E=d+x;else{for(let R=0;R<_.length/2;R++){let N=_[R];_[R]=_[_.length-1-R],_[_.length-1-R]=N}E=d,d=E-x}if(!ce.checkCodewordSkew(x,g,m))return null;let D=bn.getDecodedValue(_),T=Ce.getCodeword(D);return-1===T?null:new Ga(d,E,ce.getCodewordBucketNumber(D),T)}static getModuleBitCount(o,a,l,u,d,f){let g=d,m=new Int32Array(8),_=0,E=u?1:-1,x=u;for(;(u?g<l:g>=a)&&_<m.length;)o.get(g,f)===x?(m[_]++,g+=E):(_++,x=!x);return _===m.length||g===(u?l:a)&&_===m.length-1?m:null}static getNumberOfECCodeWords(o){return 2<<o}static adjustCodewordStartColumn(o,a,l,u,d,f){let g=d,m=u?-1:1;for(let _=0;_<2;_++){for(;(u?g>=a:g<l)&&u===o.get(g,f);){if(Math.abs(d-g)>ce.CODEWORD_SKEW_SIZE)return d;g+=m}m=-m,u=!u}return g}static checkCodewordSkew(o,a,l){return a-ce.CODEWORD_SKEW_SIZE<=o&&o<=l+ce.CODEWORD_SKEW_SIZE}static decodeCodewords(o,a,l){if(0===o.length)throw J.getFormatInstance();let u=1<<a+1,d=ce.correctErrors(o,l,u);ce.verifyCodewordCount(o,u);let f=U.decode(o,""+a);return f.setErrorsCorrected(d),f.setErasures(l.length),f}static correctErrors(o,a,l){if(null!=a&&a.length>l/2+ce.MAX_ERRORS||l<0||l>ce.MAX_EC_CODEWORDS)throw St.getChecksumInstance();return ce.errorCorrection.decode(o,l,a)}static verifyCodewordCount(o,a){if(o.length<4)throw J.getFormatInstance();let l=o[0];if(l>o.length)throw J.getFormatInstance();if(0===l){if(!(a<o.length))throw J.getFormatInstance();o[0]=o.length-a}}static getBitCountForCodeword(o){let a=new Int32Array(8),l=0,u=a.length-1;for(;!((1&o)!==l&&(l=1&o,u--,u<0));)a[u]++,o>>=1;return a}static getCodewordBucketNumber(o){return o instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(o):this.getCodewordBucketNumber_number(o)}static getCodewordBucketNumber_number(o){return ce.getCodewordBucketNumber(ce.getBitCountForCodeword(o))}static getCodewordBucketNumber_Int32Array(o){return(o[0]-o[2]+o[4]-o[6]+9)%9}static toString(o){let a=new ni;for(let l=0;l<o.length;l++){a.format("Row %2d: ",l);for(let u=0;u<o[l].length;u++){let d=o[l][u];0===d.getValue().length?a.format("        ",null):a.format("%4d(%2d)",d.getValue()[0],d.getConfidence(d.getValue()[0]))}a.format("%n")}return a.toString()}}ce.CODEWORD_SKEW_SIZE=2,ce.MAX_ERRORS=3,ce.MAX_EC_CODEWORDS=512,ce.errorCorrection=new mc;class un{decode(o,a=null){let l=un.decode(o,a,!1);if(null==l||0===l.length||null==l[0])throw W.getNotFoundInstance();return l[0]}decodeMultiple(o,a=null){try{return un.decode(o,a,!0)}catch(l){throw l instanceof J||l instanceof St?W.getNotFoundInstance():l}}static decode(o,a,l){const u=new Array,d=Le.detectMultiple(o,a,l);for(const f of d.getPoints()){const g=ce.decode(d.getBits(),f[4],f[5],f[6],f[7],un.getMinCodewordWidth(f),un.getMaxCodewordWidth(f)),m=new cn(g.getText(),g.getRawBytes(),void 0,f,ne.PDF_417);m.putMetadata(Ot.ERROR_CORRECTION_LEVEL,g.getECLevel());const _=g.getOther();null!=_&&m.putMetadata(Ot.PDF417_EXTRA_METADATA,_),u.push(m)}return u.map(f=>f)}static getMaxWidth(o,a){return null==o||null==a?0:Math.trunc(Math.abs(o.getX()-a.getX()))}static getMinWidth(o,a){return null==o||null==a?Oe.MAX_VALUE:Math.trunc(Math.abs(o.getX()-a.getX()))}static getMaxCodewordWidth(o){return Math.floor(Math.max(Math.max(un.getMaxWidth(o[0],o[4]),un.getMaxWidth(o[6],o[2])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN),Math.max(un.getMaxWidth(o[1],o[5]),un.getMaxWidth(o[7],o[3])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(o){return Math.floor(Math.min(Math.min(un.getMinWidth(o[0],o[4]),un.getMinWidth(o[6],o[2])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN),Math.min(un.getMinWidth(o[1],o[5]),un.getMinWidth(o[7],o[3])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN)))}reset(){}}let wc=(()=>{class w extends an{}return w.kind="ReaderException",w})();class Ri{constructor(o,a){this.verbose=!0===o,a&&this.setHints(a)}decode(o,a){return a&&this.setHints(a),this.decodeInternal(o)}decodeWithState(o){return null==this.readers&&this.setHints(null),this.decodeInternal(o)}setHints(o){this.hints=o;const a=null!=o&&void 0!==o.get(xt.TRY_HARDER),l=null==o?null:o.get(xt.POSSIBLE_FORMATS),u=new Array;if(null!=l){const d=l.some(f=>f===ne.UPC_A||f===ne.UPC_E||f===ne.EAN_13||f===ne.EAN_8||f===ne.CODABAR||f===ne.CODE_39||f===ne.CODE_93||f===ne.CODE_128||f===ne.ITF||f===ne.RSS_14||f===ne.RSS_EXPANDED);d&&!a&&u.push(new Ii(o,this.verbose)),l.includes(ne.QR_CODE)&&u.push(new Ti),l.includes(ne.DATA_MATRIX)&&u.push(new ts),l.includes(ne.AZTEC)&&u.push(new Oa),l.includes(ne.PDF_417)&&u.push(new un),d&&a&&u.push(new Ii(o,this.verbose))}0===u.length&&(a||u.push(new Ii(o,this.verbose)),u.push(new Ti),u.push(new ts),u.push(new Oa),u.push(new un),a&&u.push(new Ii(o,this.verbose))),this.readers=u}reset(){if(null!==this.readers)for(const o of this.readers)o.reset()}decodeInternal(o){if(null===this.readers)throw new wc("No readers where selected, nothing can be read.");for(const a of this.readers)try{return a.decode(o,this.hints)}catch(l){if(l instanceof wc)continue}throw new W("No MultiFormat Readers were able to detect the code.")}}var rs=(()=>{return(w=rs||(rs={}))[w.ERROR_CORRECTION=0]="ERROR_CORRECTION",w[w.CHARACTER_SET=1]="CHARACTER_SET",w[w.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",w[w.MIN_SIZE=3]="MIN_SIZE",w[w.MAX_SIZE=4]="MAX_SIZE",w[w.MARGIN=5]="MARGIN",w[w.PDF417_COMPACT=6]="PDF417_COMPACT",w[w.PDF417_COMPACTION=7]="PDF417_COMPACTION",w[w.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",w[w.AZTEC_LAYERS=9]="AZTEC_LAYERS",w[w.QR_VERSION=10]="QR_VERSION",rs;var w})(),Pt=rs;class tr{constructor(o){this.field=o,this.cachedGenerators=[],this.cachedGenerators.push(new Rn(o,Int32Array.from([1])))}buildGenerator(o){const a=this.cachedGenerators;if(o>=a.length){let l=a[a.length-1];const u=this.field;for(let d=a.length;d<=o;d++){const f=l.multiply(new Rn(u,Int32Array.from([1,u.exp(d-1+u.getGeneratorBase())])));a.push(f),l=f}}return a[o]}encode(o,a){if(0===a)throw new he("No error correction bytes");const l=o.length-a;if(l<=0)throw new he("No data bytes provided");const u=this.buildGenerator(a),d=new Int32Array(l);tt.arraycopy(o,0,d,0,l);let f=new Rn(this.field,d);f=f.multiplyByMonomial(a,1);const m=f.divide(u)[1].getCoefficients(),_=a-m.length;for(let E=0;E<_;E++)o[l+E]=0;tt.arraycopy(m,0,o,l+_,m.length)}}let _r=(()=>{class w{constructor(){}static applyMaskPenaltyRule1(a){return w.applyMaskPenaltyRule1Internal(a,!0)+w.applyMaskPenaltyRule1Internal(a,!1)}static applyMaskPenaltyRule2(a){let l=0;const u=a.getArray(),d=a.getWidth(),f=a.getHeight();for(let g=0;g<f-1;g++){const m=u[g];for(let _=0;_<d-1;_++){const E=m[_];E===m[_+1]&&E===u[g+1][_]&&E===u[g+1][_+1]&&l++}}return w.N2*l}static applyMaskPenaltyRule3(a){let l=0;const u=a.getArray(),d=a.getWidth(),f=a.getHeight();for(let g=0;g<f;g++)for(let m=0;m<d;m++){const _=u[g];m+6<d&&1===_[m]&&0===_[m+1]&&1===_[m+2]&&1===_[m+3]&&1===_[m+4]&&0===_[m+5]&&1===_[m+6]&&(w.isWhiteHorizontal(_,m-4,m)||w.isWhiteHorizontal(_,m+7,m+11))&&l++,g+6<f&&1===u[g][m]&&0===u[g+1][m]&&1===u[g+2][m]&&1===u[g+3][m]&&1===u[g+4][m]&&0===u[g+5][m]&&1===u[g+6][m]&&(w.isWhiteVertical(u,m,g-4,g)||w.isWhiteVertical(u,m,g+7,g+11))&&l++}return l*w.N3}static isWhiteHorizontal(a,l,u){l=Math.max(l,0),u=Math.min(u,a.length);for(let d=l;d<u;d++)if(1===a[d])return!1;return!0}static isWhiteVertical(a,l,u,d){u=Math.max(u,0),d=Math.min(d,a.length);for(let f=u;f<d;f++)if(1===a[f][l])return!1;return!0}static applyMaskPenaltyRule4(a){let l=0;const u=a.getArray(),d=a.getWidth(),f=a.getHeight();for(let _=0;_<f;_++){const E=u[_];for(let x=0;x<d;x++)1===E[x]&&l++}const g=a.getHeight()*a.getWidth();return Math.floor(10*Math.abs(2*l-g)/g)*w.N4}static getDataMaskBit(a,l,u){let d,f;switch(a){case 0:d=u+l&1;break;case 1:d=1&u;break;case 2:d=l%3;break;case 3:d=(u+l)%3;break;case 4:d=Math.floor(u/2)+Math.floor(l/3)&1;break;case 5:f=u*l,d=(1&f)+f%3;break;case 6:f=u*l,d=(1&f)+f%3&1;break;case 7:f=u*l,d=f%3+(u+l&1)&1;break;default:throw new he("Invalid mask pattern: "+a)}return 0===d}static applyMaskPenaltyRule1Internal(a,l){let u=0;const d=l?a.getHeight():a.getWidth(),f=l?a.getWidth():a.getHeight(),g=a.getArray();for(let m=0;m<d;m++){let _=0,E=-1;for(let x=0;x<f;x++){const D=l?g[m][x]:g[x][m];D===E?_++:(_>=5&&(u+=w.N1+(_-5)),_=1,E=D)}_>=5&&(u+=w.N1+(_-5))}return u}}return w.N1=3,w.N2=3,w.N3=40,w.N4=10,w})();class mo{constructor(o,a){this.width=o,this.height=a;const l=new Array(a);for(let u=0;u!==a;u++)l[u]=new Uint8Array(o);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(o,a){return this.bytes[a][o]}getArray(){return this.bytes}setNumber(o,a,l){this.bytes[a][o]=l}setBoolean(o,a,l){this.bytes[a][o]=l?1:0}clear(o){for(const a of this.bytes)zt.fill(a,o)}equals(o){if(!(o instanceof mo))return!1;const a=o;if(this.width!==a.width||this.height!==a.height)return!1;for(let l=0,u=this.height;l<u;++l){const d=this.bytes[l],f=a.bytes[l];for(let g=0,m=this.width;g<m;++g)if(d[g]!==f[g])return!1}return!0}toString(){const o=new nt;for(let a=0,l=this.height;a<l;++a){const u=this.bytes[a];for(let d=0,f=this.width;d<f;++d)switch(u[d]){case 0:o.append(" 0");break;case 1:o.append(" 1");break;default:o.append("  ")}o.append("\n")}return o.toString()}}let _n=(()=>{class w{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const a=new nt;return a.append("<<\n"),a.append(" mode: "),a.append(this.mode?this.mode.toString():"null"),a.append("\n ecLevel: "),a.append(this.ecLevel?this.ecLevel.toString():"null"),a.append("\n version: "),a.append(this.version?this.version.toString():"null"),a.append("\n maskPattern: "),a.append(this.maskPattern.toString()),this.matrix?(a.append("\n matrix:\n"),a.append(this.matrix.toString())):a.append("\n matrix: null\n"),a.append(">>\n"),a.toString()}setMode(a){this.mode=a}setECLevel(a){this.ecLevel=a}setVersion(a){this.version=a}setMaskPattern(a){this.maskPattern=a}setMatrix(a){this.matrix=a}static isValidMaskPattern(a){return a>=0&&a<w.NUM_MASK_PATTERNS}}return w.NUM_MASK_PATTERNS=8,w})(),gt=(()=>{class w extends an{}return w.kind="WriterException",w})();class _e{constructor(){}static clearMatrix(o){o.clear(255)}static buildMatrix(o,a,l,u,d){_e.clearMatrix(d),_e.embedBasicPatterns(l,d),_e.embedTypeInfo(a,u,d),_e.maybeEmbedVersionInfo(l,d),_e.embedDataBits(o,u,d)}static embedBasicPatterns(o,a){_e.embedPositionDetectionPatternsAndSeparators(a),_e.embedDarkDotAtLeftBottomCorner(a),_e.maybeEmbedPositionAdjustmentPatterns(o,a),_e.embedTimingPatterns(a)}static embedTypeInfo(o,a,l){const u=new it;_e.makeTypeInfoBits(o,a,u);for(let d=0,f=u.getSize();d<f;++d){const g=u.get(u.getSize()-1-d),m=_e.TYPE_INFO_COORDINATES[d];if(l.setBoolean(m[0],m[1],g),d<8){const x=l.getWidth()-d-1;l.setBoolean(x,8,g)}else{const x=8,D=l.getHeight()-7+(d-8);l.setBoolean(x,D,g)}}}static maybeEmbedVersionInfo(o,a){if(o.getVersionNumber()<7)return;const l=new it;_e.makeVersionInfoBits(o,l);let u=17;for(let d=0;d<6;++d)for(let f=0;f<3;++f){const g=l.get(u);u--,a.setBoolean(d,a.getHeight()-11+f,g),a.setBoolean(a.getHeight()-11+f,d,g)}}static embedDataBits(o,a,l){let u=0,d=-1,f=l.getWidth()-1,g=l.getHeight()-1;for(;f>0;){for(6===f&&(f-=1);g>=0&&g<l.getHeight();){for(let m=0;m<2;++m){const _=f-m;if(!_e.isEmpty(l.get(_,g)))continue;let E;u<o.getSize()?(E=o.get(u),++u):E=!1,255!==a&&_r.getDataMaskBit(a,_,g)&&(E=!E),l.setBoolean(_,g,E)}g+=d}d=-d,g+=d,f-=2}if(u!==o.getSize())throw new gt("Not all bits consumed: "+u+"/"+o.getSize())}static findMSBSet(o){return 32-Oe.numberOfLeadingZeros(o)}static calculateBCHCode(o,a){if(0===a)throw new he("0 polynomial");const l=_e.findMSBSet(a);for(o<<=l-1;_e.findMSBSet(o)>=l;)o^=a<<_e.findMSBSet(o)-l;return o}static makeTypeInfoBits(o,a,l){if(!_n.isValidMaskPattern(a))throw new gt("Invalid mask pattern");const u=o.getBits()<<3|a;l.appendBits(u,5);const d=_e.calculateBCHCode(u,_e.TYPE_INFO_POLY);l.appendBits(d,10);const f=new it;if(f.appendBits(_e.TYPE_INFO_MASK_PATTERN,15),l.xor(f),15!==l.getSize())throw new gt("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(o,a){a.appendBits(o.getVersionNumber(),6);const l=_e.calculateBCHCode(o.getVersionNumber(),_e.VERSION_INFO_POLY);if(a.appendBits(l,12),18!==a.getSize())throw new gt("should not happen but we got: "+a.getSize())}static isEmpty(o){return 255===o}static embedTimingPatterns(o){for(let a=8;a<o.getWidth()-8;++a){const l=(a+1)%2;_e.isEmpty(o.get(a,6))&&o.setNumber(a,6,l),_e.isEmpty(o.get(6,a))&&o.setNumber(6,a,l)}}static embedDarkDotAtLeftBottomCorner(o){if(0===o.get(8,o.getHeight()-8))throw new gt;o.setNumber(8,o.getHeight()-8,1)}static embedHorizontalSeparationPattern(o,a,l){for(let u=0;u<8;++u){if(!_e.isEmpty(l.get(o+u,a)))throw new gt;l.setNumber(o+u,a,0)}}static embedVerticalSeparationPattern(o,a,l){for(let u=0;u<7;++u){if(!_e.isEmpty(l.get(o,a+u)))throw new gt;l.setNumber(o,a+u,0)}}static embedPositionAdjustmentPattern(o,a,l){for(let u=0;u<5;++u){const d=_e.POSITION_ADJUSTMENT_PATTERN[u];for(let f=0;f<5;++f)l.setNumber(o+f,a+u,d[f])}}static embedPositionDetectionPattern(o,a,l){for(let u=0;u<7;++u){const d=_e.POSITION_DETECTION_PATTERN[u];for(let f=0;f<7;++f)l.setNumber(o+f,a+u,d[f])}}static embedPositionDetectionPatternsAndSeparators(o){const a=_e.POSITION_DETECTION_PATTERN[0].length;_e.embedPositionDetectionPattern(0,0,o),_e.embedPositionDetectionPattern(o.getWidth()-a,0,o),_e.embedPositionDetectionPattern(0,o.getWidth()-a,o);_e.embedHorizontalSeparationPattern(0,7,o),_e.embedHorizontalSeparationPattern(o.getWidth()-8,7,o),_e.embedHorizontalSeparationPattern(0,o.getWidth()-8,o);_e.embedVerticalSeparationPattern(7,0,o),_e.embedVerticalSeparationPattern(o.getHeight()-7-1,0,o),_e.embedVerticalSeparationPattern(7,o.getHeight()-7,o)}static maybeEmbedPositionAdjustmentPatterns(o,a){if(o.getVersionNumber()<2)return;const l=o.getVersionNumber()-1,u=_e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let d=0,f=u.length;d!==f;d++){const g=u[d];if(g>=0)for(let m=0;m!==f;m++){const _=u[m];_>=0&&_e.isEmpty(a.get(_,g))&&_e.embedPositionAdjustmentPattern(_-2,g-2,a)}}}}_e.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),_e.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),_e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),_e.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),_e.VERSION_INFO_POLY=7973,_e.TYPE_INFO_POLY=1335,_e.TYPE_INFO_MASK_PATTERN=21522;class vc{constructor(o,a){this.dataBytes=o,this.errorCorrectionBytes=a}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class mt{constructor(){}static calculateMaskPenalty(o){return _r.applyMaskPenaltyRule1(o)+_r.applyMaskPenaltyRule2(o)+_r.applyMaskPenaltyRule3(o)+_r.applyMaskPenaltyRule4(o)}static encode(o,a,l=null){let u=mt.DEFAULT_BYTE_MODE_ENCODING;const d=null!==l&&void 0!==l.get(Pt.CHARACTER_SET);d&&(u=l.get(Pt.CHARACTER_SET).toString());const f=this.chooseMode(o,u),g=new it;if(f===ye.BYTE&&(d||mt.DEFAULT_BYTE_MODE_ENCODING!==u)){const te=q.getCharacterSetECIByName(u);void 0!==te&&this.appendECI(te,g)}this.appendModeInfo(f,g);const m=new it;let _;if(this.appendBytes(o,f,m,u),null!==l&&void 0!==l.get(Pt.QR_VERSION)){const te=Number.parseInt(l.get(Pt.QR_VERSION).toString(),10);_=se.getVersionForNumber(te);const H=this.calculateBitsNeeded(f,g,m,_);if(!this.willFit(H,_,a))throw new gt("Data too big for requested version")}else _=this.recommendVersion(a,f,g,m);const E=new it;E.appendBitArray(g);const x=f===ye.BYTE?m.getSizeInBytes():o.length;this.appendLengthInfo(x,_,f,E),E.appendBitArray(m);const D=_.getECBlocksForLevel(a),T=_.getTotalCodewords()-D.getTotalECCodewords();this.terminateBits(T,E);const R=this.interleaveWithECBytes(E,_.getTotalCodewords(),T,D.getNumBlocks()),N=new _n;N.setECLevel(a),N.setMode(f),N.setVersion(_);const P=_.getDimensionForVersion(),B=new mo(P,P),X=this.chooseMaskPattern(R,a,_,B);return N.setMaskPattern(X),_e.buildMatrix(R,a,_,X,B),N.setMatrix(B),N}static recommendVersion(o,a,l,u){const d=this.calculateBitsNeeded(a,l,u,se.getVersionForNumber(1)),f=this.chooseVersion(d,o),g=this.calculateBitsNeeded(a,l,u,f);return this.chooseVersion(g,o)}static calculateBitsNeeded(o,a,l,u){return a.getSize()+o.getCharacterCountBits(u)+l.getSize()}static getAlphanumericCode(o){return o<mt.ALPHANUMERIC_TABLE.length?mt.ALPHANUMERIC_TABLE[o]:-1}static chooseMode(o,a=null){if(q.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(o))return ye.KANJI;let l=!1,u=!1;for(let d=0,f=o.length;d<f;++d){const g=o.charAt(d);if(mt.isDigit(g))l=!0;else{if(-1===this.getAlphanumericCode(g.charCodeAt(0)))return ye.BYTE;u=!0}}return u?ye.ALPHANUMERIC:l?ye.NUMERIC:ye.BYTE}static isOnlyDoubleByteKanji(o){let a;try{a=ln.encode(o,q.SJIS)}catch(u){return!1}const l=a.length;if(l%2!=0)return!1;for(let u=0;u<l;u+=2){const d=255&a[u];if((d<129||d>159)&&(d<224||d>235))return!1}return!0}static chooseMaskPattern(o,a,l,u){let d=Number.MAX_SAFE_INTEGER,f=-1;for(let g=0;g<_n.NUM_MASK_PATTERNS;g++){_e.buildMatrix(o,a,l,g,u);let m=this.calculateMaskPenalty(u);m<d&&(d=m,f=g)}return f}static chooseVersion(o,a){for(let l=1;l<=40;l++){const u=se.getVersionForNumber(l);if(mt.willFit(o,u,a))return u}throw new gt("Data too big")}static willFit(o,a,l){return a.getTotalCodewords()-a.getECBlocksForLevel(l).getTotalECCodewords()>=(o+7)/8}static terminateBits(o,a){const l=8*o;if(a.getSize()>l)throw new gt("data bits cannot fit in the QR Code"+a.getSize()+" > "+l);for(let f=0;f<4&&a.getSize()<l;++f)a.appendBit(!1);const u=7&a.getSize();if(u>0)for(let f=u;f<8;f++)a.appendBit(!1);const d=o-a.getSizeInBytes();for(let f=0;f<d;++f)a.appendBits(0==(1&f)?236:17,8);if(a.getSize()!==l)throw new gt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(o,a,l,u,d,f){if(u>=l)throw new gt("Block ID too large");const g=o%l,m=l-g,_=Math.floor(o/l),E=_+1,x=Math.floor(a/l),D=x+1,T=_-x,R=E-D;if(T!==R)throw new gt("EC bytes mismatch");if(l!==m+g)throw new gt("RS blocks mismatch");if(o!==(x+T)*m+(D+R)*g)throw new gt("Total bytes mismatch");u<m?(d[0]=x,f[0]=T):(d[0]=D,f[0]=R)}static interleaveWithECBytes(o,a,l,u){if(o.getSizeInBytes()!==l)throw new gt("Number of bits and data bytes does not match");let d=0,f=0,g=0;const m=new Array;for(let E=0;E<u;++E){const x=new Int32Array(1),D=new Int32Array(1);mt.getNumDataBytesAndNumECBytesForBlockID(a,l,u,E,x,D);const T=x[0],R=new Uint8Array(T);o.toBytes(8*d,R,0,T);const N=mt.generateECBytes(R,D[0]);m.push(new vc(R,N)),f=Math.max(f,T),g=Math.max(g,N.length),d+=x[0]}if(l!==d)throw new gt("Data bytes does not match offset");const _=new it;for(let E=0;E<f;++E)for(const x of m){const D=x.getDataBytes();E<D.length&&_.appendBits(D[E],8)}for(let E=0;E<g;++E)for(const x of m){const D=x.getErrorCorrectionBytes();E<D.length&&_.appendBits(D[E],8)}if(a!==_.getSizeInBytes())throw new gt("Interleaving error: "+a+" and "+_.getSizeInBytes()+" differ.");return _}static generateECBytes(o,a){const l=o.length,u=new Int32Array(l+a);for(let f=0;f<l;f++)u[f]=255&o[f];new tr(st.QR_CODE_FIELD_256).encode(u,a);const d=new Uint8Array(a);for(let f=0;f<a;f++)d[f]=u[l+f];return d}static appendModeInfo(o,a){a.appendBits(o.getBits(),4)}static appendLengthInfo(o,a,l,u){const d=l.getCharacterCountBits(a);if(o>=1<<d)throw new gt(o+" is bigger than "+((1<<d)-1));u.appendBits(o,d)}static appendBytes(o,a,l,u){switch(a){case ye.NUMERIC:mt.appendNumericBytes(o,l);break;case ye.ALPHANUMERIC:mt.appendAlphanumericBytes(o,l);break;case ye.BYTE:mt.append8BitBytes(o,l,u);break;case ye.KANJI:mt.appendKanjiBytes(o,l);break;default:throw new gt("Invalid mode: "+a)}}static getDigit(o){return o.charCodeAt(0)-48}static isDigit(o){const a=mt.getDigit(o);return a>=0&&a<=9}static appendNumericBytes(o,a){const l=o.length;let u=0;for(;u<l;){const d=mt.getDigit(o.charAt(u));if(u+2<l){const f=mt.getDigit(o.charAt(u+1)),g=mt.getDigit(o.charAt(u+2));a.appendBits(100*d+10*f+g,10),u+=3}else if(u+1<l){const f=mt.getDigit(o.charAt(u+1));a.appendBits(10*d+f,7),u+=2}else a.appendBits(d,4),u++}}static appendAlphanumericBytes(o,a){const l=o.length;let u=0;for(;u<l;){const d=mt.getAlphanumericCode(o.charCodeAt(u));if(-1===d)throw new gt;if(u+1<l){const f=mt.getAlphanumericCode(o.charCodeAt(u+1));if(-1===f)throw new gt;a.appendBits(45*d+f,11),u+=2}else a.appendBits(d,6),u++}}static append8BitBytes(o,a,l){let u;try{u=ln.encode(o,l)}catch(d){throw new gt(d)}for(let d=0,f=u.length;d!==f;d++)a.appendBits(u[d],8)}static appendKanjiBytes(o,a){let l;try{l=ln.encode(o,q.SJIS)}catch(d){throw new gt(d)}const u=l.length;for(let d=0;d<u;d+=2){const m=(255&l[d])<<8&4294967295|255&l[d+1];let _=-1;if(m>=33088&&m<=40956?_=m-33088:m>=57408&&m<=60351&&(_=m-49472),-1===_)throw new gt("Invalid byte sequence");a.appendBits(192*(_>>8)+(255&_),13)}}static appendECI(o,a){a.appendBits(ye.ECI.getBits(),4),a.appendBits(o.getValue(),8)}}mt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),mt.DEFAULT_BYTE_MODE_ENCODING=q.UTF8.getName();let Tt=(()=>{class w{write(a,l,u,d=null){if(0===a.length)throw new he("Found empty contents");if(l<0||u<0)throw new he("Requested dimensions are too small: "+l+"x"+u);let f=pt.L,g=w.QUIET_ZONE_SIZE;null!==d&&(void 0!==d.get(Pt.ERROR_CORRECTION)&&(f=pt.fromString(d.get(Pt.ERROR_CORRECTION).toString())),void 0!==d.get(Pt.MARGIN)&&(g=Number.parseInt(d.get(Pt.MARGIN).toString(),10)));const m=mt.encode(a,f,d);return this.renderResult(m,l,u,g)}writeToDom(a,l,u,d,f=null){"string"==typeof a&&(a=document.querySelector(a));const g=this.write(l,u,d,f);a&&a.appendChild(g)}renderResult(a,l,u,d){const f=a.getMatrix();if(null===f)throw new Fr;const g=f.getWidth(),m=f.getHeight(),_=g+2*d,E=m+2*d,x=Math.max(l,_),D=Math.max(u,E),T=Math.min(Math.floor(x/_),Math.floor(D/E)),R=Math.floor((x-g*T)/2),N=Math.floor((D-m*T)/2),P=this.createSVGElement(x,D);for(let B=0,X=N;B<m;B++,X+=T)for(let te=0,H=R;te<g;te++,H+=T)if(1===f.get(te,B)){const Ve=this.createSvgRectElement(H,X,T,T);P.appendChild(Ve)}return P}createSVGElement(a,l){const u=document.createElementNS(w.SVG_NS,"svg");return u.setAttributeNS(null,"height",a.toString()),u.setAttributeNS(null,"width",l.toString()),u}createSvgRectElement(a,l,u,d){const f=document.createElementNS(w.SVG_NS,"rect");return f.setAttributeNS(null,"x",a.toString()),f.setAttributeNS(null,"y",l.toString()),f.setAttributeNS(null,"height",u.toString()),f.setAttributeNS(null,"width",d.toString()),f.setAttributeNS(null,"fill","#000000"),f}}return w.QUIET_ZONE_SIZE=4,w.SVG_NS="http://www.w3.org/2000/svg",w})(),Ec=(()=>{class w{encode(a,l,u,d,f){if(0===a.length)throw new he("Found empty contents");if(l!==ne.QR_CODE)throw new he("Can only encode QR_CODE, but got "+l);if(u<0||d<0)throw new he(`Requested dimensions are too small: ${u}x${d}`);let g=pt.L,m=w.QUIET_ZONE_SIZE;null!==f&&(void 0!==f.get(Pt.ERROR_CORRECTION)&&(g=pt.fromString(f.get(Pt.ERROR_CORRECTION).toString())),void 0!==f.get(Pt.MARGIN)&&(m=Number.parseInt(f.get(Pt.MARGIN).toString(),10)));const _=mt.encode(a,g,f);return w.renderResult(_,u,d,m)}static renderResult(a,l,u,d){const f=a.getMatrix();if(null===f)throw new Fr;const g=f.getWidth(),m=f.getHeight(),_=g+2*d,E=m+2*d,x=Math.max(l,_),D=Math.max(u,E),T=Math.min(Math.floor(x/_),Math.floor(D/E)),R=Math.floor((x-g*T)/2),N=Math.floor((D-m*T)/2),P=new wt(x,D);for(let B=0,X=N;B<m;B++,X+=T)for(let te=0,H=R;te<g;te++,H+=T)1===f.get(te,B)&&P.setRegion(H,X,T,T);return P}}return w.QUIET_ZONE_SIZE=4,w})();let Vt=(()=>{class w extends Ki{constructor(a,l,u,d,f,g,m,_){if(super(g,m),this.yuvData=a,this.dataWidth=l,this.dataHeight=u,this.left=d,this.top=f,d+g>l||f+m>u)throw new he("Crop rectangle does not fit within image data.");_&&this.reverseHorizontal(g,m)}getRow(a,l){if(a<0||a>=this.getHeight())throw new he("Requested row is outside the image: "+a);const u=this.getWidth();return(null==l||l.length<u)&&(l=new Uint8ClampedArray(u)),tt.arraycopy(this.yuvData,(a+this.top)*this.dataWidth+this.left,l,0,u),l}getMatrix(){const a=this.getWidth(),l=this.getHeight();if(a===this.dataWidth&&l===this.dataHeight)return this.yuvData;const u=a*l,d=new Uint8ClampedArray(u);let f=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return tt.arraycopy(this.yuvData,f,d,0,u),d;for(let g=0;g<l;g++)tt.arraycopy(this.yuvData,f,d,g*a,a),f+=this.dataWidth;return d}isCropSupported(){return!0}crop(a,l,u,d){return new w(this.yuvData,this.dataWidth,this.dataHeight,this.left+a,this.top+l,u,d,!1)}renderThumbnail(){const a=this.getWidth()/w.THUMBNAIL_SCALE_FACTOR,l=this.getHeight()/w.THUMBNAIL_SCALE_FACTOR,u=new Int32Array(a*l),d=this.yuvData;let f=this.top*this.dataWidth+this.left;for(let g=0;g<l;g++){const m=g*a;for(let _=0;_<a;_++)u[m+_]=4278190080|65793*(255&d[f+_*w.THUMBNAIL_SCALE_FACTOR]);f+=this.dataWidth*w.THUMBNAIL_SCALE_FACTOR}return u}getThumbnailWidth(){return this.getWidth()/w.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/w.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(a,l){const u=this.yuvData;for(let d=0,f=this.top*this.dataWidth+this.left;d<l;d++,f+=this.dataWidth){const g=f+a/2;for(let m=f,_=f+a-1;m<g;m++,_--){const E=u[m];u[m]=u[_],u[_]=E}}}invert(){return new Zr(this)}}return w.THUMBNAIL_SCALE_FACTOR=2,w})();class dn extends Ki{constructor(o,a,l,u,d,f,g){if(super(a,l),this.dataWidth=u,this.dataHeight=d,this.left=f,this.top=g,4===o.BYTES_PER_ELEMENT){const m=a*l,_=new Uint8ClampedArray(m);for(let E=0;E<m;E++){const x=o[E];_[E]=((x>>16&255)+(x>>7&510)+(255&x))/4&255}this.luminances=_}else this.luminances=o;if(void 0===u&&(this.dataWidth=a),void 0===d&&(this.dataHeight=l),void 0===f&&(this.left=0),void 0===g&&(this.top=0),this.left+a>this.dataWidth||this.top+l>this.dataHeight)throw new he("Crop rectangle does not fit within image data.")}getRow(o,a){if(o<0||o>=this.getHeight())throw new he("Requested row is outside the image: "+o);const l=this.getWidth();return(null==a||a.length<l)&&(a=new Uint8ClampedArray(l)),tt.arraycopy(this.luminances,(o+this.top)*this.dataWidth+this.left,a,0,l),a}getMatrix(){const o=this.getWidth(),a=this.getHeight();if(o===this.dataWidth&&a===this.dataHeight)return this.luminances;const l=o*a,u=new Uint8ClampedArray(l);let d=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return tt.arraycopy(this.luminances,d,u,0,l),u;for(let f=0;f<a;f++)tt.arraycopy(this.luminances,d,u,f*o,o),d+=this.dataWidth;return u}isCropSupported(){return!0}crop(o,a,l,u){return new dn(this.luminances,l,u,this.dataWidth,this.dataHeight,this.left+o,this.top+a)}invert(){return new Zr(this)}}class en extends q{static forName(o){return this.getCharacterSetECIByName(o)}}class wr{}wr.ISO_8859_1=q.ISO8859_1;class si{isCompact(){return this.compact}setCompact(o){this.compact=o}getSize(){return this.size}setSize(o){this.size=o}getLayers(){return this.layers}setLayers(o){this.layers=o}getCodeWords(){return this.codeWords}setCodeWords(o){this.codeWords=o}getMatrix(){return this.matrix}setMatrix(o){this.matrix=o}}class kn{static singletonList(o){return[o]}static min(o,a){return o.sort(a)[0]}}class oi extends class yo{constructor(o){this.previous=o}getPrevious(){return this.previous}}{constructor(o,a,l){super(o),this.value=a,this.bitCount=l}appendTo(o,a){o.appendBits(this.value,this.bitCount)}add(o,a){return new oi(this,o,a)}addBinaryShift(o,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new oi(this,o,a)}toString(){let o=this.value&(1<<this.bitCount)-1;return o|=1<<this.bitCount,"<"+Oe.toBinaryString(o|1<<this.bitCount).substring(1)+">"}}class Ni extends oi{constructor(o,a,l){super(o,0,0),this.binaryShiftStart=a,this.binaryShiftByteCount=l}appendTo(o,a){for(let l=0;l<this.binaryShiftByteCount;l++)(0===l||31===l&&this.binaryShiftByteCount<=62)&&(o.appendBits(31,5),this.binaryShiftByteCount>62?o.appendBits(this.binaryShiftByteCount-31,16):o.appendBits(0===l?Math.min(this.binaryShiftByteCount,31):this.binaryShiftByteCount-31,5)),o.appendBits(a[this.binaryShiftStart+l],8)}addBinaryShift(o,a){return new Ni(this,o,a)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function nr(w,o,a){return new oi(w,o,a)}const hn=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Fn=new oi(null,0,0),Ur=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])];const li=function Gt(w){for(let o of w)zt.fill(o,-1);return w[0][4]=0,w[1][4]=0,w[1][0]=28,w[3][4]=0,w[2][4]=0,w[2][0]=15,w}(zt.createInt32Array(6,6));class ot{constructor(o,a,l,u){this.token=o,this.mode=a,this.binaryShiftByteCount=l,this.bitCount=u}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(o,a){let l=this.bitCount,u=this.token;if(o!==this.mode){let f=Ur[this.mode][o];u=nr(u,65535&f,f>>16),l+=f>>16}let d=2===o?4:5;return u=nr(u,a,d),new ot(u,o,0,l+d)}shiftAndAppend(o,a){let l=this.token,u=2===this.mode?4:5;return l=nr(l,li[this.mode][o],u),l=nr(l,a,5),new ot(l,this.mode,0,this.bitCount+u+5)}addBinaryShiftChar(o){let a=this.token,l=this.mode,u=this.bitCount;if(4===this.mode||2===this.mode){let g=Ur[l][0];a=nr(a,65535&g,g>>16),u+=g>>16,l=0}let f=new ot(a,l,this.binaryShiftByteCount+1,u+(0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8));return 2078===f.binaryShiftByteCount&&(f=f.endBinaryShift(o+1)),f}endBinaryShift(o){if(0===this.binaryShiftByteCount)return this;let a=this.token;return a=function _o(w,o,a){return new Ni(w,o,a)}(a,o-this.binaryShiftByteCount,this.binaryShiftByteCount),new ot(a,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(o){let a=this.bitCount+(Ur[this.mode][o.mode]>>16);return this.binaryShiftByteCount<o.binaryShiftByteCount?a+=ot.calculateBinaryShiftCost(o)-ot.calculateBinaryShiftCost(this):this.binaryShiftByteCount>o.binaryShiftByteCount&&o.binaryShiftByteCount>0&&(a+=10),a<=o.bitCount}toBitArray(o){let a=[];for(let u=this.endBinaryShift(o.length).token;null!==u;u=u.getPrevious())a.unshift(u);let l=new it;for(const u of a)u.appendTo(l,o);return l}toString(){return Se.format("%s bits=%d bytes=%d",hn[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(o){return o.binaryShiftByteCount>62?21:o.binaryShiftByteCount>31?20:o.binaryShiftByteCount>0?10:0}}ot.INITIAL_STATE=new ot(Fn,0,0,0);const ci=function As(w){const o=Se.getCharCode(" "),a=Se.getCharCode("."),l=Se.getCharCode(",");w[0][o]=1;const u=Se.getCharCode("Z"),d=Se.getCharCode("A");for(let D=d;D<=u;D++)w[0][D]=D-d+2;w[1][o]=1;const f=Se.getCharCode("z"),g=Se.getCharCode("a");for(let D=g;D<=f;D++)w[1][D]=D-g+2;w[2][o]=1;const m=Se.getCharCode("9"),_=Se.getCharCode("0");for(let D=_;D<=m;D++)w[2][D]=D-_+2;w[2][l]=12,w[2][a]=13;const E=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"];for(let D=0;D<E.length;D++)w[3][Se.getCharCode(E[D])]=D;const x=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let D=0;D<x.length;D++)Se.getCharCode(x[D])>0&&(w[4][Se.getCharCode(x[D])]=D);return w}(zt.createInt32Array(5,256));class Ie{constructor(o){this.text=o}encode(){const o=Se.getCharCode(" "),a=Se.getCharCode("\n");let l=kn.singletonList(ot.INITIAL_STATE);for(let d=0;d<this.text.length;d++){let f,g=d+1<this.text.length?this.text[d+1]:0;switch(this.text[d]){case Se.getCharCode("\r"):f=g===a?2:0;break;case Se.getCharCode("."):f=g===o?3:0;break;case Se.getCharCode(","):f=g===o?4:0;break;case Se.getCharCode(":"):f=g===o?5:0;break;default:f=0}f>0?(l=Ie.updateStateListForPair(l,d,f),d++):l=this.updateStateListForChar(l,d)}return kn.min(l,(d,f)=>d.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(o,a){const l=[];for(let u of o)this.updateStateForChar(u,a,l);return Ie.simplifyStates(l)}updateStateForChar(o,a,l){let u=255&this.text[a],d=ci[o.getMode()][u]>0,f=null;for(let g=0;g<=4;g++){let m=ci[g][u];if(m>0){if(null==f&&(f=o.endBinaryShift(a)),!d||g===o.getMode()||2===g){const _=f.latchAndAppend(g,m);l.push(_)}if(!d&&li[o.getMode()][g]>=0){const _=f.shiftAndAppend(g,m);l.push(_)}}}if(o.getBinaryShiftByteCount()>0||0===ci[o.getMode()][u]){let g=o.addBinaryShiftChar(a);l.push(g)}}static updateStateListForPair(o,a,l){const u=[];for(let d of o)this.updateStateForPair(d,a,l,u);return this.simplifyStates(u)}static updateStateForPair(o,a,l,u){let d=o.endBinaryShift(a);if(u.push(d.latchAndAppend(4,l)),4!==o.getMode()&&u.push(d.shiftAndAppend(4,l)),3===l||4===l){let f=d.latchAndAppend(2,16-l).latchAndAppend(2,1);u.push(f)}if(o.getBinaryShiftByteCount()>0){let f=o.addBinaryShiftChar(a).addBinaryShiftChar(a+1);u.push(f)}}static simplifyStates(o){let a=[];for(const l of o){let u=!0;for(const d of a){if(d.isBetterThanOrEqualTo(l)){u=!1;break}l.isBetterThanOrEqualTo(d)&&(a=a.filter(f=>f!==d))}u&&a.push(l)}return a}}class He{constructor(){}static encodeBytes(o){return He.encode(o,He.DEFAULT_EC_PERCENT,He.DEFAULT_AZTEC_LAYERS)}static encode(o,a,l){let g,m,_,E,x,u=new Ie(o).encode(),d=Oe.truncDivision(u.getSize()*a,100)+11,f=u.getSize()+d;if(l!==He.DEFAULT_AZTEC_LAYERS){if(g=l<0,m=Math.abs(l),m>(g?He.MAX_NB_BITS_COMPACT:He.MAX_NB_BITS))throw new he(Se.format("Illegal value %s for layers",l));_=He.totalBitsInLayer(m,g),E=He.WORD_SIZE[m];let H=_-_%E;if(x=He.stuffBits(u,E),x.getSize()+d>H)throw new he("Data to large for user specified layer");if(g&&x.getSize()>64*E)throw new he("Data to large for user specified layer")}else{E=0,x=null;for(let H=0;;H++){if(H>He.MAX_NB_BITS)throw new he("Data too large for an Aztec code");if(g=H<=3,m=g?H+1:H,_=He.totalBitsInLayer(m,g),f>_)continue;(null==x||E!==He.WORD_SIZE[m])&&(E=He.WORD_SIZE[m],x=He.stuffBits(u,E));let Ve=_-_%E;if(!(g&&x.getSize()>64*E)&&x.getSize()+d<=Ve)break}}let B,D=He.generateCheckWords(x,_,E),T=x.getSize()/E,R=He.generateModeMessage(g,m,T),N=(g?11:14)+4*m,P=new Int32Array(N);if(g){B=N;for(let H=0;H<P.length;H++)P[H]=H}else{B=N+1+2*Oe.truncDivision(Oe.truncDivision(N,2)-1,15);let H=Oe.truncDivision(N,2),Ve=Oe.truncDivision(B,2);for(let Pe=0;Pe<H;Pe++){let Ln=Pe+Oe.truncDivision(Pe,15);P[H-Pe-1]=Ve-Ln-1,P[H+Pe]=Ve+Ln+1}}let X=new wt(B);for(let H=0,Ve=0;H<m;H++){let Pe=4*(m-H)+(g?9:12);for(let Ln=0;Ln<Pe;Ln++){let vr=2*Ln;for(let Bn=0;Bn<2;Bn++)D.get(Ve+vr+Bn)&&X.set(P[2*H+Bn],P[2*H+Ln]),D.get(Ve+2*Pe+vr+Bn)&&X.set(P[2*H+Ln],P[N-1-2*H-Bn]),D.get(Ve+4*Pe+vr+Bn)&&X.set(P[N-1-2*H-Bn],P[N-1-2*H-Ln]),D.get(Ve+6*Pe+vr+Bn)&&X.set(P[N-1-2*H-Ln],P[2*H+Bn])}Ve+=8*Pe}if(He.drawModeMessage(X,g,B,R),g)He.drawBullsEye(X,Oe.truncDivision(B,2),5);else{He.drawBullsEye(X,Oe.truncDivision(B,2),7);for(let H=0,Ve=0;H<Oe.truncDivision(N,2)-1;H+=15,Ve+=16)for(let Pe=1&Oe.truncDivision(B,2);Pe<B;Pe+=2)X.set(Oe.truncDivision(B,2)-Ve,Pe),X.set(Oe.truncDivision(B,2)+Ve,Pe),X.set(Pe,Oe.truncDivision(B,2)-Ve),X.set(Pe,Oe.truncDivision(B,2)+Ve)}let te=new si;return te.setCompact(g),te.setSize(B),te.setLayers(m),te.setCodeWords(T),te.setMatrix(X),te}static drawBullsEye(o,a,l){for(let u=0;u<l;u+=2)for(let d=a-u;d<=a+u;d++)o.set(d,a-u),o.set(d,a+u),o.set(a-u,d),o.set(a+u,d);o.set(a-l,a-l),o.set(a-l+1,a-l),o.set(a-l,a-l+1),o.set(a+l,a-l),o.set(a+l,a-l+1),o.set(a+l,a+l-1)}static generateModeMessage(o,a,l){let u=new it;return o?(u.appendBits(a-1,2),u.appendBits(l-1,6),u=He.generateCheckWords(u,28,4)):(u.appendBits(a-1,5),u.appendBits(l-1,11),u=He.generateCheckWords(u,40,4)),u}static drawModeMessage(o,a,l,u){let d=Oe.truncDivision(l,2);if(a)for(let f=0;f<7;f++){let g=d-3+f;u.get(f)&&o.set(g,d-5),u.get(f+7)&&o.set(d+5,g),u.get(20-f)&&o.set(g,d+5),u.get(27-f)&&o.set(d-5,g)}else for(let f=0;f<10;f++){let g=d-5+f+Oe.truncDivision(f,5);u.get(f)&&o.set(g,d-7),u.get(f+10)&&o.set(d+7,g),u.get(29-f)&&o.set(g,d+7),u.get(39-f)&&o.set(d-7,g)}}static generateCheckWords(o,a,l){let u=o.getSize()/l,d=new tr(He.getGF(l)),f=Oe.truncDivision(a,l),g=He.bitsToWords(o,l,f);d.encode(g,f-u);let m=a%l,_=new it;_.appendBits(0,m);for(const E of Array.from(g))_.appendBits(E,l);return _}static bitsToWords(o,a,l){let d,f,u=new Int32Array(l);for(d=0,f=o.getSize()/a;d<f;d++){let g=0;for(let m=0;m<a;m++)g|=o.get(d*a+m)?1<<a-m-1:0;u[d]=g}return u}static getGF(o){switch(o){case 4:return st.AZTEC_PARAM;case 6:return st.AZTEC_DATA_6;case 8:return st.AZTEC_DATA_8;case 10:return st.AZTEC_DATA_10;case 12:return st.AZTEC_DATA_12;default:throw new he("Unsupported word size "+o)}}static stuffBits(o,a){let l=new it,u=o.getSize(),d=(1<<a)-2;for(let f=0;f<u;f+=a){let g=0;for(let m=0;m<a;m++)(f+m>=u||o.get(f+m))&&(g|=1<<a-1-m);(g&d)===d?(l.appendBits(g&d,a),f--):0==(g&d)?(l.appendBits(1|g,a),f--):l.appendBits(g,a)}return l}static totalBitsInLayer(o,a){return((a?88:112)+16*o)*o}}He.DEFAULT_EC_PERCENT=33,He.DEFAULT_AZTEC_LAYERS=0,He.MAX_NB_BITS=32,He.MAX_NB_BITS_COMPACT=4,He.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class jr{encode(o,a,l,u){return this.encodeWithHints(o,a,l,u,null)}encodeWithHints(o,a,l,u,d){let f=wr.ISO_8859_1,g=He.DEFAULT_EC_PERCENT,m=He.DEFAULT_AZTEC_LAYERS;return null!=d&&(d.has(Pt.CHARACTER_SET)&&(f=en.forName(d.get(Pt.CHARACTER_SET).toString())),d.has(Pt.ERROR_CORRECTION)&&(g=Oe.parseInt(d.get(Pt.ERROR_CORRECTION).toString())),d.has(Pt.AZTEC_LAYERS)&&(m=Oe.parseInt(d.get(Pt.AZTEC_LAYERS).toString()))),jr.encodeLayers(o,a,l,u,f,g,m)}static encodeLayers(o,a,l,u,d,f,g){if(a!==ne.AZTEC)throw new he("Can only encode AZTEC, but got "+a);let m=He.encode(Se.getBytes(o,d),f,g);return jr.renderResult(m,l,u)}static renderResult(o,a,l){let u=o.getMatrix();if(null==u)throw new Fr;let d=u.getWidth(),f=u.getHeight(),g=Math.max(a,d),m=Math.max(l,f),_=Math.min(g/d,m/f),E=(g-d*_)/2,x=(m-f*_)/2,D=new wt(g,m);for(let T=0,R=x;T<f;T++,R+=_)for(let N=0,P=E;N<d;N++,P+=_)u.get(N,T)&&D.setRegion(P,R,_,_);return D}}Y.ArgumentException=Mn,Y.ArithmeticException=ac,Y.AztecCode=si,Y.AztecCodeReader=Oa,Y.AztecCodeWriter=jr,Y.AztecDecoder=lc,Y.AztecDetector=Bd,Y.AztecDetectorResult=Ld,Y.AztecEncoder=He,Y.AztecHighLevelEncoder=Ie,Y.AztecPoint=gn,Y.BarcodeFormat=ne,Y.Binarizer=Ta,Y.BinaryBitmap=Gn,Y.BitArray=it,Y.BitMatrix=wt,Y.BitSource=bs,Y.BrowserAztecCodeReader=class t0 extends Jr{constructor(o=500){super(new Oa,o)}},Y.BrowserBarcodeReader=class Ha extends Jr{constructor(o=500,a){super(new Ii(a),o,a)}},Y.BrowserCodeReader=Jr,Y.BrowserDatamatrixCodeReader=class Te extends Jr{constructor(o=500){super(new ts,o)}},Y.BrowserMultiFormatReader=class ft extends Jr{constructor(o=null,a=500){const l=new Ri;l.setHints(o),super(l,a)}decodeBitmap(o){return this.reader.decodeWithState(o)}},Y.BrowserPDF417Reader=class go extends Jr{constructor(o=500){super(new un,o)}},Y.BrowserQRCodeReader=class Xa extends Jr{constructor(o=500){super(new Ti,o)}},Y.BrowserQRCodeSvgWriter=Tt,Y.CharacterSetECI=q,Y.ChecksumException=St,Y.Code128Reader=Q,Y.Code39Reader=ao,Y.DataMatrixDecodedBitStreamParser=Lr,Y.DataMatrixReader=ts,Y.DecodeHintType=xt,Y.DecoderResult=ro,Y.DefaultGridSampler=cc,Y.DetectorResult=Ra,Y.EAN13Reader=vs,Y.EncodeHintType=Pt,Y.Exception=an,Y.FormatException=J,Y.GenericGF=st,Y.GenericGFPoly=Rn,Y.GlobalHistogramBinarizer=Bt,Y.GridSampler=Na,Y.GridSamplerInstance=Di,Y.HTMLCanvasElementLuminanceSource=Qr,Y.HybridBinarizer=ae,Y.ITFReader=dt,Y.IllegalArgumentException=he,Y.IllegalStateException=Fr,Y.InvertedLuminanceSource=Zr,Y.LuminanceSource=Ki,Y.MathUtils=Ye,Y.MultiFormatOneDReader=Ii,Y.MultiFormatReader=Ri,Y.MultiFormatWriter=class Cc{encode(o,a,l,u,d){let f;if(a!==ne.QR_CODE)throw new he("No encoder available for format "+a);return f=new Ec,f.encode(o,a,l,u,d)}},Y.NotFoundException=W,Y.OneDReader=jt,Y.PDF417DecodedBitStreamParser=U,Y.PDF417DecoderErrorCorrection=mc,Y.PDF417Reader=un,Y.PDF417ResultMetadata=Br,Y.PerspectiveTransform=mr,Y.PlanarYUVLuminanceSource=Vt,Y.QRCodeByteMatrix=mo,Y.QRCodeDataMask=Yn,Y.QRCodeDecodedBitStreamParser=zd,Y.QRCodeDecoderErrorCorrectionLevel=pt,Y.QRCodeDecoderFormatInformation=yn,Y.QRCodeEncoder=mt,Y.QRCodeEncoderQRCode=_n,Y.QRCodeMaskUtil=_r,Y.QRCodeMatrixUtil=_e,Y.QRCodeMode=ye,Y.QRCodeReader=Ti,Y.QRCodeVersion=se,Y.QRCodeWriter=Ec,Y.RGBLuminanceSource=dn,Y.RSS14Reader=lt,Y.RSSExpandedReader=V,Y.ReaderException=wc,Y.ReedSolomonDecoder=so,Y.ReedSolomonEncoder=tr,Y.ReedSolomonException=io,Y.Result=cn,Y.ResultMetadataType=Ot,Y.ResultPoint=fe,Y.StringUtils=Se,Y.UnsupportedOperationException=$i,Y.VideoInputDevice=oc,Y.WhiteRectangleDetector=gr,Y.WriterException=gt,Y.ZXingArrays=zt,Y.ZXingCharset=en,Y.ZXingInteger=Oe,Y.ZXingStandardCharsets=wr,Y.ZXingStringBuilder=nt,Y.ZXingStringEncoding=ln,Y.ZXingSystem=tt,Object.defineProperty(Y,"__esModule",{value:!0})}(ic)}},rc=>{rc(rc.s=963)}]);